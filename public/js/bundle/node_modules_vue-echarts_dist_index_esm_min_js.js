/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["node_modules_vue-echarts_dist_index_esm_min_js"],{

/***/ "./node_modules/@vue/composition-api/dist/vue-composition-api.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@vue/composition-api/dist/vue-composition-api.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"computed\": () => (/* binding */ computed),\n/* harmony export */   \"createApp\": () => (/* binding */ createApp),\n/* harmony export */   \"createRef\": () => (/* binding */ createRef),\n/* harmony export */   \"customRef\": () => (/* binding */ customRef),\n/* harmony export */   \"defineAsyncComponent\": () => (/* binding */ defineAsyncComponent),\n/* harmony export */   \"defineComponent\": () => (/* binding */ defineComponent),\n/* harmony export */   \"del\": () => (/* binding */ del),\n/* harmony export */   \"getCurrentInstance\": () => (/* binding */ getCurrentInstance),\n/* harmony export */   \"h\": () => (/* binding */ createElement),\n/* harmony export */   \"inject\": () => (/* binding */ inject),\n/* harmony export */   \"isRaw\": () => (/* binding */ isRaw),\n/* harmony export */   \"isReactive\": () => (/* binding */ isReactive),\n/* harmony export */   \"isReadonly\": () => (/* binding */ isReadonly),\n/* harmony export */   \"isRef\": () => (/* binding */ isRef),\n/* harmony export */   \"markRaw\": () => (/* binding */ markRaw),\n/* harmony export */   \"nextTick\": () => (/* binding */ nextTick),\n/* harmony export */   \"onActivated\": () => (/* binding */ onActivated),\n/* harmony export */   \"onBeforeMount\": () => (/* binding */ onBeforeMount),\n/* harmony export */   \"onBeforeUnmount\": () => (/* binding */ onBeforeUnmount),\n/* harmony export */   \"onBeforeUpdate\": () => (/* binding */ onBeforeUpdate),\n/* harmony export */   \"onDeactivated\": () => (/* binding */ onDeactivated),\n/* harmony export */   \"onErrorCaptured\": () => (/* binding */ onErrorCaptured),\n/* harmony export */   \"onMounted\": () => (/* binding */ onMounted),\n/* harmony export */   \"onServerPrefetch\": () => (/* binding */ onServerPrefetch),\n/* harmony export */   \"onUnmounted\": () => (/* binding */ onUnmounted),\n/* harmony export */   \"onUpdated\": () => (/* binding */ onUpdated),\n/* harmony export */   \"provide\": () => (/* binding */ provide),\n/* harmony export */   \"proxyRefs\": () => (/* binding */ proxyRefs),\n/* harmony export */   \"reactive\": () => (/* binding */ reactive),\n/* harmony export */   \"readonly\": () => (/* binding */ readonly),\n/* harmony export */   \"ref\": () => (/* binding */ ref),\n/* harmony export */   \"set\": () => (/* binding */ set$1),\n/* harmony export */   \"shallowReactive\": () => (/* binding */ shallowReactive),\n/* harmony export */   \"shallowReadonly\": () => (/* binding */ shallowReadonly),\n/* harmony export */   \"shallowRef\": () => (/* binding */ shallowRef),\n/* harmony export */   \"toRaw\": () => (/* binding */ toRaw),\n/* harmony export */   \"toRef\": () => (/* binding */ toRef),\n/* harmony export */   \"toRefs\": () => (/* binding */ toRefs),\n/* harmony export */   \"triggerRef\": () => (/* binding */ triggerRef),\n/* harmony export */   \"unref\": () => (/* binding */ unref),\n/* harmony export */   \"useCSSModule\": () => (/* binding */ useCSSModule),\n/* harmony export */   \"useCssModule\": () => (/* binding */ useCssModule),\n/* harmony export */   \"version\": () => (/* binding */ version),\n/* harmony export */   \"warn\": () => (/* binding */ warn),\n/* harmony export */   \"watch\": () => (/* binding */ watch),\n/* harmony export */   \"watchEffect\": () => (/* binding */ watchEffect)\n/* harmony export */ });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.esm.js\");\n\n\nvar toString = function (x) { return Object.prototype.toString.call(x); };\r\nfunction isNative(Ctor) {\r\n    return typeof Ctor === 'function' && /native code/.test(Ctor.toString());\r\n}\r\nvar hasSymbol = typeof Symbol !== 'undefined' &&\r\n    isNative(Symbol) &&\r\n    typeof Reflect !== 'undefined' &&\r\n    isNative(Reflect.ownKeys);\r\nvar noopFn = function (_) { return _; };\r\nfunction proxy(target, key, _a) {\r\n    var get = _a.get, set = _a.set;\r\n    Object.defineProperty(target, key, {\r\n        enumerable: true,\r\n        configurable: true,\r\n        get: get || noopFn,\r\n        set: set || noopFn,\r\n    });\r\n}\r\nfunction def(obj, key, val, enumerable) {\r\n    Object.defineProperty(obj, key, {\r\n        value: val,\r\n        enumerable: !!enumerable,\r\n        writable: true,\r\n        configurable: true,\r\n    });\r\n}\r\nfunction hasOwn(obj, key) {\r\n    return Object.hasOwnProperty.call(obj, key);\r\n}\r\nfunction assert(condition, msg) {\r\n    if (!condition) {\r\n        throw new Error(\"[vue-composition-api] \" + msg);\r\n    }\r\n}\r\nfunction isPrimitive(value) {\r\n    return (typeof value === 'string' ||\r\n        typeof value === 'number' ||\r\n        // $flow-disable-line\r\n        typeof value === 'symbol' ||\r\n        typeof value === 'boolean');\r\n}\r\nfunction isArray(x) {\r\n    return Array.isArray(x);\r\n}\r\nvar objectToString = Object.prototype.toString;\r\nvar toTypeString = function (value) {\r\n    return objectToString.call(value);\r\n};\r\nvar isMap = function (val) {\r\n    return toTypeString(val) === '[object Map]';\r\n};\r\nvar isSet = function (val) {\r\n    return toTypeString(val) === '[object Set]';\r\n};\r\nvar MAX_VALID_ARRAY_LENGTH = 4294967295; // Math.pow(2, 32) - 1\r\nfunction isValidArrayIndex(val) {\r\n    var n = parseFloat(String(val));\r\n    return (n >= 0 &&\r\n        Math.floor(n) === n &&\r\n        isFinite(val) &&\r\n        n <= MAX_VALID_ARRAY_LENGTH);\r\n}\r\nfunction isObject(val) {\r\n    return val !== null && typeof val === 'object';\r\n}\r\nfunction isPlainObject(x) {\r\n    return toString(x) === '[object Object]';\r\n}\r\nfunction isFunction(x) {\r\n    return typeof x === 'function';\r\n}\r\nfunction isUndef(v) {\r\n    return v === undefined || v === null;\r\n}\r\nfunction warn$1(msg, vm) {\r\n    vue__WEBPACK_IMPORTED_MODULE_0__.default.util.warn(msg, vm);\r\n}\r\nfunction logError(err, vm, info) {\r\n    if ((true)) {\r\n        warn$1(\"Error in \" + info + \": \\\"\" + err.toString() + \"\\\"\", vm);\r\n    }\r\n    if (typeof window !== 'undefined' && typeof console !== 'undefined') {\r\n        console.error(err);\r\n    }\r\n    else {\r\n        throw err;\r\n    }\r\n}\n\nvar vueDependency = undefined;\r\ntry {\r\n    var requiredVue = require('vue');\r\n    if (requiredVue && isVue(requiredVue)) {\r\n        vueDependency = requiredVue;\r\n    }\r\n    else if (requiredVue &&\r\n        'default' in requiredVue &&\r\n        isVue(requiredVue.default)) {\r\n        vueDependency = requiredVue.default;\r\n    }\r\n}\r\ncatch (_a) {\r\n    // not available\r\n}\r\nvar vueConstructor = null;\r\nvar currentInstance = null;\r\nvar PluginInstalledFlag = '__composition_api_installed__';\r\nfunction isVue(obj) {\r\n    return obj && typeof obj === 'function' && obj.name === 'Vue';\r\n}\r\nfunction isVueRegistered(Vue) {\r\n    return hasOwn(Vue, PluginInstalledFlag);\r\n}\r\nfunction getVueConstructor() {\r\n    if ((true)) {\r\n        assert(vueConstructor, \"must call Vue.use(VueCompositionAPI) before using any function.\");\r\n    }\r\n    return vueConstructor;\r\n}\r\n// returns registered vue or `vue` dependency\r\nfunction getRegisteredVueOrDefault() {\r\n    var constructor = vueConstructor || vueDependency;\r\n    if ((true)) {\r\n        assert(constructor, \"No vue dependency found.\");\r\n    }\r\n    return constructor;\r\n}\r\nfunction setVueConstructor(Vue) {\r\n    // @ts-ignore\r\n    if (( true) && vueConstructor && Vue.__proto__ !== vueConstructor.__proto__) {\r\n        warn$1('[vue-composition-api] another instance of Vue installed');\r\n    }\r\n    vueConstructor = Vue;\r\n    Object.defineProperty(Vue, PluginInstalledFlag, {\r\n        configurable: true,\r\n        writable: true,\r\n        value: true,\r\n    });\r\n}\r\nfunction setCurrentInstance(vm) {\r\n    // currentInstance?.$scopedSlots\r\n    currentInstance = vm;\r\n}\r\nfunction getCurrentVue2Instance() {\r\n    return currentInstance;\r\n}\r\nfunction getCurrentInstance() {\r\n    if (currentInstance) {\r\n        return toVue3ComponentInstance(currentInstance);\r\n    }\r\n    return null;\r\n}\r\nvar instanceMapCache = new WeakMap();\r\nfunction toVue3ComponentInstance(vue2Instance) {\r\n    if (instanceMapCache.has(vue2Instance)) {\r\n        return instanceMapCache.get(vue2Instance);\r\n    }\r\n    var instance = {\r\n        proxy: vue2Instance,\r\n        update: vue2Instance.$forceUpdate,\r\n        uid: vue2Instance._uid,\r\n        // $emit is defined on prototype and it expected to be bound\r\n        emit: vue2Instance.$emit.bind(vue2Instance),\r\n        parent: null,\r\n        root: null, // to be immediately set\r\n    };\r\n    // map vm.$props =\r\n    var instanceProps = [\r\n        'data',\r\n        'props',\r\n        'attrs',\r\n        'refs',\r\n        'vnode',\r\n        'slots',\r\n    ];\r\n    instanceProps.forEach(function (prop) {\r\n        proxy(instance, prop, {\r\n            get: function () {\r\n                return vue2Instance[\"$\" + prop];\r\n            },\r\n        });\r\n    });\r\n    proxy(instance, 'isMounted', {\r\n        get: function () {\r\n            // @ts-expect-error private api\r\n            return vue2Instance._isMounted;\r\n        },\r\n    });\r\n    proxy(instance, 'isUnmounted', {\r\n        get: function () {\r\n            // @ts-expect-error private api\r\n            return vue2Instance._isDestroyed;\r\n        },\r\n    });\r\n    proxy(instance, 'isDeactivated', {\r\n        get: function () {\r\n            // @ts-expect-error private api\r\n            return vue2Instance._inactive;\r\n        },\r\n    });\r\n    proxy(instance, 'emitted', {\r\n        get: function () {\r\n            // @ts-expect-error private api\r\n            return vue2Instance._events;\r\n        },\r\n    });\r\n    instanceMapCache.set(vue2Instance, instance);\r\n    if (vue2Instance.$parent) {\r\n        instance.parent = toVue3ComponentInstance(vue2Instance.$parent);\r\n    }\r\n    if (vue2Instance.$root) {\r\n        instance.root = toVue3ComponentInstance(vue2Instance.$root);\r\n    }\r\n    return instance;\r\n}\n\nfunction currentVMInFn(hook) {\r\n    var vm = getCurrentInstance();\r\n    if (( true) && !vm) {\r\n        warn$1(hook + \" is called when there is no active component instance to be \" +\r\n            \"associated with. \" +\r\n            \"Lifecycle injection APIs can only be used during execution of setup().\");\r\n    }\r\n    return vm === null || vm === void 0 ? void 0 : vm.proxy;\r\n}\r\nfunction defineComponentInstance(Ctor, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var silent = Ctor.config.silent;\r\n    Ctor.config.silent = true;\r\n    var vm = new Ctor(options);\r\n    Ctor.config.silent = silent;\r\n    return vm;\r\n}\r\nfunction isComponentInstance(obj) {\r\n    var Vue = getVueConstructor();\r\n    return Vue && obj instanceof Vue;\r\n}\r\nfunction createSlotProxy(vm, slotName) {\r\n    return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (!vm.$scopedSlots[slotName]) {\r\n            if ((true))\r\n                return warn$1(\"slots.\" + slotName + \"() got called outside of the \\\"render()\\\" scope\", vm);\r\n            return;\r\n        }\r\n        return vm.$scopedSlots[slotName].apply(vm, args);\r\n    };\r\n}\r\nfunction resolveSlots(slots, normalSlots) {\r\n    var res;\r\n    if (!slots) {\r\n        res = {};\r\n    }\r\n    else if (slots._normalized) {\r\n        // fast path 1: child component re-render only, parent did not change\r\n        return slots._normalized;\r\n    }\r\n    else {\r\n        res = {};\r\n        for (var key in slots) {\r\n            if (slots[key] && key[0] !== '$') {\r\n                res[key] = true;\r\n            }\r\n        }\r\n    }\r\n    // expose normal slots on scopedSlots\r\n    for (var key in normalSlots) {\r\n        if (!(key in res)) {\r\n            res[key] = true;\r\n        }\r\n    }\r\n    return res;\r\n}\r\nvar vueInternalClasses;\r\nvar getVueInternalClasses = function () {\r\n    if (!vueInternalClasses) {\r\n        var vm = defineComponentInstance(getVueConstructor(), {\r\n            computed: {\r\n                value: function () {\r\n                    return 0;\r\n                },\r\n            },\r\n        });\r\n        // to get Watcher class\r\n        var Watcher = vm._computedWatchers.value.constructor;\r\n        // to get Dep class\r\n        var Dep = vm._data.__ob__.dep.constructor;\r\n        vueInternalClasses = {\r\n            Watcher: Watcher,\r\n            Dep: Dep,\r\n        };\r\n        vm.$destroy();\r\n    }\r\n    return vueInternalClasses;\r\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\n\nfunction createSymbol(name) {\r\n    return hasSymbol ? Symbol.for(name) : name;\r\n}\r\nvar WatcherPreFlushQueueKey = createSymbol('composition-api.preFlushQueue');\r\nvar WatcherPostFlushQueueKey = createSymbol('composition-api.postFlushQueue');\r\n// must be a string, symbol key is ignored in reactive\r\nvar RefKey = 'composition-api.refKey';\n\nvar accessModifiedSet = new WeakMap();\r\nvar rawSet = new WeakMap();\r\nvar readonlySet = new WeakMap();\n\nvar RefImpl = /** @class */ (function () {\r\n    function RefImpl(_a) {\r\n        var get = _a.get, set = _a.set;\r\n        proxy(this, 'value', {\r\n            get: get,\r\n            set: set,\r\n        });\r\n    }\r\n    return RefImpl;\r\n}());\r\nfunction createRef(options, readonly) {\r\n    var r = new RefImpl(options);\r\n    // seal the ref, this could prevent ref from being observed\r\n    // It's safe to seal the ref, since we really shouldn't extend it.\r\n    // related issues: #79\r\n    var sealed = Object.seal(r);\r\n    readonlySet.set(sealed, true);\r\n    return sealed;\r\n}\r\nfunction ref(raw) {\r\n    var _a;\r\n    if (isRef(raw)) {\r\n        return raw;\r\n    }\r\n    var value = reactive((_a = {}, _a[RefKey] = raw, _a));\r\n    return createRef({\r\n        get: function () { return value[RefKey]; },\r\n        set: function (v) { return (value[RefKey] = v); },\r\n    });\r\n}\r\nfunction isRef(value) {\r\n    return value instanceof RefImpl;\r\n}\r\nfunction unref(ref) {\r\n    return isRef(ref) ? ref.value : ref;\r\n}\r\nfunction toRefs(obj) {\r\n    if (( true) && !isReactive(obj)) {\r\n        warn$1(\"toRefs() expects a reactive object but received a plain one.\");\r\n    }\r\n    if (!isPlainObject(obj))\r\n        return obj;\r\n    var ret = {};\r\n    for (var key in obj) {\r\n        ret[key] = toRef(obj, key);\r\n    }\r\n    return ret;\r\n}\r\nfunction customRef(factory) {\r\n    var version = ref(0);\r\n    return createRef(factory(function () { return void version.value; }, function () {\r\n        ++version.value;\r\n    }));\r\n}\r\nfunction toRef(object, key) {\r\n    var v = object[key];\r\n    if (isRef(v))\r\n        return v;\r\n    return createRef({\r\n        get: function () { return object[key]; },\r\n        set: function (v) { return (object[key] = v); },\r\n    });\r\n}\r\nfunction shallowRef(raw) {\r\n    var _a;\r\n    if (isRef(raw)) {\r\n        return raw;\r\n    }\r\n    var value = shallowReactive((_a = {}, _a[RefKey] = raw, _a));\r\n    return createRef({\r\n        get: function () { return value[RefKey]; },\r\n        set: function (v) { return (value[RefKey] = v); },\r\n    });\r\n}\r\nfunction triggerRef(value) {\r\n    if (!isRef(value))\r\n        return;\r\n    value.value = value.value;\r\n}\r\nfunction proxyRefs(objectWithRefs) {\r\n    var _a, e_1, _b;\r\n    if (isReactive(objectWithRefs)) {\r\n        return objectWithRefs;\r\n    }\r\n    var value = reactive((_a = {}, _a[RefKey] = objectWithRefs, _a));\r\n    var _loop_1 = function (key) {\r\n        proxy(value, key, {\r\n            get: function () {\r\n                if (isRef(value[RefKey][key])) {\r\n                    return value[RefKey][key].value;\r\n                }\r\n                return value[RefKey][key];\r\n            },\r\n            set: function (v) {\r\n                if (isRef(value[RefKey][key])) {\r\n                    return (value[RefKey][key].value = unref(v));\r\n                }\r\n                value[RefKey][key] = unref(v);\r\n            },\r\n        });\r\n    };\r\n    try {\r\n        for (var _c = __values(Object.keys(objectWithRefs)), _d = _c.next(); !_d.done; _d = _c.next()) {\r\n            var key = _d.value;\r\n            _loop_1(key);\r\n        }\r\n    }\r\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n    finally {\r\n        try {\r\n            if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\r\n        }\r\n        finally { if (e_1) throw e_1.error; }\r\n    }\r\n    return value;\r\n}\n\nfunction isRaw(obj) {\r\n    var _a;\r\n    return Boolean(obj &&\r\n        hasOwn(obj, '__ob__') &&\r\n        typeof obj.__ob__ === 'object' &&\r\n        ((_a = obj.__ob__) === null || _a === void 0 ? void 0 : _a.__raw__));\r\n}\r\nfunction isReactive(obj) {\r\n    var _a;\r\n    return Boolean(obj &&\r\n        hasOwn(obj, '__ob__') &&\r\n        typeof obj.__ob__ === 'object' &&\r\n        !((_a = obj.__ob__) === null || _a === void 0 ? void 0 : _a.__raw__));\r\n}\r\n/**\r\n * Proxing property access of target.\r\n * We can do unwrapping and other things here.\r\n */\r\nfunction setupAccessControl(target) {\r\n    if (!isPlainObject(target) ||\r\n        isRaw(target) ||\r\n        isArray(target) ||\r\n        isRef(target) ||\r\n        isComponentInstance(target) ||\r\n        accessModifiedSet.has(target))\r\n        return;\r\n    accessModifiedSet.set(target, true);\r\n    var keys = Object.keys(target);\r\n    for (var i = 0; i < keys.length; i++) {\r\n        defineAccessControl(target, keys[i]);\r\n    }\r\n}\r\n/**\r\n * Auto unwrapping when access property\r\n */\r\nfunction defineAccessControl(target, key, val) {\r\n    if (key === '__ob__')\r\n        return;\r\n    if (isRaw(target[key]))\r\n        return;\r\n    var getter;\r\n    var setter;\r\n    var property = Object.getOwnPropertyDescriptor(target, key);\r\n    if (property) {\r\n        if (property.configurable === false) {\r\n            return;\r\n        }\r\n        getter = property.get;\r\n        setter = property.set;\r\n        if ((!getter || setter) /* not only have getter */ &&\r\n            arguments.length === 2) {\r\n            val = target[key];\r\n        }\r\n    }\r\n    setupAccessControl(val);\r\n    proxy(target, key, {\r\n        get: function getterHandler() {\r\n            var value = getter ? getter.call(target) : val;\r\n            // if the key is equal to RefKey, skip the unwrap logic\r\n            if (key !== RefKey && isRef(value)) {\r\n                return value.value;\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        },\r\n        set: function setterHandler(newVal) {\r\n            if (getter && !setter)\r\n                return;\r\n            var value = getter ? getter.call(target) : val;\r\n            // If the key is equal to RefKey, skip the unwrap logic\r\n            // If and only if \"value\" is ref and \"newVal\" is not a ref,\r\n            // the assignment should be proxied to \"value\" ref.\r\n            if (key !== RefKey && isRef(value) && !isRef(newVal)) {\r\n                value.value = newVal;\r\n            }\r\n            else if (setter) {\r\n                setter.call(target, newVal);\r\n            }\r\n            else {\r\n                val = newVal;\r\n            }\r\n            setupAccessControl(newVal);\r\n        },\r\n    });\r\n}\r\nfunction observe(obj) {\r\n    var Vue = getRegisteredVueOrDefault();\r\n    var observed;\r\n    if (Vue.observable) {\r\n        observed = Vue.observable(obj);\r\n    }\r\n    else {\r\n        var vm = defineComponentInstance(Vue, {\r\n            data: {\r\n                $$state: obj,\r\n            },\r\n        });\r\n        observed = vm._data.$$state;\r\n    }\r\n    // in SSR, there is no __ob__. Mock for reactivity check\r\n    if (!hasOwn(observed, '__ob__')) {\r\n        mockReactivityDeep(observed);\r\n    }\r\n    return observed;\r\n}\r\n/**\r\n * Mock __ob__ for object recursively\r\n */\r\nfunction mockReactivityDeep(obj, seen) {\r\n    var e_1, _a;\r\n    if (seen === void 0) { seen = new Set(); }\r\n    if (seen.has(obj))\r\n        return;\r\n    def(obj, '__ob__', mockObserver(obj));\r\n    seen.add(obj);\r\n    try {\r\n        for (var _b = __values(Object.keys(obj)), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n            var key = _c.value;\r\n            var value = obj[key];\r\n            if (!(isPlainObject(value) || isArray(value)) ||\r\n                isRaw(value) ||\r\n                !Object.isExtensible(value)) {\r\n                continue;\r\n            }\r\n            mockReactivityDeep(value, seen);\r\n        }\r\n    }\r\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n    finally {\r\n        try {\r\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n        }\r\n        finally { if (e_1) throw e_1.error; }\r\n    }\r\n}\r\nfunction mockObserver(value) {\r\n    if (value === void 0) { value = {}; }\r\n    return {\r\n        value: value,\r\n        dep: {\r\n            notify: noopFn,\r\n            depend: noopFn,\r\n            addSub: noopFn,\r\n            removeSub: noopFn,\r\n        },\r\n    };\r\n}\r\nfunction createObserver() {\r\n    return observe({}).__ob__;\r\n}\r\nfunction shallowReactive(obj) {\r\n    var e_2, _a;\r\n    if (!isObject(obj)) {\r\n        if ((true)) {\r\n            warn$1('\"shallowReactive()\" must be called on an object.');\r\n        }\r\n        return obj;\r\n    }\r\n    if (!(isPlainObject(obj) || isArray(obj)) ||\r\n        isRaw(obj) ||\r\n        !Object.isExtensible(obj)) {\r\n        return obj;\r\n    }\r\n    var observed = observe(isArray(obj) ? [] : {});\r\n    setupAccessControl(observed);\r\n    var ob = observed.__ob__;\r\n    var _loop_1 = function (key) {\r\n        var val = obj[key];\r\n        var getter;\r\n        var setter;\r\n        var property = Object.getOwnPropertyDescriptor(obj, key);\r\n        if (property) {\r\n            if (property.configurable === false) {\r\n                return \"continue\";\r\n            }\r\n            getter = property.get;\r\n            setter = property.set;\r\n        }\r\n        proxy(observed, key, {\r\n            get: function getterHandler() {\r\n                var _a;\r\n                var value = getter ? getter.call(obj) : val;\r\n                (_a = ob.dep) === null || _a === void 0 ? void 0 : _a.depend();\r\n                return value;\r\n            },\r\n            set: function setterHandler(newVal) {\r\n                var _a;\r\n                if (getter && !setter)\r\n                    return;\r\n                if (setter) {\r\n                    setter.call(obj, newVal);\r\n                }\r\n                else {\r\n                    val = newVal;\r\n                }\r\n                (_a = ob.dep) === null || _a === void 0 ? void 0 : _a.notify();\r\n            },\r\n        });\r\n    };\r\n    try {\r\n        for (var _b = __values(Object.keys(obj)), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n            var key = _c.value;\r\n            _loop_1(key);\r\n        }\r\n    }\r\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n    finally {\r\n        try {\r\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n        }\r\n        finally { if (e_2) throw e_2.error; }\r\n    }\r\n    return observed;\r\n}\r\n/**\r\n * Make obj reactivity\r\n */\r\nfunction reactive(obj) {\r\n    if (!isObject(obj)) {\r\n        if ((true)) {\r\n            warn$1('\"reactive()\" must be called on an object.');\r\n        }\r\n        return obj;\r\n    }\r\n    if (!(isPlainObject(obj) || isArray(obj)) ||\r\n        isRaw(obj) ||\r\n        !Object.isExtensible(obj)) {\r\n        return obj;\r\n    }\r\n    var observed = observe(obj);\r\n    setupAccessControl(observed);\r\n    return observed;\r\n}\r\n/**\r\n * Make sure obj can't be a reactive\r\n */\r\nfunction markRaw(obj) {\r\n    if (!(isPlainObject(obj) || isArray(obj)) || !Object.isExtensible(obj)) {\r\n        return obj;\r\n    }\r\n    // set the vue observable flag at obj\r\n    var ob = createObserver();\r\n    ob.__raw__ = true;\r\n    def(obj, '__ob__', ob);\r\n    // mark as Raw\r\n    rawSet.set(obj, true);\r\n    return obj;\r\n}\r\nfunction toRaw(observed) {\r\n    var _a, _b;\r\n    if (isRaw(observed) || !Object.isExtensible(observed)) {\r\n        return observed;\r\n    }\r\n    return ((_b = (_a = observed) === null || _a === void 0 ? void 0 : _a.__ob__) === null || _b === void 0 ? void 0 : _b.value) || observed;\r\n}\n\nfunction isReadonly(obj) {\r\n    return readonlySet.has(obj);\r\n}\r\n/**\r\n * **In @vue/composition-api, `reactive` only provides type-level readonly check**\r\n *\r\n * Creates a readonly copy of the original object. Note the returned copy is not\r\n * made reactive, but `readonly` can be called on an already reactive object.\r\n */\r\nfunction readonly(target) {\r\n    if (( true) && !isObject(target)) {\r\n        warn$1(\"value cannot be made reactive: \" + String(target));\r\n    }\r\n    return target;\r\n}\r\nfunction shallowReadonly(obj) {\r\n    var e_1, _a;\r\n    if (!isObject(obj)) {\r\n        if ((true)) {\r\n            warn$1(\"value cannot be made reactive: \" + String(obj));\r\n        }\r\n        return obj;\r\n    }\r\n    if (!(isPlainObject(obj) || isArray(obj)) ||\r\n        (!Object.isExtensible(obj) && !isRef(obj))) {\r\n        return obj;\r\n    }\r\n    var readonlyObj = isRef(obj)\r\n        ? new RefImpl({})\r\n        : isReactive(obj)\r\n            ? observe({})\r\n            : {};\r\n    var source = reactive({});\r\n    var ob = source.__ob__;\r\n    var _loop_1 = function (key) {\r\n        var val = obj[key];\r\n        var getter;\r\n        var property = Object.getOwnPropertyDescriptor(obj, key);\r\n        if (property) {\r\n            if (property.configurable === false && !isRef(obj)) {\r\n                return \"continue\";\r\n            }\r\n            getter = property.get;\r\n        }\r\n        proxy(readonlyObj, key, {\r\n            get: function getterHandler() {\r\n                var value = getter ? getter.call(obj) : val;\r\n                ob.dep.depend();\r\n                return value;\r\n            },\r\n            set: function (v) {\r\n                if ((true)) {\r\n                    warn$1(\"Set operation on key \\\"\" + key + \"\\\" failed: target is readonly.\");\r\n                }\r\n            },\r\n        });\r\n    };\r\n    try {\r\n        for (var _b = __values(Object.keys(obj)), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n            var key = _c.value;\r\n            _loop_1(key);\r\n        }\r\n    }\r\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n    finally {\r\n        try {\r\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n        }\r\n        finally { if (e_1) throw e_1.error; }\r\n    }\r\n    readonlySet.set(readonlyObj, true);\r\n    return readonlyObj;\r\n}\n\n/**\r\n * Set a property on an object. Adds the new property, triggers change\r\n * notification and intercept it's subsequent access if the property doesn't\r\n * already exist.\r\n */\r\nfunction set$1(target, key, val) {\r\n    var _a;\r\n    var Vue = getVueConstructor();\r\n    // @ts-expect-error https://github.com/vuejs/vue/pull/12132\r\n    var _b = Vue.util, warn = _b.warn, defineReactive = _b.defineReactive;\r\n    if (( true) && (isUndef(target) || isPrimitive(target))) {\r\n        warn(\"Cannot set reactive property on undefined, null, or primitive value: \" + target);\r\n    }\r\n    if (isArray(target)) {\r\n        if (isValidArrayIndex(key)) {\r\n            target.length = Math.max(target.length, key);\r\n            target.splice(key, 1, val);\r\n            return val;\r\n        }\r\n        else if (key === 'length' && val !== target.length) {\r\n            target.length = val;\r\n            (_a = target.__ob__) === null || _a === void 0 ? void 0 : _a.dep.notify();\r\n            return val;\r\n        }\r\n    }\r\n    if (key in target && !(key in Object.prototype)) {\r\n        target[key] = val;\r\n        return val;\r\n    }\r\n    var ob = target.__ob__;\r\n    if (target._isVue || (ob && ob.vmCount)) {\r\n        ( true) &&\r\n            warn('Avoid adding reactive properties to a Vue instance or its root $data ' +\r\n                'at runtime - declare it upfront in the data option.');\r\n        return val;\r\n    }\r\n    if (!ob) {\r\n        target[key] = val;\r\n        return val;\r\n    }\r\n    defineReactive(ob.value, key, val);\r\n    // IMPORTANT: define access control before trigger watcher\r\n    defineAccessControl(target, key, val);\r\n    ob.dep.notify();\r\n    return val;\r\n}\n\n/**\r\n * Delete a property and trigger change if necessary.\r\n */\r\nfunction del(target, key) {\r\n    var Vue = getVueConstructor();\r\n    var warn = Vue.util.warn;\r\n    if (( true) && (isUndef(target) || isPrimitive(target))) {\r\n        warn(\"Cannot delete reactive property on undefined, null, or primitive value: \" + target);\r\n    }\r\n    if (isArray(target) && isValidArrayIndex(key)) {\r\n        target.splice(key, 1);\r\n        return;\r\n    }\r\n    var ob = target.__ob__;\r\n    if (target._isVue || (ob && ob.vmCount)) {\r\n        ( true) &&\r\n            warn('Avoid deleting properties on a Vue instance or its root $data ' +\r\n                '- just set it to null.');\r\n        return;\r\n    }\r\n    if (!hasOwn(target, key)) {\r\n        return;\r\n    }\r\n    delete target[key];\r\n    if (!ob) {\r\n        return;\r\n    }\r\n    ob.dep.notify();\r\n}\n\nvar genName = function (name) { return \"on\" + (name[0].toUpperCase() + name.slice(1)); };\r\nfunction createLifeCycle(lifeCyclehook) {\r\n    return function (callback) {\r\n        var vm = currentVMInFn(genName(lifeCyclehook));\r\n        if (vm) {\r\n            injectHookOption(getVueConstructor(), vm, lifeCyclehook, callback);\r\n        }\r\n    };\r\n}\r\nfunction injectHookOption(Vue, vm, hook, val) {\r\n    var options = vm.$options;\r\n    var mergeFn = Vue.config.optionMergeStrategies[hook];\r\n    options[hook] = mergeFn(options[hook], wrapHookCall(vm, val));\r\n}\r\nfunction wrapHookCall(vm, fn) {\r\n    return function () {\r\n        var _a;\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var preVm = (_a = getCurrentInstance()) === null || _a === void 0 ? void 0 : _a.proxy;\r\n        setCurrentInstance(vm);\r\n        try {\r\n            return fn.apply(void 0, __spreadArray([], __read(args)));\r\n        }\r\n        finally {\r\n            setCurrentInstance(preVm);\r\n        }\r\n    };\r\n}\r\n// export const onCreated = createLifeCycle('created');\r\nvar onBeforeMount = createLifeCycle('beforeMount');\r\nvar onMounted = createLifeCycle('mounted');\r\nvar onBeforeUpdate = createLifeCycle('beforeUpdate');\r\nvar onUpdated = createLifeCycle('updated');\r\nvar onBeforeUnmount = createLifeCycle('beforeDestroy');\r\nvar onUnmounted = createLifeCycle('destroyed');\r\nvar onErrorCaptured = createLifeCycle('errorCaptured');\r\nvar onActivated = createLifeCycle('activated');\r\nvar onDeactivated = createLifeCycle('deactivated');\r\nvar onServerPrefetch = createLifeCycle('serverPrefetch');\n\nvar fallbackVM;\r\nfunction flushPreQueue() {\r\n    flushQueue(this, WatcherPreFlushQueueKey);\r\n}\r\nfunction flushPostQueue() {\r\n    flushQueue(this, WatcherPostFlushQueueKey);\r\n}\r\nfunction hasWatchEnv(vm) {\r\n    return vm[WatcherPreFlushQueueKey] !== undefined;\r\n}\r\nfunction installWatchEnv(vm) {\r\n    vm[WatcherPreFlushQueueKey] = [];\r\n    vm[WatcherPostFlushQueueKey] = [];\r\n    vm.$on('hook:beforeUpdate', flushPreQueue);\r\n    vm.$on('hook:updated', flushPostQueue);\r\n}\r\nfunction getWatcherOption(options) {\r\n    return __assign({\r\n        immediate: false,\r\n        deep: false,\r\n        flush: 'pre',\r\n    }, options);\r\n}\r\nfunction getWatchEffectOption(options) {\r\n    return __assign({\r\n        flush: 'pre',\r\n    }, options);\r\n}\r\nfunction getWatcherVM() {\r\n    var _a;\r\n    var vm = (_a = getCurrentInstance()) === null || _a === void 0 ? void 0 : _a.proxy;\r\n    if (!vm) {\r\n        if (!fallbackVM) {\r\n            fallbackVM = defineComponentInstance(getVueConstructor());\r\n        }\r\n        vm = fallbackVM;\r\n    }\r\n    else if (!hasWatchEnv(vm)) {\r\n        installWatchEnv(vm);\r\n    }\r\n    return vm;\r\n}\r\nfunction flushQueue(vm, key) {\r\n    var queue = vm[key];\r\n    for (var index = 0; index < queue.length; index++) {\r\n        queue[index]();\r\n    }\r\n    queue.length = 0;\r\n}\r\nfunction queueFlushJob(vm, fn, mode) {\r\n    // flush all when beforeUpdate and updated are not fired\r\n    var fallbackFlush = function () {\r\n        vm.$nextTick(function () {\r\n            if (vm[WatcherPreFlushQueueKey].length) {\r\n                flushQueue(vm, WatcherPreFlushQueueKey);\r\n            }\r\n            if (vm[WatcherPostFlushQueueKey].length) {\r\n                flushQueue(vm, WatcherPostFlushQueueKey);\r\n            }\r\n        });\r\n    };\r\n    switch (mode) {\r\n        case 'pre':\r\n            fallbackFlush();\r\n            vm[WatcherPreFlushQueueKey].push(fn);\r\n            break;\r\n        case 'post':\r\n            fallbackFlush();\r\n            vm[WatcherPostFlushQueueKey].push(fn);\r\n            break;\r\n        default:\r\n            assert(false, \"flush must be one of [\\\"post\\\", \\\"pre\\\", \\\"sync\\\"], but got \" + mode);\r\n            break;\r\n    }\r\n}\r\nfunction createVueWatcher(vm, getter, callback, options) {\r\n    var index = vm._watchers.length;\r\n    // @ts-ignore: use undocumented options\r\n    vm.$watch(getter, callback, {\r\n        immediate: options.immediateInvokeCallback,\r\n        deep: options.deep,\r\n        lazy: options.noRun,\r\n        sync: options.sync,\r\n        before: options.before,\r\n    });\r\n    return vm._watchers[index];\r\n}\r\n// We have to monkeypatch the teardown function so Vue will run\r\n// runCleanup() when it tears down the watcher on unmounted.\r\nfunction patchWatcherTeardown(watcher, runCleanup) {\r\n    var _teardown = watcher.teardown;\r\n    watcher.teardown = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        _teardown.apply(watcher, args);\r\n        runCleanup();\r\n    };\r\n}\r\nfunction createWatcher(vm, source, cb, options) {\r\n    var _a;\r\n    if (( true) && !cb) {\r\n        if (options.immediate !== undefined) {\r\n            warn$1(\"watch() \\\"immediate\\\" option is only respected when using the \" +\r\n                \"watch(source, callback, options?) signature.\");\r\n        }\r\n        if (options.deep !== undefined) {\r\n            warn$1(\"watch() \\\"deep\\\" option is only respected when using the \" +\r\n                \"watch(source, callback, options?) signature.\");\r\n        }\r\n    }\r\n    var flushMode = options.flush;\r\n    var isSync = flushMode === 'sync';\r\n    var cleanup;\r\n    var registerCleanup = function (fn) {\r\n        cleanup = function () {\r\n            try {\r\n                fn();\r\n            }\r\n            catch (error) {\r\n                logError(error, vm, 'onCleanup()');\r\n            }\r\n        };\r\n    };\r\n    // cleanup before running getter again\r\n    var runCleanup = function () {\r\n        if (cleanup) {\r\n            cleanup();\r\n            cleanup = null;\r\n        }\r\n    };\r\n    var createScheduler = function (fn) {\r\n        if (isSync ||\r\n            /* without a current active instance, ignore pre|post mode */ vm ===\r\n                fallbackVM) {\r\n            return fn;\r\n        }\r\n        return (function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return queueFlushJob(vm, function () {\r\n                fn.apply(void 0, __spreadArray([], __read(args)));\r\n            }, flushMode);\r\n        });\r\n    };\r\n    // effect watch\r\n    if (cb === null) {\r\n        var running_1 = false;\r\n        var getter_1 = function () {\r\n            // preventing the watch callback being call in the same execution\r\n            if (running_1) {\r\n                return;\r\n            }\r\n            try {\r\n                running_1 = true;\r\n                source(registerCleanup);\r\n            }\r\n            finally {\r\n                running_1 = false;\r\n            }\r\n        };\r\n        var watcher_1 = createVueWatcher(vm, getter_1, noopFn, {\r\n            deep: options.deep || false,\r\n            sync: isSync,\r\n            before: runCleanup,\r\n        });\r\n        patchWatcherTeardown(watcher_1, runCleanup);\r\n        // enable the watcher update\r\n        watcher_1.lazy = false;\r\n        var originGet = watcher_1.get.bind(watcher_1);\r\n        // always run watchEffect\r\n        watcher_1.get = createScheduler(originGet);\r\n        return function () {\r\n            watcher_1.teardown();\r\n        };\r\n    }\r\n    var deep = options.deep;\r\n    var getter;\r\n    if (isRef(source)) {\r\n        getter = function () { return source.value; };\r\n    }\r\n    else if (isReactive(source)) {\r\n        getter = function () { return source; };\r\n        deep = true;\r\n    }\r\n    else if (isArray(source)) {\r\n        getter = function () {\r\n            return source.map(function (s) {\r\n                if (isRef(s)) {\r\n                    return s.value;\r\n                }\r\n                else if (isReactive(s)) {\r\n                    return traverse(s);\r\n                }\r\n                else if (isFunction(s)) {\r\n                    return s();\r\n                }\r\n                else {\r\n                    ( true) &&\r\n                        warn$1(\"Invalid watch source: \" + JSON.stringify(s) + \".\\n          A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.\", vm);\r\n                    return noopFn;\r\n                }\r\n            });\r\n        };\r\n    }\r\n    else if (isFunction(source)) {\r\n        getter = source;\r\n    }\r\n    else {\r\n        getter = noopFn;\r\n        ( true) &&\r\n            warn$1(\"Invalid watch source: \" + JSON.stringify(source) + \".\\n      A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.\", vm);\r\n    }\r\n    if (deep) {\r\n        var baseGetter_1 = getter;\r\n        getter = function () { return traverse(baseGetter_1()); };\r\n    }\r\n    var applyCb = function (n, o) {\r\n        // cleanup before running cb again\r\n        runCleanup();\r\n        return cb(n, o, registerCleanup);\r\n    };\r\n    var callback = createScheduler(applyCb);\r\n    if (options.immediate) {\r\n        var originalCallback_1 = callback;\r\n        // `shiftCallback` is used to handle the first sync effect run.\r\n        // The subsequent callbacks will redirect to `callback`.\r\n        var shiftCallback_1 = function (n, o) {\r\n            shiftCallback_1 = originalCallback_1;\r\n            // o is undefined on the first call\r\n            return applyCb(n, isArray(n) ? [] : o);\r\n        };\r\n        callback = function (n, o) {\r\n            return shiftCallback_1(n, o);\r\n        };\r\n    }\r\n    // @ts-ignore: use undocumented option \"sync\"\r\n    var stop = vm.$watch(getter, callback, {\r\n        immediate: options.immediate,\r\n        deep: deep,\r\n        sync: isSync,\r\n    });\r\n    // Once again, we have to hack the watcher for proper teardown\r\n    var watcher = vm._watchers[vm._watchers.length - 1];\r\n    // if the return value is reactive and deep:true\r\n    // watch for changes, this might happen when new key is added\r\n    if (isReactive(watcher.value) && ((_a = watcher.value.__ob__) === null || _a === void 0 ? void 0 : _a.dep) && deep) {\r\n        watcher.value.__ob__.dep.addSub({\r\n            update: function () {\r\n                // this will force the source to be revaluated and the callback\r\n                // executed if needed\r\n                watcher.run();\r\n            },\r\n        });\r\n    }\r\n    patchWatcherTeardown(watcher, runCleanup);\r\n    return function () {\r\n        stop();\r\n    };\r\n}\r\nfunction watchEffect(effect, options) {\r\n    var opts = getWatchEffectOption(options);\r\n    var vm = getWatcherVM();\r\n    return createWatcher(vm, effect, null, opts);\r\n}\r\n// implementation\r\nfunction watch(source, cb, options) {\r\n    var callback = null;\r\n    if (typeof cb === 'function') {\r\n        // source watch\r\n        callback = cb;\r\n    }\r\n    else {\r\n        // effect watch\r\n        if ((true)) {\r\n            warn$1(\"`watch(fn, options?)` signature has been moved to a separate API. \" +\r\n                \"Use `watchEffect(fn, options?)` instead. `watch` now only \" +\r\n                \"supports `watch(source, cb, options?) signature.\");\r\n        }\r\n        options = cb;\r\n        callback = null;\r\n    }\r\n    var opts = getWatcherOption(options);\r\n    var vm = getWatcherVM();\r\n    return createWatcher(vm, source, callback, opts);\r\n}\r\nfunction traverse(value, seen) {\r\n    if (seen === void 0) { seen = new Set(); }\r\n    if (!isObject(value) || seen.has(value)) {\r\n        return value;\r\n    }\r\n    seen.add(value);\r\n    if (isRef(value)) {\r\n        traverse(value.value, seen);\r\n    }\r\n    else if (isArray(value)) {\r\n        for (var i = 0; i < value.length; i++) {\r\n            traverse(value[i], seen);\r\n        }\r\n    }\r\n    else if (isSet(value) || isMap(value)) {\r\n        value.forEach(function (v) {\r\n            traverse(v, seen);\r\n        });\r\n    }\r\n    else if (isPlainObject(value)) {\r\n        for (var key in value) {\r\n            traverse(value[key], seen);\r\n        }\r\n    }\r\n    return value;\r\n}\n\n// implement\r\nfunction computed(getterOrOptions) {\r\n    var _a;\r\n    var vm = (_a = getCurrentInstance()) === null || _a === void 0 ? void 0 : _a.proxy;\r\n    var getter;\r\n    var setter;\r\n    if (typeof getterOrOptions === 'function') {\r\n        getter = getterOrOptions;\r\n    }\r\n    else {\r\n        getter = getterOrOptions.get;\r\n        setter = getterOrOptions.set;\r\n    }\r\n    var computedSetter;\r\n    var computedGetter;\r\n    if (vm && !vm.$isServer) {\r\n        var _b = getVueInternalClasses(), Watcher_1 = _b.Watcher, Dep_1 = _b.Dep;\r\n        var watcher_1;\r\n        computedGetter = function () {\r\n            if (!watcher_1) {\r\n                watcher_1 = new Watcher_1(vm, getter, noopFn, { lazy: true });\r\n            }\r\n            if (watcher_1.dirty) {\r\n                watcher_1.evaluate();\r\n            }\r\n            if (Dep_1.target) {\r\n                watcher_1.depend();\r\n            }\r\n            return watcher_1.value;\r\n        };\r\n        computedSetter = function (v) {\r\n            if (( true) && !setter) {\r\n                warn$1('Write operation failed: computed value is readonly.', vm);\r\n                return;\r\n            }\r\n            if (setter) {\r\n                setter(v);\r\n            }\r\n        };\r\n    }\r\n    else {\r\n        // fallback\r\n        var computedHost_1 = defineComponentInstance(getVueConstructor(), {\r\n            computed: {\r\n                $$state: {\r\n                    get: getter,\r\n                    set: setter,\r\n                },\r\n            },\r\n        });\r\n        vm && vm.$on('hook:destroyed', function () { return computedHost_1.$destroy(); });\r\n        computedGetter = function () { return computedHost_1.$$state; };\r\n        computedSetter = function (v) {\r\n            if (( true) && !setter) {\r\n                warn$1('Write operation failed: computed value is readonly.', vm);\r\n                return;\r\n            }\r\n            computedHost_1.$$state = v;\r\n        };\r\n    }\r\n    return createRef({\r\n        get: computedGetter,\r\n        set: computedSetter,\r\n    });\r\n}\n\nvar NOT_FOUND = {};\r\nfunction resolveInject(provideKey, vm) {\r\n    var source = vm;\r\n    while (source) {\r\n        // @ts-ignore\r\n        if (source._provided && hasOwn(source._provided, provideKey)) {\r\n            //@ts-ignore\r\n            return source._provided[provideKey];\r\n        }\r\n        source = source.$parent;\r\n    }\r\n    return NOT_FOUND;\r\n}\r\nfunction provide(key, value) {\r\n    var vm = currentVMInFn('provide');\r\n    if (!vm)\r\n        return;\r\n    if (!vm._provided) {\r\n        var provideCache_1 = {};\r\n        proxy(vm, '_provided', {\r\n            get: function () { return provideCache_1; },\r\n            set: function (v) { return Object.assign(provideCache_1, v); },\r\n        });\r\n    }\r\n    vm._provided[key] = value;\r\n}\r\nfunction inject(key, defaultValue, treatDefaultAsFactory) {\r\n    var _a;\r\n    if (treatDefaultAsFactory === void 0) { treatDefaultAsFactory = false; }\r\n    var vm = (_a = getCurrentInstance()) === null || _a === void 0 ? void 0 : _a.proxy;\r\n    if (!vm) {\r\n        ( true) &&\r\n            warn$1(\"inject() can only be used inside setup() or functional components.\");\r\n        return;\r\n    }\r\n    if (!key) {\r\n        ( true) && warn$1(\"injection \\\"\" + String(key) + \"\\\" not found.\", vm);\r\n        return defaultValue;\r\n    }\r\n    var val = resolveInject(key, vm);\r\n    if (val !== NOT_FOUND) {\r\n        return val;\r\n    }\r\n    if (defaultValue === undefined && (\"development\" !== 'production')) {\r\n        warn$1(\"Injection \\\"\" + String(key) + \"\\\" not found\", vm);\r\n    }\r\n    return treatDefaultAsFactory && isFunction(defaultValue)\r\n        ? defaultValue()\r\n        : defaultValue;\r\n}\n\nvar EMPTY_OBJ = ( true)\r\n    ? Object.freeze({})\r\n    : 0;\r\nvar useCssModule = function (name) {\r\n    var _a;\r\n    if (name === void 0) { name = '$style'; }\r\n    var instance = getCurrentInstance();\r\n    if (!instance) {\r\n        ( true) && warn$1(\"useCssModule must be called inside setup()\");\r\n        return EMPTY_OBJ;\r\n    }\r\n    var mod = (_a = instance.proxy) === null || _a === void 0 ? void 0 : _a[name];\r\n    if (!mod) {\r\n        ( true) &&\r\n            warn$1(\"Current instance does not have CSS module named \\\"\" + name + \"\\\".\");\r\n        return EMPTY_OBJ;\r\n    }\r\n    return mod;\r\n};\r\n/**\r\n * @deprecated use `useCssModule` instead.\r\n */\r\nvar useCSSModule = useCssModule;\n\nfunction createApp(rootComponent, rootProps) {\r\n    if (rootProps === void 0) { rootProps = undefined; }\r\n    var V = getVueConstructor();\r\n    var mountedVM = undefined;\r\n    return {\r\n        config: V.config,\r\n        use: V.use.bind(V),\r\n        mixin: V.mixin.bind(V),\r\n        component: V.component.bind(V),\r\n        directive: V.directive.bind(V),\r\n        mount: function (el, hydrating) {\r\n            if (!mountedVM) {\r\n                mountedVM = new V(__assign({ propsData: rootProps }, rootComponent));\r\n                mountedVM.$mount(el, hydrating);\r\n                return mountedVM;\r\n            }\r\n            else {\r\n                if ((true)) {\r\n                    warn$1(\"App has already been mounted.\\n\" +\r\n                        \"If you want to remount the same app, move your app creation logic \" +\r\n                        \"into a factory function and create fresh app instances for each \" +\r\n                        \"mount - e.g. `const createMyApp = () => createApp(App)`\");\r\n                }\r\n                return mountedVM;\r\n            }\r\n        },\r\n        unmount: function () {\r\n            if (mountedVM) {\r\n                mountedVM.$destroy();\r\n                mountedVM = undefined;\r\n            }\r\n            else if ((true)) {\r\n                warn$1(\"Cannot unmount an app that is not mounted.\");\r\n            }\r\n        },\r\n    };\r\n}\n\nvar nextTick = function nextTick() {\r\n    var _a;\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    return (_a = getVueConstructor()) === null || _a === void 0 ? void 0 : _a.nextTick.apply(this, args);\r\n};\n\nvar fallbackCreateElement;\r\nvar createElement = function createElement() {\r\n    var _a;\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    var instance = (_a = getCurrentInstance()) === null || _a === void 0 ? void 0 : _a.proxy;\r\n    if (!instance) {\r\n        ( true) &&\r\n            warn$1('`createElement()` has been called outside of render function.');\r\n        if (!fallbackCreateElement) {\r\n            fallbackCreateElement = defineComponentInstance(getVueConstructor()).$createElement;\r\n        }\r\n        return fallbackCreateElement.apply(fallbackCreateElement, args);\r\n    }\r\n    return instance.$createElement.apply(instance, args);\r\n};\n\n/**\r\n * Displays a warning message (using console.error) with a stack trace if the\r\n * function is called inside of active component.\r\n *\r\n * @param message warning message to be displayed\r\n */\r\nfunction warn(message) {\r\n    var _a;\r\n    warn$1(message, (_a = getCurrentInstance()) === null || _a === void 0 ? void 0 : _a.proxy);\r\n}\n\nfunction set(vm, key, value) {\r\n    var state = (vm.__composition_api_state__ =\r\n        vm.__composition_api_state__ || {});\r\n    state[key] = value;\r\n}\r\nfunction get(vm, key) {\r\n    return (vm.__composition_api_state__ || {})[key];\r\n}\r\nvar vmStateManager = {\r\n    set: set,\r\n    get: get,\r\n};\n\nfunction asVmProperty(vm, propName, propValue) {\r\n    var props = vm.$options.props;\r\n    if (!(propName in vm) && !(props && hasOwn(props, propName))) {\r\n        if (isRef(propValue)) {\r\n            proxy(vm, propName, {\r\n                get: function () { return propValue.value; },\r\n                set: function (val) {\r\n                    propValue.value = val;\r\n                },\r\n            });\r\n        }\r\n        else {\r\n            proxy(vm, propName, {\r\n                get: function () {\r\n                    if (isReactive(propValue)) {\r\n                        propValue.__ob__.dep.depend();\r\n                    }\r\n                    return propValue;\r\n                },\r\n                set: function (val) {\r\n                    propValue = val;\r\n                },\r\n            });\r\n        }\r\n        if ((true)) {\r\n            // expose binding to Vue Devtool as a data property\r\n            // delay this until state has been resolved to prevent repeated works\r\n            vm.$nextTick(function () {\r\n                if (Object.keys(vm._data).indexOf(propName) !== -1) {\r\n                    return;\r\n                }\r\n                if (isRef(propValue)) {\r\n                    proxy(vm._data, propName, {\r\n                        get: function () { return propValue.value; },\r\n                        set: function (val) {\r\n                            propValue.value = val;\r\n                        },\r\n                    });\r\n                }\r\n                else {\r\n                    proxy(vm._data, propName, {\r\n                        get: function () { return propValue; },\r\n                        set: function (val) {\r\n                            propValue = val;\r\n                        },\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n    else if ((true)) {\r\n        if (props && hasOwn(props, propName)) {\r\n            warn$1(\"The setup binding property \\\"\" + propName + \"\\\" is already declared as a prop.\", vm);\r\n        }\r\n        else {\r\n            warn$1(\"The setup binding property \\\"\" + propName + \"\\\" is already declared.\", vm);\r\n        }\r\n    }\r\n}\r\nfunction updateTemplateRef(vm) {\r\n    var rawBindings = vmStateManager.get(vm, 'rawBindings') || {};\r\n    if (!rawBindings || !Object.keys(rawBindings).length)\r\n        return;\r\n    var refs = vm.$refs;\r\n    var oldRefKeys = vmStateManager.get(vm, 'refs') || [];\r\n    for (var index = 0; index < oldRefKeys.length; index++) {\r\n        var key = oldRefKeys[index];\r\n        var setupValue = rawBindings[key];\r\n        if (!refs[key] && setupValue && isRef(setupValue)) {\r\n            setupValue.value = null;\r\n        }\r\n    }\r\n    var newKeys = Object.keys(refs);\r\n    var validNewKeys = [];\r\n    for (var index = 0; index < newKeys.length; index++) {\r\n        var key = newKeys[index];\r\n        var setupValue = rawBindings[key];\r\n        if (refs[key] && setupValue && isRef(setupValue)) {\r\n            setupValue.value = refs[key];\r\n            validNewKeys.push(key);\r\n        }\r\n    }\r\n    vmStateManager.set(vm, 'refs', validNewKeys);\r\n}\r\nfunction resolveScopedSlots(vm, slotsProxy) {\r\n    var parentVNode = vm.$options._parentVnode;\r\n    if (!parentVNode)\r\n        return;\r\n    var prevSlots = vmStateManager.get(vm, 'slots') || [];\r\n    var curSlots = resolveSlots(parentVNode.data.scopedSlots, vm.$slots);\r\n    // remove staled slots\r\n    for (var index = 0; index < prevSlots.length; index++) {\r\n        var key = prevSlots[index];\r\n        if (!curSlots[key]) {\r\n            delete slotsProxy[key];\r\n        }\r\n    }\r\n    // proxy fresh slots\r\n    var slotNames = Object.keys(curSlots);\r\n    for (var index = 0; index < slotNames.length; index++) {\r\n        var key = slotNames[index];\r\n        if (!slotsProxy[key]) {\r\n            slotsProxy[key] = createSlotProxy(vm, key);\r\n        }\r\n    }\r\n    vmStateManager.set(vm, 'slots', slotNames);\r\n}\r\nfunction activateCurrentInstance(vm, fn, onError) {\r\n    var preVm = getCurrentVue2Instance();\r\n    setCurrentInstance(vm);\r\n    try {\r\n        return fn(vm);\r\n    }\r\n    catch (err) {\r\n        if (onError) {\r\n            onError(err);\r\n        }\r\n        else {\r\n            throw err;\r\n        }\r\n    }\r\n    finally {\r\n        setCurrentInstance(preVm);\r\n    }\r\n}\n\nfunction mixin(Vue) {\r\n    Vue.mixin({\r\n        beforeCreate: functionApiInit,\r\n        mounted: function () {\r\n            updateTemplateRef(this);\r\n        },\r\n        updated: function () {\r\n            var _a;\r\n            updateTemplateRef(this);\r\n            if ((_a = this.$vnode) === null || _a === void 0 ? void 0 : _a.context) {\r\n                updateTemplateRef(this.$vnode.context);\r\n            }\r\n        },\r\n    });\r\n    /**\r\n     * Vuex init hook, injected into each instances init hooks list.\r\n     */\r\n    function functionApiInit() {\r\n        var vm = this;\r\n        var $options = vm.$options;\r\n        var setup = $options.setup, render = $options.render;\r\n        if (render) {\r\n            // keep currentInstance accessible for createElement\r\n            $options.render = function () {\r\n                var _this = this;\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                return activateCurrentInstance(vm, function () { return render.apply(_this, args); });\r\n            };\r\n        }\r\n        if (!setup) {\r\n            return;\r\n        }\r\n        if (typeof setup !== 'function') {\r\n            if ((true)) {\r\n                warn$1('The \"setup\" option should be a function that returns a object in component definitions.', vm);\r\n            }\r\n            return;\r\n        }\r\n        var data = $options.data;\r\n        // wrapper the data option, so we can invoke setup before data get resolved\r\n        $options.data = function wrappedData() {\r\n            initSetup(vm, vm.$props);\r\n            return typeof data === 'function'\r\n                ? data.call(vm, vm)\r\n                : data || {};\r\n        };\r\n    }\r\n    function initSetup(vm, props) {\r\n        if (props === void 0) { props = {}; }\r\n        var setup = vm.$options.setup;\r\n        var ctx = createSetupContext(vm);\r\n        // fake reactive for `toRefs(props)`\r\n        def(props, '__ob__', createObserver());\r\n        // resolve scopedSlots and slots to functions\r\n        // @ts-expect-error\r\n        resolveScopedSlots(vm, ctx.slots);\r\n        var binding;\r\n        activateCurrentInstance(vm, function () {\r\n            // make props to be fake reactive, this is for `toRefs(props)`\r\n            binding = setup(props, ctx);\r\n        });\r\n        if (!binding)\r\n            return;\r\n        if (isFunction(binding)) {\r\n            // keep typescript happy with the binding type.\r\n            var bindingFunc_1 = binding;\r\n            // keep currentInstance accessible for createElement\r\n            vm.$options.render = function () {\r\n                // @ts-expect-error\r\n                resolveScopedSlots(vm, ctx.slots);\r\n                return activateCurrentInstance(vm, function () { return bindingFunc_1(); });\r\n            };\r\n            return;\r\n        }\r\n        else if (isPlainObject(binding)) {\r\n            if (isReactive(binding)) {\r\n                binding = toRefs(binding);\r\n            }\r\n            vmStateManager.set(vm, 'rawBindings', binding);\r\n            var bindingObj_1 = binding;\r\n            Object.keys(bindingObj_1).forEach(function (name) {\r\n                var bindingValue = bindingObj_1[name];\r\n                if (!isRef(bindingValue)) {\r\n                    if (!isReactive(bindingValue)) {\r\n                        if (isFunction(bindingValue)) {\r\n                            bindingValue = bindingValue.bind(vm);\r\n                        }\r\n                        else if (!isObject(bindingValue)) {\r\n                            bindingValue = ref(bindingValue);\r\n                        }\r\n                        else if (hasReactiveArrayChild(bindingValue)) {\r\n                            // creates a custom reactive properties without make the object explicitly reactive\r\n                            // NOTE we should try to avoid this, better implementation needed\r\n                            customReactive(bindingValue);\r\n                        }\r\n                    }\r\n                    else if (isArray(bindingValue)) {\r\n                        bindingValue = ref(bindingValue);\r\n                    }\r\n                }\r\n                asVmProperty(vm, name, bindingValue);\r\n            });\r\n            return;\r\n        }\r\n        if ((true)) {\r\n            assert(false, \"\\\"setup\\\" must return a \\\"Object\\\" or a \\\"Function\\\", got \\\"\" + Object.prototype.toString\r\n                .call(binding)\r\n                .slice(8, -1) + \"\\\"\");\r\n        }\r\n    }\r\n    function customReactive(target, seen) {\r\n        if (seen === void 0) { seen = new Set(); }\r\n        if (seen.has(target))\r\n            return;\r\n        if (!isPlainObject(target) ||\r\n            isRef(target) ||\r\n            isReactive(target) ||\r\n            isRaw(target))\r\n            return;\r\n        var Vue = getVueConstructor();\r\n        // @ts-expect-error https://github.com/vuejs/vue/pull/12132\r\n        var defineReactive = Vue.util.defineReactive;\r\n        Object.keys(target).forEach(function (k) {\r\n            var val = target[k];\r\n            defineReactive(target, k, val);\r\n            if (val) {\r\n                seen.add(val);\r\n                customReactive(val, seen);\r\n            }\r\n            return;\r\n        });\r\n    }\r\n    function hasReactiveArrayChild(target, visited) {\r\n        if (visited === void 0) { visited = new Map(); }\r\n        if (visited.has(target)) {\r\n            return visited.get(target);\r\n        }\r\n        visited.set(target, false);\r\n        if (isArray(target) && isReactive(target)) {\r\n            visited.set(target, true);\r\n            return true;\r\n        }\r\n        if (!isPlainObject(target) || isRaw(target)) {\r\n            return false;\r\n        }\r\n        return Object.keys(target).some(function (x) {\r\n            return hasReactiveArrayChild(target[x], visited);\r\n        });\r\n    }\r\n    function createSetupContext(vm) {\r\n        var ctx = { slots: {} };\r\n        var propsPlain = [\r\n            'root',\r\n            'parent',\r\n            'refs',\r\n            'listeners',\r\n            'isServer',\r\n            'ssrContext',\r\n        ];\r\n        var propsReactiveProxy = ['attrs'];\r\n        var methodReturnVoid = ['emit'];\r\n        propsPlain.forEach(function (key) {\r\n            var srcKey = \"$\" + key;\r\n            proxy(ctx, key, {\r\n                get: function () { return vm[srcKey]; },\r\n                set: function () {\r\n                    ( true) &&\r\n                        warn$1(\"Cannot assign to '\" + key + \"' because it is a read-only property\", vm);\r\n                },\r\n            });\r\n        });\r\n        propsReactiveProxy.forEach(function (key) {\r\n            var srcKey = \"$\" + key;\r\n            proxy(ctx, key, {\r\n                get: function () {\r\n                    var e_1, _a;\r\n                    var data = reactive({});\r\n                    var source = vm[srcKey];\r\n                    var _loop_1 = function (attr) {\r\n                        proxy(data, attr, {\r\n                            get: function () {\r\n                                // to ensure it always return the latest value\r\n                                return vm[srcKey][attr];\r\n                            },\r\n                        });\r\n                    };\r\n                    try {\r\n                        for (var _b = __values(Object.keys(source)), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                            var attr = _c.value;\r\n                            _loop_1(attr);\r\n                        }\r\n                    }\r\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n                    finally {\r\n                        try {\r\n                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                        }\r\n                        finally { if (e_1) throw e_1.error; }\r\n                    }\r\n                    return data;\r\n                },\r\n                set: function () {\r\n                    ( true) &&\r\n                        warn$1(\"Cannot assign to '\" + key + \"' because it is a read-only property\", vm);\r\n                },\r\n            });\r\n        });\r\n        methodReturnVoid.forEach(function (key) {\r\n            var srcKey = \"$\" + key;\r\n            proxy(ctx, key, {\r\n                get: function () {\r\n                    return function () {\r\n                        var args = [];\r\n                        for (var _i = 0; _i < arguments.length; _i++) {\r\n                            args[_i] = arguments[_i];\r\n                        }\r\n                        var fn = vm[srcKey];\r\n                        fn.apply(vm, args);\r\n                    };\r\n                },\r\n            });\r\n        });\r\n        if (false) {}\r\n        return ctx;\r\n    }\r\n}\n\n/**\r\n * Helper that recursively merges two data objects together.\r\n */\r\nfunction mergeData(from, to) {\r\n    if (!from)\r\n        return to;\r\n    if (!to)\r\n        return from;\r\n    var key;\r\n    var toVal;\r\n    var fromVal;\r\n    var keys = hasSymbol ? Reflect.ownKeys(from) : Object.keys(from);\r\n    for (var i = 0; i < keys.length; i++) {\r\n        key = keys[i];\r\n        // in case the object is already observed...\r\n        if (key === '__ob__')\r\n            continue;\r\n        toVal = to[key];\r\n        fromVal = from[key];\r\n        if (!hasOwn(to, key)) {\r\n            to[key] = fromVal;\r\n        }\r\n        else if (toVal !== fromVal &&\r\n            isPlainObject(toVal) &&\r\n            !isRef(toVal) &&\r\n            isPlainObject(fromVal) &&\r\n            !isRef(fromVal)) {\r\n            mergeData(fromVal, toVal);\r\n        }\r\n    }\r\n    return to;\r\n}\r\nfunction install(Vue) {\r\n    if (isVueRegistered(Vue)) {\r\n        if ((true)) {\r\n            warn$1('[vue-composition-api] already installed. Vue.use(VueCompositionAPI) should be called only once.');\r\n        }\r\n        return;\r\n    }\r\n    if ((true)) {\r\n        if (Vue.version) {\r\n            if (Vue.version[0] !== '2' || Vue.version[1] !== '.') {\r\n                warn$1(\"[vue-composition-api] only works with Vue 2, v\" + Vue.version + \" found.\");\r\n            }\r\n        }\r\n        else {\r\n            warn$1('[vue-composition-api] no Vue version found');\r\n        }\r\n    }\r\n    Vue.config.optionMergeStrategies.setup = function (parent, child) {\r\n        return function mergedSetupFn(props, context) {\r\n            return mergeData(typeof parent === 'function' ? parent(props, context) || {} : undefined, typeof child === 'function' ? child(props, context) || {} : undefined);\r\n        };\r\n    };\r\n    setVueConstructor(Vue);\r\n    mixin(Vue);\r\n}\r\nvar Plugin = {\r\n    install: function (Vue) { return install(Vue); },\r\n};\n\n// implementation, close to no-op\r\nfunction defineComponent(options) {\r\n    return options;\r\n}\n\nfunction defineAsyncComponent(source) {\r\n    if (isFunction(source)) {\r\n        source = { loader: source };\r\n    }\r\n    var loader = source.loader, loadingComponent = source.loadingComponent, errorComponent = source.errorComponent, _a = source.delay, delay = _a === void 0 ? 200 : _a, timeout = source.timeout, // undefined = never times out\r\n    _b = source.suspensible, // undefined = never times out\r\n    suspensible = _b === void 0 ? false : _b, // in Vue 3 default is true\r\n    userOnError = source.onError;\r\n    if (( true) && suspensible) {\r\n        warn$1(\"The suspensiblbe option for async components is not supported in Vue2. It is ignored.\");\r\n    }\r\n    var pendingRequest = null;\r\n    var retries = 0;\r\n    var retry = function () {\r\n        retries++;\r\n        pendingRequest = null;\r\n        return load();\r\n    };\r\n    var load = function () {\r\n        var thisRequest;\r\n        return (pendingRequest ||\r\n            (thisRequest = pendingRequest = loader()\r\n                .catch(function (err) {\r\n                err = err instanceof Error ? err : new Error(String(err));\r\n                if (userOnError) {\r\n                    return new Promise(function (resolve, reject) {\r\n                        var userRetry = function () { return resolve(retry()); };\r\n                        var userFail = function () { return reject(err); };\r\n                        userOnError(err, userRetry, userFail, retries + 1);\r\n                    });\r\n                }\r\n                else {\r\n                    throw err;\r\n                }\r\n            })\r\n                .then(function (comp) {\r\n                if (thisRequest !== pendingRequest && pendingRequest) {\r\n                    return pendingRequest;\r\n                }\r\n                if (( true) && !comp) {\r\n                    warn$1(\"Async component loader resolved to undefined. \" +\r\n                        \"If you are using retry(), make sure to return its return value.\");\r\n                }\r\n                // interop module default\r\n                if (comp &&\r\n                    (comp.__esModule || comp[Symbol.toStringTag] === 'Module')) {\r\n                    comp = comp.default;\r\n                }\r\n                if (( true) && comp && !isObject(comp) && !isFunction(comp)) {\r\n                    throw new Error(\"Invalid async component load result: \" + comp);\r\n                }\r\n                return comp;\r\n            })));\r\n    };\r\n    return function () {\r\n        var component = load();\r\n        return {\r\n            component: component,\r\n            delay: delay,\r\n            timeout: timeout,\r\n            error: errorComponent,\r\n            loading: loadingComponent,\r\n        };\r\n    };\r\n}\n\nvar version = \"1.0.3\";\r\n// auto install when using CDN\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n    window.Vue.use(Plugin);\r\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Plugin);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZ1ZS9jb21wb3NpdGlvbi1hcGkvZGlzdC92dWUtY29tcG9zaXRpb24tYXBpLm1qcz9lZDA5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFzQjs7QUFFdEIsNkJBQTZCLDBDQUEwQztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixVQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksa0RBQWE7QUFDakI7QUFDQTtBQUNBLFNBQVMsSUFBcUM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxJQUFxQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBcUM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxLQUFxQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUyxLQUFxQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixjQUFjO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsSUFBcUM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxLQUFxQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxLQUFxQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0IsdURBQXVEO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBLGFBQWEsSUFBcUM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLElBQXFDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0YsdUVBQXVFO0FBQy9KO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixxQkFBcUIsRUFBRTtBQUNwRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLEtBQXFDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQseUJBQXlCO0FBQzlFLG9EQUFvRCxvQkFBb0I7QUFDeEU7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsS0FBcUM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixLQUFxQztBQUMxRDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsTUFBTSxFQUFDO0FBQ3VoQiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AdnVlL2NvbXBvc2l0aW9uLWFwaS9kaXN0L3Z1ZS1jb21wb3NpdGlvbi1hcGkubWpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZ1ZSBmcm9tICd2dWUnO1xuXG52YXIgdG9TdHJpbmcgPSBmdW5jdGlvbiAoeCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpOyB9O1xyXG5mdW5jdGlvbiBpc05hdGl2ZShDdG9yKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT09ICdmdW5jdGlvbicgJiYgL25hdGl2ZSBjb2RlLy50ZXN0KEN0b3IudG9TdHJpbmcoKSk7XHJcbn1cclxudmFyIGhhc1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICBpc05hdGl2ZShTeW1ib2wpICYmXHJcbiAgICB0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgIGlzTmF0aXZlKFJlZmxlY3Qub3duS2V5cyk7XHJcbnZhciBub29wRm4gPSBmdW5jdGlvbiAoXykgeyByZXR1cm4gXzsgfTtcclxuZnVuY3Rpb24gcHJveHkodGFyZ2V0LCBrZXksIF9hKSB7XHJcbiAgICB2YXIgZ2V0ID0gX2EuZ2V0LCBzZXQgPSBfYS5zZXQ7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBnZXQ6IGdldCB8fCBub29wRm4sXHJcbiAgICAgICAgc2V0OiBzZXQgfHwgbm9vcEZuLFxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZGVmKG9iaiwga2V5LCB2YWwsIGVudW1lcmFibGUpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xyXG4gICAgICAgIHZhbHVlOiB2YWwsXHJcbiAgICAgICAgZW51bWVyYWJsZTogISFlbnVtZXJhYmxlLFxyXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGhhc093bihvYmosIGtleSkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcclxufVxyXG5mdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtc2cpIHtcclxuICAgIGlmICghY29uZGl0aW9uKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW3Z1ZS1jb21wb3NpdGlvbi1hcGldIFwiICsgbXNnKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8XHJcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fFxyXG4gICAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxyXG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N5bWJvbCcgfHxcclxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyk7XHJcbn1cclxuZnVuY3Rpb24gaXNBcnJheSh4KSB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh4KTtcclxufVxyXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xyXG52YXIgdG9UeXBlU3RyaW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XHJcbn07XHJcbnZhciBpc01hcCA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgIHJldHVybiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgTWFwXSc7XHJcbn07XHJcbnZhciBpc1NldCA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgIHJldHVybiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgU2V0XSc7XHJcbn07XHJcbnZhciBNQVhfVkFMSURfQVJSQVlfTEVOR1RIID0gNDI5NDk2NzI5NTsgLy8gTWF0aC5wb3coMiwgMzIpIC0gMVxyXG5mdW5jdGlvbiBpc1ZhbGlkQXJyYXlJbmRleCh2YWwpIHtcclxuICAgIHZhciBuID0gcGFyc2VGbG9hdChTdHJpbmcodmFsKSk7XHJcbiAgICByZXR1cm4gKG4gPj0gMCAmJlxyXG4gICAgICAgIE1hdGguZmxvb3IobikgPT09IG4gJiZcclxuICAgICAgICBpc0Zpbml0ZSh2YWwpICYmXHJcbiAgICAgICAgbiA8PSBNQVhfVkFMSURfQVJSQVlfTEVOR1RIKTtcclxufVxyXG5mdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcclxuICAgIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XHJcbn1cclxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh4KSB7XHJcbiAgICByZXR1cm4gdG9TdHJpbmcoeCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xyXG59XHJcbmZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xyXG59XHJcbmZ1bmN0aW9uIGlzVW5kZWYodikge1xyXG4gICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIHdhcm4kMShtc2csIHZtKSB7XHJcbiAgICBWdWUudXRpbC53YXJuKG1zZywgdm0pO1xyXG59XHJcbmZ1bmN0aW9uIGxvZ0Vycm9yKGVyciwgdm0sIGluZm8pIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuJDEoXCJFcnJvciBpbiBcIiArIGluZm8gKyBcIjogXFxcIlwiICsgZXJyLnRvU3RyaW5nKCkgKyBcIlxcXCJcIiwgdm0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRocm93IGVycjtcclxuICAgIH1cclxufVxuXG52YXIgdnVlRGVwZW5kZW5jeSA9IHVuZGVmaW5lZDtcclxudHJ5IHtcclxuICAgIHZhciByZXF1aXJlZFZ1ZSA9IHJlcXVpcmUoJ3Z1ZScpO1xyXG4gICAgaWYgKHJlcXVpcmVkVnVlICYmIGlzVnVlKHJlcXVpcmVkVnVlKSkge1xyXG4gICAgICAgIHZ1ZURlcGVuZGVuY3kgPSByZXF1aXJlZFZ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHJlcXVpcmVkVnVlICYmXHJcbiAgICAgICAgJ2RlZmF1bHQnIGluIHJlcXVpcmVkVnVlICYmXHJcbiAgICAgICAgaXNWdWUocmVxdWlyZWRWdWUuZGVmYXVsdCkpIHtcclxuICAgICAgICB2dWVEZXBlbmRlbmN5ID0gcmVxdWlyZWRWdWUuZGVmYXVsdDtcclxuICAgIH1cclxufVxyXG5jYXRjaCAoX2EpIHtcclxuICAgIC8vIG5vdCBhdmFpbGFibGVcclxufVxyXG52YXIgdnVlQ29uc3RydWN0b3IgPSBudWxsO1xyXG52YXIgY3VycmVudEluc3RhbmNlID0gbnVsbDtcclxudmFyIFBsdWdpbkluc3RhbGxlZEZsYWcgPSAnX19jb21wb3NpdGlvbl9hcGlfaW5zdGFsbGVkX18nO1xyXG5mdW5jdGlvbiBpc1Z1ZShvYmopIHtcclxuICAgIHJldHVybiBvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmoubmFtZSA9PT0gJ1Z1ZSc7XHJcbn1cclxuZnVuY3Rpb24gaXNWdWVSZWdpc3RlcmVkKFZ1ZSkge1xyXG4gICAgcmV0dXJuIGhhc093bihWdWUsIFBsdWdpbkluc3RhbGxlZEZsYWcpO1xyXG59XHJcbmZ1bmN0aW9uIGdldFZ1ZUNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGFzc2VydCh2dWVDb25zdHJ1Y3RvciwgXCJtdXN0IGNhbGwgVnVlLnVzZShWdWVDb21wb3NpdGlvbkFQSSkgYmVmb3JlIHVzaW5nIGFueSBmdW5jdGlvbi5cIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdnVlQ29uc3RydWN0b3I7XHJcbn1cclxuLy8gcmV0dXJucyByZWdpc3RlcmVkIHZ1ZSBvciBgdnVlYCBkZXBlbmRlbmN5XHJcbmZ1bmN0aW9uIGdldFJlZ2lzdGVyZWRWdWVPckRlZmF1bHQoKSB7XHJcbiAgICB2YXIgY29uc3RydWN0b3IgPSB2dWVDb25zdHJ1Y3RvciB8fCB2dWVEZXBlbmRlbmN5O1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGFzc2VydChjb25zdHJ1Y3RvciwgXCJObyB2dWUgZGVwZW5kZW5jeSBmb3VuZC5cIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29uc3RydWN0b3I7XHJcbn1cclxuZnVuY3Rpb24gc2V0VnVlQ29uc3RydWN0b3IoVnVlKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHZ1ZUNvbnN0cnVjdG9yICYmIFZ1ZS5fX3Byb3RvX18gIT09IHZ1ZUNvbnN0cnVjdG9yLl9fcHJvdG9fXykge1xyXG4gICAgICAgIHdhcm4kMSgnW3Z1ZS1jb21wb3NpdGlvbi1hcGldIGFub3RoZXIgaW5zdGFuY2Ugb2YgVnVlIGluc3RhbGxlZCcpO1xyXG4gICAgfVxyXG4gICAgdnVlQ29uc3RydWN0b3IgPSBWdWU7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLCBQbHVnaW5JbnN0YWxsZWRGbGFnLCB7XHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gc2V0Q3VycmVudEluc3RhbmNlKHZtKSB7XHJcbiAgICAvLyBjdXJyZW50SW5zdGFuY2U/LiRzY29wZWRTbG90c1xyXG4gICAgY3VycmVudEluc3RhbmNlID0gdm07XHJcbn1cclxuZnVuY3Rpb24gZ2V0Q3VycmVudFZ1ZTJJbnN0YW5jZSgpIHtcclxuICAgIHJldHVybiBjdXJyZW50SW5zdGFuY2U7XHJcbn1cclxuZnVuY3Rpb24gZ2V0Q3VycmVudEluc3RhbmNlKCkge1xyXG4gICAgaWYgKGN1cnJlbnRJbnN0YW5jZSkge1xyXG4gICAgICAgIHJldHVybiB0b1Z1ZTNDb21wb25lbnRJbnN0YW5jZShjdXJyZW50SW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxudmFyIGluc3RhbmNlTWFwQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xyXG5mdW5jdGlvbiB0b1Z1ZTNDb21wb25lbnRJbnN0YW5jZSh2dWUySW5zdGFuY2UpIHtcclxuICAgIGlmIChpbnN0YW5jZU1hcENhY2hlLmhhcyh2dWUySW5zdGFuY2UpKSB7XHJcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlTWFwQ2FjaGUuZ2V0KHZ1ZTJJbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICB2YXIgaW5zdGFuY2UgPSB7XHJcbiAgICAgICAgcHJveHk6IHZ1ZTJJbnN0YW5jZSxcclxuICAgICAgICB1cGRhdGU6IHZ1ZTJJbnN0YW5jZS4kZm9yY2VVcGRhdGUsXHJcbiAgICAgICAgdWlkOiB2dWUySW5zdGFuY2UuX3VpZCxcclxuICAgICAgICAvLyAkZW1pdCBpcyBkZWZpbmVkIG9uIHByb3RvdHlwZSBhbmQgaXQgZXhwZWN0ZWQgdG8gYmUgYm91bmRcclxuICAgICAgICBlbWl0OiB2dWUySW5zdGFuY2UuJGVtaXQuYmluZCh2dWUySW5zdGFuY2UpLFxyXG4gICAgICAgIHBhcmVudDogbnVsbCxcclxuICAgICAgICByb290OiBudWxsLCAvLyB0byBiZSBpbW1lZGlhdGVseSBzZXRcclxuICAgIH07XHJcbiAgICAvLyBtYXAgdm0uJHByb3BzID1cclxuICAgIHZhciBpbnN0YW5jZVByb3BzID0gW1xyXG4gICAgICAgICdkYXRhJyxcclxuICAgICAgICAncHJvcHMnLFxyXG4gICAgICAgICdhdHRycycsXHJcbiAgICAgICAgJ3JlZnMnLFxyXG4gICAgICAgICd2bm9kZScsXHJcbiAgICAgICAgJ3Nsb3RzJyxcclxuICAgIF07XHJcbiAgICBpbnN0YW5jZVByb3BzLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcclxuICAgICAgICBwcm94eShpbnN0YW5jZSwgcHJvcCwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2dWUySW5zdGFuY2VbXCIkXCIgKyBwcm9wXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgcHJveHkoaW5zdGFuY2UsICdpc01vdW50ZWQnLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcHJpdmF0ZSBhcGlcclxuICAgICAgICAgICAgcmV0dXJuIHZ1ZTJJbnN0YW5jZS5faXNNb3VudGVkO1xyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxuICAgIHByb3h5KGluc3RhbmNlLCAnaXNVbm1vdW50ZWQnLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcHJpdmF0ZSBhcGlcclxuICAgICAgICAgICAgcmV0dXJuIHZ1ZTJJbnN0YW5jZS5faXNEZXN0cm95ZWQ7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgcHJveHkoaW5zdGFuY2UsICdpc0RlYWN0aXZhdGVkJywge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgYXBpXHJcbiAgICAgICAgICAgIHJldHVybiB2dWUySW5zdGFuY2UuX2luYWN0aXZlO1xyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxuICAgIHByb3h5KGluc3RhbmNlLCAnZW1pdHRlZCcsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIGFwaVxyXG4gICAgICAgICAgICByZXR1cm4gdnVlMkluc3RhbmNlLl9ldmVudHM7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgaW5zdGFuY2VNYXBDYWNoZS5zZXQodnVlMkluc3RhbmNlLCBpbnN0YW5jZSk7XHJcbiAgICBpZiAodnVlMkluc3RhbmNlLiRwYXJlbnQpIHtcclxuICAgICAgICBpbnN0YW5jZS5wYXJlbnQgPSB0b1Z1ZTNDb21wb25lbnRJbnN0YW5jZSh2dWUySW5zdGFuY2UuJHBhcmVudCk7XHJcbiAgICB9XHJcbiAgICBpZiAodnVlMkluc3RhbmNlLiRyb290KSB7XHJcbiAgICAgICAgaW5zdGFuY2Uucm9vdCA9IHRvVnVlM0NvbXBvbmVudEluc3RhbmNlKHZ1ZTJJbnN0YW5jZS4kcm9vdCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cblxuZnVuY3Rpb24gY3VycmVudFZNSW5Gbihob29rKSB7XHJcbiAgICB2YXIgdm0gPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXZtKSB7XHJcbiAgICAgICAgd2FybiQxKGhvb2sgKyBcIiBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlIHRvIGJlIFwiICtcclxuICAgICAgICAgICAgXCJhc3NvY2lhdGVkIHdpdGguIFwiICtcclxuICAgICAgICAgICAgXCJMaWZlY3ljbGUgaW5qZWN0aW9uIEFQSXMgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgZXhlY3V0aW9uIG9mIHNldHVwKCkuXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZtID09PSBudWxsIHx8IHZtID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2bS5wcm94eTtcclxufVxyXG5mdW5jdGlvbiBkZWZpbmVDb21wb25lbnRJbnN0YW5jZShDdG9yLCBvcHRpb25zKSB7XHJcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxyXG4gICAgdmFyIHNpbGVudCA9IEN0b3IuY29uZmlnLnNpbGVudDtcclxuICAgIEN0b3IuY29uZmlnLnNpbGVudCA9IHRydWU7XHJcbiAgICB2YXIgdm0gPSBuZXcgQ3RvcihvcHRpb25zKTtcclxuICAgIEN0b3IuY29uZmlnLnNpbGVudCA9IHNpbGVudDtcclxuICAgIHJldHVybiB2bTtcclxufVxyXG5mdW5jdGlvbiBpc0NvbXBvbmVudEluc3RhbmNlKG9iaikge1xyXG4gICAgdmFyIFZ1ZSA9IGdldFZ1ZUNvbnN0cnVjdG9yKCk7XHJcbiAgICByZXR1cm4gVnVlICYmIG9iaiBpbnN0YW5jZW9mIFZ1ZTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVTbG90UHJveHkodm0sIHNsb3ROYW1lKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXZtLiRzY29wZWRTbG90c1tzbG90TmFtZV0pIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB3YXJuJDEoXCJzbG90cy5cIiArIHNsb3ROYW1lICsgXCIoKSBnb3QgY2FsbGVkIG91dHNpZGUgb2YgdGhlIFxcXCJyZW5kZXIoKVxcXCIgc2NvcGVcIiwgdm0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2bS4kc2NvcGVkU2xvdHNbc2xvdE5hbWVdLmFwcGx5KHZtLCBhcmdzKTtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZVNsb3RzKHNsb3RzLCBub3JtYWxTbG90cykge1xyXG4gICAgdmFyIHJlcztcclxuICAgIGlmICghc2xvdHMpIHtcclxuICAgICAgICByZXMgPSB7fTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHNsb3RzLl9ub3JtYWxpemVkKSB7XHJcbiAgICAgICAgLy8gZmFzdCBwYXRoIDE6IGNoaWxkIGNvbXBvbmVudCByZS1yZW5kZXIgb25seSwgcGFyZW50IGRpZCBub3QgY2hhbmdlXHJcbiAgICAgICAgcmV0dXJuIHNsb3RzLl9ub3JtYWxpemVkO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmVzID0ge307XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNsb3RzKSB7XHJcbiAgICAgICAgICAgIGlmIChzbG90c1trZXldICYmIGtleVswXSAhPT0gJyQnKSB7XHJcbiAgICAgICAgICAgICAgICByZXNba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBleHBvc2Ugbm9ybWFsIHNsb3RzIG9uIHNjb3BlZFNsb3RzXHJcbiAgICBmb3IgKHZhciBrZXkgaW4gbm9ybWFsU2xvdHMpIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gcmVzKSkge1xyXG4gICAgICAgICAgICByZXNba2V5XSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG52YXIgdnVlSW50ZXJuYWxDbGFzc2VzO1xyXG52YXIgZ2V0VnVlSW50ZXJuYWxDbGFzc2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCF2dWVJbnRlcm5hbENsYXNzZXMpIHtcclxuICAgICAgICB2YXIgdm0gPSBkZWZpbmVDb21wb25lbnRJbnN0YW5jZShnZXRWdWVDb25zdHJ1Y3RvcigpLCB7XHJcbiAgICAgICAgICAgIGNvbXB1dGVkOiB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyB0byBnZXQgV2F0Y2hlciBjbGFzc1xyXG4gICAgICAgIHZhciBXYXRjaGVyID0gdm0uX2NvbXB1dGVkV2F0Y2hlcnMudmFsdWUuY29uc3RydWN0b3I7XHJcbiAgICAgICAgLy8gdG8gZ2V0IERlcCBjbGFzc1xyXG4gICAgICAgIHZhciBEZXAgPSB2bS5fZGF0YS5fX29iX18uZGVwLmNvbnN0cnVjdG9yO1xyXG4gICAgICAgIHZ1ZUludGVybmFsQ2xhc3NlcyA9IHtcclxuICAgICAgICAgICAgV2F0Y2hlcjogV2F0Y2hlcixcclxuICAgICAgICAgICAgRGVwOiBEZXAsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2bS4kZGVzdHJveSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZ1ZUludGVybmFsQ2xhc3NlcztcclxufTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXHJcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xyXG4gICAgcmV0dXJuIHRvO1xyXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN5bWJvbChuYW1lKSB7XHJcbiAgICByZXR1cm4gaGFzU3ltYm9sID8gU3ltYm9sLmZvcihuYW1lKSA6IG5hbWU7XHJcbn1cclxudmFyIFdhdGNoZXJQcmVGbHVzaFF1ZXVlS2V5ID0gY3JlYXRlU3ltYm9sKCdjb21wb3NpdGlvbi1hcGkucHJlRmx1c2hRdWV1ZScpO1xyXG52YXIgV2F0Y2hlclBvc3RGbHVzaFF1ZXVlS2V5ID0gY3JlYXRlU3ltYm9sKCdjb21wb3NpdGlvbi1hcGkucG9zdEZsdXNoUXVldWUnKTtcclxuLy8gbXVzdCBiZSBhIHN0cmluZywgc3ltYm9sIGtleSBpcyBpZ25vcmVkIGluIHJlYWN0aXZlXHJcbnZhciBSZWZLZXkgPSAnY29tcG9zaXRpb24tYXBpLnJlZktleSc7XG5cbnZhciBhY2Nlc3NNb2RpZmllZFNldCA9IG5ldyBXZWFrTWFwKCk7XHJcbnZhciByYXdTZXQgPSBuZXcgV2Vha01hcCgpO1xyXG52YXIgcmVhZG9ubHlTZXQgPSBuZXcgV2Vha01hcCgpO1xuXG52YXIgUmVmSW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFJlZkltcGwoX2EpIHtcclxuICAgICAgICB2YXIgZ2V0ID0gX2EuZ2V0LCBzZXQgPSBfYS5zZXQ7XHJcbiAgICAgICAgcHJveHkodGhpcywgJ3ZhbHVlJywge1xyXG4gICAgICAgICAgICBnZXQ6IGdldCxcclxuICAgICAgICAgICAgc2V0OiBzZXQsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVmSW1wbDtcclxufSgpKTtcclxuZnVuY3Rpb24gY3JlYXRlUmVmKG9wdGlvbnMsIHJlYWRvbmx5KSB7XHJcbiAgICB2YXIgciA9IG5ldyBSZWZJbXBsKG9wdGlvbnMpO1xyXG4gICAgLy8gc2VhbCB0aGUgcmVmLCB0aGlzIGNvdWxkIHByZXZlbnQgcmVmIGZyb20gYmVpbmcgb2JzZXJ2ZWRcclxuICAgIC8vIEl0J3Mgc2FmZSB0byBzZWFsIHRoZSByZWYsIHNpbmNlIHdlIHJlYWxseSBzaG91bGRuJ3QgZXh0ZW5kIGl0LlxyXG4gICAgLy8gcmVsYXRlZCBpc3N1ZXM6ICM3OVxyXG4gICAgdmFyIHNlYWxlZCA9IE9iamVjdC5zZWFsKHIpO1xyXG4gICAgcmVhZG9ubHlTZXQuc2V0KHNlYWxlZCwgdHJ1ZSk7XHJcbiAgICByZXR1cm4gc2VhbGVkO1xyXG59XHJcbmZ1bmN0aW9uIHJlZihyYXcpIHtcclxuICAgIHZhciBfYTtcclxuICAgIGlmIChpc1JlZihyYXcpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhdztcclxuICAgIH1cclxuICAgIHZhciB2YWx1ZSA9IHJlYWN0aXZlKChfYSA9IHt9LCBfYVtSZWZLZXldID0gcmF3LCBfYSkpO1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlZih7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZVtSZWZLZXldOyB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHsgcmV0dXJuICh2YWx1ZVtSZWZLZXldID0gdik7IH0sXHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBpc1JlZih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUmVmSW1wbDtcclxufVxyXG5mdW5jdGlvbiB1bnJlZihyZWYpIHtcclxuICAgIHJldHVybiBpc1JlZihyZWYpID8gcmVmLnZhbHVlIDogcmVmO1xyXG59XHJcbmZ1bmN0aW9uIHRvUmVmcyhvYmopIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzUmVhY3RpdmUob2JqKSkge1xyXG4gICAgICAgIHdhcm4kMShcInRvUmVmcygpIGV4cGVjdHMgYSByZWFjdGl2ZSBvYmplY3QgYnV0IHJlY2VpdmVkIGEgcGxhaW4gb25lLlwiKTtcclxuICAgIH1cclxuICAgIGlmICghaXNQbGFpbk9iamVjdChvYmopKVxyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB2YXIgcmV0ID0ge307XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgcmV0W2tleV0gPSB0b1JlZihvYmosIGtleSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XHJcbmZ1bmN0aW9uIGN1c3RvbVJlZihmYWN0b3J5KSB7XHJcbiAgICB2YXIgdmVyc2lvbiA9IHJlZigwKTtcclxuICAgIHJldHVybiBjcmVhdGVSZWYoZmFjdG9yeShmdW5jdGlvbiAoKSB7IHJldHVybiB2b2lkIHZlcnNpb24udmFsdWU7IH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICArK3ZlcnNpb24udmFsdWU7XHJcbiAgICB9KSk7XHJcbn1cclxuZnVuY3Rpb24gdG9SZWYob2JqZWN0LCBrZXkpIHtcclxuICAgIHZhciB2ID0gb2JqZWN0W2tleV07XHJcbiAgICBpZiAoaXNSZWYodikpXHJcbiAgICAgICAgcmV0dXJuIHY7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVmKHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9iamVjdFtrZXldOyB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChvYmplY3Rba2V5XSA9IHYpOyB9LFxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gc2hhbGxvd1JlZihyYXcpIHtcclxuICAgIHZhciBfYTtcclxuICAgIGlmIChpc1JlZihyYXcpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhdztcclxuICAgIH1cclxuICAgIHZhciB2YWx1ZSA9IHNoYWxsb3dSZWFjdGl2ZSgoX2EgPSB7fSwgX2FbUmVmS2V5XSA9IHJhdywgX2EpKTtcclxuICAgIHJldHVybiBjcmVhdGVSZWYoe1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWVbUmVmS2V5XTsgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7IHJldHVybiAodmFsdWVbUmVmS2V5XSA9IHYpOyB9LFxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gdHJpZ2dlclJlZih2YWx1ZSkge1xyXG4gICAgaWYgKCFpc1JlZih2YWx1ZSkpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgdmFsdWUudmFsdWUgPSB2YWx1ZS52YWx1ZTtcclxufVxyXG5mdW5jdGlvbiBwcm94eVJlZnMob2JqZWN0V2l0aFJlZnMpIHtcclxuICAgIHZhciBfYSwgZV8xLCBfYjtcclxuICAgIGlmIChpc1JlYWN0aXZlKG9iamVjdFdpdGhSZWZzKSkge1xyXG4gICAgICAgIHJldHVybiBvYmplY3RXaXRoUmVmcztcclxuICAgIH1cclxuICAgIHZhciB2YWx1ZSA9IHJlYWN0aXZlKChfYSA9IHt9LCBfYVtSZWZLZXldID0gb2JqZWN0V2l0aFJlZnMsIF9hKSk7XHJcbiAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICBwcm94eSh2YWx1ZSwga2V5LCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzUmVmKHZhbHVlW1JlZktleV1ba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVbUmVmS2V5XVtrZXldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlW1JlZktleV1ba2V5XTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzUmVmKHZhbHVlW1JlZktleV1ba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHZhbHVlW1JlZktleV1ba2V5XS52YWx1ZSA9IHVucmVmKHYpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhbHVlW1JlZktleV1ba2V5XSA9IHVucmVmKHYpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyhPYmplY3Qua2V5cyhvYmplY3RXaXRoUmVmcykpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBfZC52YWx1ZTtcclxuICAgICAgICAgICAgX2xvb3BfMShrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9iID0gX2MucmV0dXJuKSkgX2IuY2FsbChfYyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxuXG5mdW5jdGlvbiBpc1JhdyhvYmopIHtcclxuICAgIHZhciBfYTtcclxuICAgIHJldHVybiBCb29sZWFuKG9iaiAmJlxyXG4gICAgICAgIGhhc093bihvYmosICdfX29iX18nKSAmJlxyXG4gICAgICAgIHR5cGVvZiBvYmouX19vYl9fID09PSAnb2JqZWN0JyAmJlxyXG4gICAgICAgICgoX2EgPSBvYmouX19vYl9fKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuX19yYXdfXykpO1xyXG59XHJcbmZ1bmN0aW9uIGlzUmVhY3RpdmUob2JqKSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICByZXR1cm4gQm9vbGVhbihvYmogJiZcclxuICAgICAgICBoYXNPd24ob2JqLCAnX19vYl9fJykgJiZcclxuICAgICAgICB0eXBlb2Ygb2JqLl9fb2JfXyA9PT0gJ29iamVjdCcgJiZcclxuICAgICAgICAhKChfYSA9IG9iai5fX29iX18pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5fX3Jhd19fKSk7XHJcbn1cclxuLyoqXHJcbiAqIFByb3hpbmcgcHJvcGVydHkgYWNjZXNzIG9mIHRhcmdldC5cclxuICogV2UgY2FuIGRvIHVud3JhcHBpbmcgYW5kIG90aGVyIHRoaW5ncyBoZXJlLlxyXG4gKi9cclxuZnVuY3Rpb24gc2V0dXBBY2Nlc3NDb250cm9sKHRhcmdldCkge1xyXG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KHRhcmdldCkgfHxcclxuICAgICAgICBpc1Jhdyh0YXJnZXQpIHx8XHJcbiAgICAgICAgaXNBcnJheSh0YXJnZXQpIHx8XHJcbiAgICAgICAgaXNSZWYodGFyZ2V0KSB8fFxyXG4gICAgICAgIGlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KSB8fFxyXG4gICAgICAgIGFjY2Vzc01vZGlmaWVkU2V0Lmhhcyh0YXJnZXQpKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGFjY2Vzc01vZGlmaWVkU2V0LnNldCh0YXJnZXQsIHRydWUpO1xyXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0YXJnZXQpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZGVmaW5lQWNjZXNzQ29udHJvbCh0YXJnZXQsIGtleXNbaV0pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBdXRvIHVud3JhcHBpbmcgd2hlbiBhY2Nlc3MgcHJvcGVydHlcclxuICovXHJcbmZ1bmN0aW9uIGRlZmluZUFjY2Vzc0NvbnRyb2wodGFyZ2V0LCBrZXksIHZhbCkge1xyXG4gICAgaWYgKGtleSA9PT0gJ19fb2JfXycpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgaWYgKGlzUmF3KHRhcmdldFtrZXldKSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICB2YXIgZ2V0dGVyO1xyXG4gICAgdmFyIHNldHRlcjtcclxuICAgIHZhciBwcm9wZXJ0eSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpO1xyXG4gICAgaWYgKHByb3BlcnR5KSB7XHJcbiAgICAgICAgaWYgKHByb3BlcnR5LmNvbmZpZ3VyYWJsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnZXR0ZXIgPSBwcm9wZXJ0eS5nZXQ7XHJcbiAgICAgICAgc2V0dGVyID0gcHJvcGVydHkuc2V0O1xyXG4gICAgICAgIGlmICgoIWdldHRlciB8fCBzZXR0ZXIpIC8qIG5vdCBvbmx5IGhhdmUgZ2V0dGVyICovICYmXHJcbiAgICAgICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgdmFsID0gdGFyZ2V0W2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0dXBBY2Nlc3NDb250cm9sKHZhbCk7XHJcbiAgICBwcm94eSh0YXJnZXQsIGtleSwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0dGVySGFuZGxlcigpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gZ2V0dGVyID8gZ2V0dGVyLmNhbGwodGFyZ2V0KSA6IHZhbDtcclxuICAgICAgICAgICAgLy8gaWYgdGhlIGtleSBpcyBlcXVhbCB0byBSZWZLZXksIHNraXAgdGhlIHVud3JhcCBsb2dpY1xyXG4gICAgICAgICAgICBpZiAoa2V5ICE9PSBSZWZLZXkgJiYgaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0dGVySGFuZGxlcihuZXdWYWwpIHtcclxuICAgICAgICAgICAgaWYgKGdldHRlciAmJiAhc2V0dGVyKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBnZXR0ZXIgPyBnZXR0ZXIuY2FsbCh0YXJnZXQpIDogdmFsO1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUga2V5IGlzIGVxdWFsIHRvIFJlZktleSwgc2tpcCB0aGUgdW53cmFwIGxvZ2ljXHJcbiAgICAgICAgICAgIC8vIElmIGFuZCBvbmx5IGlmIFwidmFsdWVcIiBpcyByZWYgYW5kIFwibmV3VmFsXCIgaXMgbm90IGEgcmVmLFxyXG4gICAgICAgICAgICAvLyB0aGUgYXNzaWdubWVudCBzaG91bGQgYmUgcHJveGllZCB0byBcInZhbHVlXCIgcmVmLlxyXG4gICAgICAgICAgICBpZiAoa2V5ICE9PSBSZWZLZXkgJiYgaXNSZWYodmFsdWUpICYmICFpc1JlZihuZXdWYWwpKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS52YWx1ZSA9IG5ld1ZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHNldHRlci5jYWxsKHRhcmdldCwgbmV3VmFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhbCA9IG5ld1ZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXR1cEFjY2Vzc0NvbnRyb2wobmV3VmFsKTtcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gb2JzZXJ2ZShvYmopIHtcclxuICAgIHZhciBWdWUgPSBnZXRSZWdpc3RlcmVkVnVlT3JEZWZhdWx0KCk7XHJcbiAgICB2YXIgb2JzZXJ2ZWQ7XHJcbiAgICBpZiAoVnVlLm9ic2VydmFibGUpIHtcclxuICAgICAgICBvYnNlcnZlZCA9IFZ1ZS5vYnNlcnZhYmxlKG9iaik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgdm0gPSBkZWZpbmVDb21wb25lbnRJbnN0YW5jZShWdWUsIHtcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgJCRzdGF0ZTogb2JqLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG9ic2VydmVkID0gdm0uX2RhdGEuJCRzdGF0ZTtcclxuICAgIH1cclxuICAgIC8vIGluIFNTUiwgdGhlcmUgaXMgbm8gX19vYl9fLiBNb2NrIGZvciByZWFjdGl2aXR5IGNoZWNrXHJcbiAgICBpZiAoIWhhc093bihvYnNlcnZlZCwgJ19fb2JfXycpKSB7XHJcbiAgICAgICAgbW9ja1JlYWN0aXZpdHlEZWVwKG9ic2VydmVkKTtcclxuICAgIH1cclxuICAgIHJldHVybiBvYnNlcnZlZDtcclxufVxyXG4vKipcclxuICogTW9jayBfX29iX18gZm9yIG9iamVjdCByZWN1cnNpdmVseVxyXG4gKi9cclxuZnVuY3Rpb24gbW9ja1JlYWN0aXZpdHlEZWVwKG9iaiwgc2Vlbikge1xyXG4gICAgdmFyIGVfMSwgX2E7XHJcbiAgICBpZiAoc2VlbiA9PT0gdm9pZCAwKSB7IHNlZW4gPSBuZXcgU2V0KCk7IH1cclxuICAgIGlmIChzZWVuLmhhcyhvYmopKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGRlZihvYmosICdfX29iX18nLCBtb2NrT2JzZXJ2ZXIob2JqKSk7XHJcbiAgICBzZWVuLmFkZChvYmopO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKE9iamVjdC5rZXlzKG9iaikpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBfYy52YWx1ZTtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XHJcbiAgICAgICAgICAgIGlmICghKGlzUGxhaW5PYmplY3QodmFsdWUpIHx8IGlzQXJyYXkodmFsdWUpKSB8fFxyXG4gICAgICAgICAgICAgICAgaXNSYXcodmFsdWUpIHx8XHJcbiAgICAgICAgICAgICAgICAhT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1vY2tSZWFjdGl2aXR5RGVlcCh2YWx1ZSwgc2Vlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG1vY2tPYnNlcnZlcih2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHsgdmFsdWUgPSB7fTsgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgZGVwOiB7XHJcbiAgICAgICAgICAgIG5vdGlmeTogbm9vcEZuLFxyXG4gICAgICAgICAgICBkZXBlbmQ6IG5vb3BGbixcclxuICAgICAgICAgICAgYWRkU3ViOiBub29wRm4sXHJcbiAgICAgICAgICAgIHJlbW92ZVN1Yjogbm9vcEZuLFxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZU9ic2VydmVyKCkge1xyXG4gICAgcmV0dXJuIG9ic2VydmUoe30pLl9fb2JfXztcclxufVxyXG5mdW5jdGlvbiBzaGFsbG93UmVhY3RpdmUob2JqKSB7XHJcbiAgICB2YXIgZV8yLCBfYTtcclxuICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybiQxKCdcInNoYWxsb3dSZWFjdGl2ZSgpXCIgbXVzdCBiZSBjYWxsZWQgb24gYW4gb2JqZWN0LicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG4gICAgaWYgKCEoaXNQbGFpbk9iamVjdChvYmopIHx8IGlzQXJyYXkob2JqKSkgfHxcclxuICAgICAgICBpc1JhdyhvYmopIHx8XHJcbiAgICAgICAgIU9iamVjdC5pc0V4dGVuc2libGUob2JqKSkge1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcbiAgICB2YXIgb2JzZXJ2ZWQgPSBvYnNlcnZlKGlzQXJyYXkob2JqKSA/IFtdIDoge30pO1xyXG4gICAgc2V0dXBBY2Nlc3NDb250cm9sKG9ic2VydmVkKTtcclxuICAgIHZhciBvYiA9IG9ic2VydmVkLl9fb2JfXztcclxuICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHZhciB2YWwgPSBvYmpba2V5XTtcclxuICAgICAgICB2YXIgZ2V0dGVyO1xyXG4gICAgICAgIHZhciBzZXR0ZXI7XHJcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSk7XHJcbiAgICAgICAgaWYgKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5jb25maWd1cmFibGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdldHRlciA9IHByb3BlcnR5LmdldDtcclxuICAgICAgICAgICAgc2V0dGVyID0gcHJvcGVydHkuc2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcm94eShvYnNlcnZlZCwga2V5LCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0dGVySGFuZGxlcigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiB2YWw7XHJcbiAgICAgICAgICAgICAgICAoX2EgPSBvYi5kZXApID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXBlbmQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXR0ZXJIYW5kbGVyKG5ld1ZhbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdldHRlciAmJiAhc2V0dGVyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmIChzZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0ZXIuY2FsbChvYmosIG5ld1ZhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWwgPSBuZXdWYWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAoX2EgPSBvYi5kZXApID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ub3RpZnkoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoT2JqZWN0LmtleXMob2JqKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IF9jLnZhbHVlO1xyXG4gICAgICAgICAgICBfbG9vcF8xKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9ic2VydmVkO1xyXG59XHJcbi8qKlxyXG4gKiBNYWtlIG9iaiByZWFjdGl2aXR5XHJcbiAqL1xyXG5mdW5jdGlvbiByZWFjdGl2ZShvYmopIHtcclxuICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybiQxKCdcInJlYWN0aXZlKClcIiBtdXN0IGJlIGNhbGxlZCBvbiBhbiBvYmplY3QuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcbiAgICBpZiAoIShpc1BsYWluT2JqZWN0KG9iaikgfHwgaXNBcnJheShvYmopKSB8fFxyXG4gICAgICAgIGlzUmF3KG9iaikgfHxcclxuICAgICAgICAhT2JqZWN0LmlzRXh0ZW5zaWJsZShvYmopKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuICAgIHZhciBvYnNlcnZlZCA9IG9ic2VydmUob2JqKTtcclxuICAgIHNldHVwQWNjZXNzQ29udHJvbChvYnNlcnZlZCk7XHJcbiAgICByZXR1cm4gb2JzZXJ2ZWQ7XHJcbn1cclxuLyoqXHJcbiAqIE1ha2Ugc3VyZSBvYmogY2FuJ3QgYmUgYSByZWFjdGl2ZVxyXG4gKi9cclxuZnVuY3Rpb24gbWFya1JhdyhvYmopIHtcclxuICAgIGlmICghKGlzUGxhaW5PYmplY3Qob2JqKSB8fCBpc0FycmF5KG9iaikpIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKG9iaikpIHtcclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG4gICAgLy8gc2V0IHRoZSB2dWUgb2JzZXJ2YWJsZSBmbGFnIGF0IG9ialxyXG4gICAgdmFyIG9iID0gY3JlYXRlT2JzZXJ2ZXIoKTtcclxuICAgIG9iLl9fcmF3X18gPSB0cnVlO1xyXG4gICAgZGVmKG9iaiwgJ19fb2JfXycsIG9iKTtcclxuICAgIC8vIG1hcmsgYXMgUmF3XHJcbiAgICByYXdTZXQuc2V0KG9iaiwgdHJ1ZSk7XHJcbiAgICByZXR1cm4gb2JqO1xyXG59XHJcbmZ1bmN0aW9uIHRvUmF3KG9ic2VydmVkKSB7XHJcbiAgICB2YXIgX2EsIF9iO1xyXG4gICAgaWYgKGlzUmF3KG9ic2VydmVkKSB8fCAhT2JqZWN0LmlzRXh0ZW5zaWJsZShvYnNlcnZlZCkpIHtcclxuICAgICAgICByZXR1cm4gb2JzZXJ2ZWQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKChfYiA9IChfYSA9IG9ic2VydmVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuX19vYl9fKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudmFsdWUpIHx8IG9ic2VydmVkO1xyXG59XG5cbmZ1bmN0aW9uIGlzUmVhZG9ubHkob2JqKSB7XHJcbiAgICByZXR1cm4gcmVhZG9ubHlTZXQuaGFzKG9iaik7XHJcbn1cclxuLyoqXHJcbiAqICoqSW4gQHZ1ZS9jb21wb3NpdGlvbi1hcGksIGByZWFjdGl2ZWAgb25seSBwcm92aWRlcyB0eXBlLWxldmVsIHJlYWRvbmx5IGNoZWNrKipcclxuICpcclxuICogQ3JlYXRlcyBhIHJlYWRvbmx5IGNvcHkgb2YgdGhlIG9yaWdpbmFsIG9iamVjdC4gTm90ZSB0aGUgcmV0dXJuZWQgY29weSBpcyBub3RcclxuICogbWFkZSByZWFjdGl2ZSwgYnV0IGByZWFkb25seWAgY2FuIGJlIGNhbGxlZCBvbiBhbiBhbHJlYWR5IHJlYWN0aXZlIG9iamVjdC5cclxuICovXHJcbmZ1bmN0aW9uIHJlYWRvbmx5KHRhcmdldCkge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNPYmplY3QodGFyZ2V0KSkge1xyXG4gICAgICAgIHdhcm4kMShcInZhbHVlIGNhbm5vdCBiZSBtYWRlIHJlYWN0aXZlOiBcIiArIFN0cmluZyh0YXJnZXQpKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn1cclxuZnVuY3Rpb24gc2hhbGxvd1JlYWRvbmx5KG9iaikge1xyXG4gICAgdmFyIGVfMSwgX2E7XHJcbiAgICBpZiAoIWlzT2JqZWN0KG9iaikpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHdhcm4kMShcInZhbHVlIGNhbm5vdCBiZSBtYWRlIHJlYWN0aXZlOiBcIiArIFN0cmluZyhvYmopKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuICAgIGlmICghKGlzUGxhaW5PYmplY3Qob2JqKSB8fCBpc0FycmF5KG9iaikpIHx8XHJcbiAgICAgICAgKCFPYmplY3QuaXNFeHRlbnNpYmxlKG9iaikgJiYgIWlzUmVmKG9iaikpKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuICAgIHZhciByZWFkb25seU9iaiA9IGlzUmVmKG9iailcclxuICAgICAgICA/IG5ldyBSZWZJbXBsKHt9KVxyXG4gICAgICAgIDogaXNSZWFjdGl2ZShvYmopXHJcbiAgICAgICAgICAgID8gb2JzZXJ2ZSh7fSlcclxuICAgICAgICAgICAgOiB7fTtcclxuICAgIHZhciBzb3VyY2UgPSByZWFjdGl2ZSh7fSk7XHJcbiAgICB2YXIgb2IgPSBzb3VyY2UuX19vYl9fO1xyXG4gICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdmFyIHZhbCA9IG9ialtrZXldO1xyXG4gICAgICAgIHZhciBnZXR0ZXI7XHJcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSk7XHJcbiAgICAgICAgaWYgKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5jb25maWd1cmFibGUgPT09IGZhbHNlICYmICFpc1JlZihvYmopKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdldHRlciA9IHByb3BlcnR5LmdldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJveHkocmVhZG9ubHlPYmosIGtleSwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldHRlckhhbmRsZXIoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogdmFsO1xyXG4gICAgICAgICAgICAgICAgb2IuZGVwLmRlcGVuZCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKFwiU2V0IG9wZXJhdGlvbiBvbiBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoT2JqZWN0LmtleXMob2JqKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IF9jLnZhbHVlO1xyXG4gICAgICAgICAgICBfbG9vcF8xKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmVhZG9ubHlTZXQuc2V0KHJlYWRvbmx5T2JqLCB0cnVlKTtcclxuICAgIHJldHVybiByZWFkb25seU9iajtcclxufVxuXG4vKipcclxuICogU2V0IGEgcHJvcGVydHkgb24gYW4gb2JqZWN0LiBBZGRzIHRoZSBuZXcgcHJvcGVydHksIHRyaWdnZXJzIGNoYW5nZVxyXG4gKiBub3RpZmljYXRpb24gYW5kIGludGVyY2VwdCBpdCdzIHN1YnNlcXVlbnQgYWNjZXNzIGlmIHRoZSBwcm9wZXJ0eSBkb2Vzbid0XHJcbiAqIGFscmVhZHkgZXhpc3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXQkMSh0YXJnZXQsIGtleSwgdmFsKSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICB2YXIgVnVlID0gZ2V0VnVlQ29uc3RydWN0b3IoKTtcclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9wdWxsLzEyMTMyXHJcbiAgICB2YXIgX2IgPSBWdWUudXRpbCwgd2FybiA9IF9iLndhcm4sIGRlZmluZVJlYWN0aXZlID0gX2IuZGVmaW5lUmVhY3RpdmU7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIChpc1VuZGVmKHRhcmdldCkgfHwgaXNQcmltaXRpdmUodGFyZ2V0KSkpIHtcclxuICAgICAgICB3YXJuKFwiQ2Fubm90IHNldCByZWFjdGl2ZSBwcm9wZXJ0eSBvbiB1bmRlZmluZWQsIG51bGwsIG9yIHByaW1pdGl2ZSB2YWx1ZTogXCIgKyB0YXJnZXQpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSkge1xyXG4gICAgICAgIGlmIChpc1ZhbGlkQXJyYXlJbmRleChrZXkpKSB7XHJcbiAgICAgICAgICAgIHRhcmdldC5sZW5ndGggPSBNYXRoLm1heCh0YXJnZXQubGVuZ3RoLCBrZXkpO1xyXG4gICAgICAgICAgICB0YXJnZXQuc3BsaWNlKGtleSwgMSwgdmFsKTtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnbGVuZ3RoJyAmJiB2YWwgIT09IHRhcmdldC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGFyZ2V0Lmxlbmd0aCA9IHZhbDtcclxuICAgICAgICAgICAgKF9hID0gdGFyZ2V0Ll9fb2JfXykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlcC5ub3RpZnkoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoa2V5IGluIHRhcmdldCAmJiAhKGtleSBpbiBPYmplY3QucHJvdG90eXBlKSkge1xyXG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsO1xyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcbiAgICB2YXIgb2IgPSB0YXJnZXQuX19vYl9fO1xyXG4gICAgaWYgKHRhcmdldC5faXNWdWUgfHwgKG9iICYmIG9iLnZtQ291bnQpKSB7XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIHdhcm4oJ0F2b2lkIGFkZGluZyByZWFjdGl2ZSBwcm9wZXJ0aWVzIHRvIGEgVnVlIGluc3RhbmNlIG9yIGl0cyByb290ICRkYXRhICcgK1xyXG4gICAgICAgICAgICAgICAgJ2F0IHJ1bnRpbWUgLSBkZWNsYXJlIGl0IHVwZnJvbnQgaW4gdGhlIGRhdGEgb3B0aW9uLicpO1xyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcbiAgICBpZiAoIW9iKSB7XHJcbiAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWw7XHJcbiAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgIH1cclxuICAgIGRlZmluZVJlYWN0aXZlKG9iLnZhbHVlLCBrZXksIHZhbCk7XHJcbiAgICAvLyBJTVBPUlRBTlQ6IGRlZmluZSBhY2Nlc3MgY29udHJvbCBiZWZvcmUgdHJpZ2dlciB3YXRjaGVyXHJcbiAgICBkZWZpbmVBY2Nlc3NDb250cm9sKHRhcmdldCwga2V5LCB2YWwpO1xyXG4gICAgb2IuZGVwLm5vdGlmeSgpO1xyXG4gICAgcmV0dXJuIHZhbDtcclxufVxuXG4vKipcclxuICogRGVsZXRlIGEgcHJvcGVydHkgYW5kIHRyaWdnZXIgY2hhbmdlIGlmIG5lY2Vzc2FyeS5cclxuICovXHJcbmZ1bmN0aW9uIGRlbCh0YXJnZXQsIGtleSkge1xyXG4gICAgdmFyIFZ1ZSA9IGdldFZ1ZUNvbnN0cnVjdG9yKCk7XHJcbiAgICB2YXIgd2FybiA9IFZ1ZS51dGlsLndhcm47XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIChpc1VuZGVmKHRhcmdldCkgfHwgaXNQcmltaXRpdmUodGFyZ2V0KSkpIHtcclxuICAgICAgICB3YXJuKFwiQ2Fubm90IGRlbGV0ZSByZWFjdGl2ZSBwcm9wZXJ0eSBvbiB1bmRlZmluZWQsIG51bGwsIG9yIHByaW1pdGl2ZSB2YWx1ZTogXCIgKyB0YXJnZXQpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSAmJiBpc1ZhbGlkQXJyYXlJbmRleChrZXkpKSB7XHJcbiAgICAgICAgdGFyZ2V0LnNwbGljZShrZXksIDEpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBvYiA9IHRhcmdldC5fX29iX187XHJcbiAgICBpZiAodGFyZ2V0Ll9pc1Z1ZSB8fCAob2IgJiYgb2Iudm1Db3VudCkpIHtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgd2FybignQXZvaWQgZGVsZXRpbmcgcHJvcGVydGllcyBvbiBhIFZ1ZSBpbnN0YW5jZSBvciBpdHMgcm9vdCAkZGF0YSAnICtcclxuICAgICAgICAgICAgICAgICctIGp1c3Qgc2V0IGl0IHRvIG51bGwuJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCFoYXNPd24odGFyZ2V0LCBrZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZGVsZXRlIHRhcmdldFtrZXldO1xyXG4gICAgaWYgKCFvYikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIG9iLmRlcC5ub3RpZnkoKTtcclxufVxuXG52YXIgZ2VuTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBcIm9uXCIgKyAobmFtZVswXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKSk7IH07XHJcbmZ1bmN0aW9uIGNyZWF0ZUxpZmVDeWNsZShsaWZlQ3ljbGVob29rKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIHZtID0gY3VycmVudFZNSW5GbihnZW5OYW1lKGxpZmVDeWNsZWhvb2spKTtcclxuICAgICAgICBpZiAodm0pIHtcclxuICAgICAgICAgICAgaW5qZWN0SG9va09wdGlvbihnZXRWdWVDb25zdHJ1Y3RvcigpLCB2bSwgbGlmZUN5Y2xlaG9vaywgY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gaW5qZWN0SG9va09wdGlvbihWdWUsIHZtLCBob29rLCB2YWwpIHtcclxuICAgIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7XHJcbiAgICB2YXIgbWVyZ2VGbiA9IFZ1ZS5jb25maWcub3B0aW9uTWVyZ2VTdHJhdGVnaWVzW2hvb2tdO1xyXG4gICAgb3B0aW9uc1tob29rXSA9IG1lcmdlRm4ob3B0aW9uc1tob29rXSwgd3JhcEhvb2tDYWxsKHZtLCB2YWwpKTtcclxufVxyXG5mdW5jdGlvbiB3cmFwSG9va0NhbGwodm0sIGZuKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHByZVZtID0gKF9hID0gZ2V0Q3VycmVudEluc3RhbmNlKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wcm94eTtcclxuICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2Uodm0pO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKHByZVZtKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbi8vIGV4cG9ydCBjb25zdCBvbkNyZWF0ZWQgPSBjcmVhdGVMaWZlQ3ljbGUoJ2NyZWF0ZWQnKTtcclxudmFyIG9uQmVmb3JlTW91bnQgPSBjcmVhdGVMaWZlQ3ljbGUoJ2JlZm9yZU1vdW50Jyk7XHJcbnZhciBvbk1vdW50ZWQgPSBjcmVhdGVMaWZlQ3ljbGUoJ21vdW50ZWQnKTtcclxudmFyIG9uQmVmb3JlVXBkYXRlID0gY3JlYXRlTGlmZUN5Y2xlKCdiZWZvcmVVcGRhdGUnKTtcclxudmFyIG9uVXBkYXRlZCA9IGNyZWF0ZUxpZmVDeWNsZSgndXBkYXRlZCcpO1xyXG52YXIgb25CZWZvcmVVbm1vdW50ID0gY3JlYXRlTGlmZUN5Y2xlKCdiZWZvcmVEZXN0cm95Jyk7XHJcbnZhciBvblVubW91bnRlZCA9IGNyZWF0ZUxpZmVDeWNsZSgnZGVzdHJveWVkJyk7XHJcbnZhciBvbkVycm9yQ2FwdHVyZWQgPSBjcmVhdGVMaWZlQ3ljbGUoJ2Vycm9yQ2FwdHVyZWQnKTtcclxudmFyIG9uQWN0aXZhdGVkID0gY3JlYXRlTGlmZUN5Y2xlKCdhY3RpdmF0ZWQnKTtcclxudmFyIG9uRGVhY3RpdmF0ZWQgPSBjcmVhdGVMaWZlQ3ljbGUoJ2RlYWN0aXZhdGVkJyk7XHJcbnZhciBvblNlcnZlclByZWZldGNoID0gY3JlYXRlTGlmZUN5Y2xlKCdzZXJ2ZXJQcmVmZXRjaCcpO1xuXG52YXIgZmFsbGJhY2tWTTtcclxuZnVuY3Rpb24gZmx1c2hQcmVRdWV1ZSgpIHtcclxuICAgIGZsdXNoUXVldWUodGhpcywgV2F0Y2hlclByZUZsdXNoUXVldWVLZXkpO1xyXG59XHJcbmZ1bmN0aW9uIGZsdXNoUG9zdFF1ZXVlKCkge1xyXG4gICAgZmx1c2hRdWV1ZSh0aGlzLCBXYXRjaGVyUG9zdEZsdXNoUXVldWVLZXkpO1xyXG59XHJcbmZ1bmN0aW9uIGhhc1dhdGNoRW52KHZtKSB7XHJcbiAgICByZXR1cm4gdm1bV2F0Y2hlclByZUZsdXNoUXVldWVLZXldICE9PSB1bmRlZmluZWQ7XHJcbn1cclxuZnVuY3Rpb24gaW5zdGFsbFdhdGNoRW52KHZtKSB7XHJcbiAgICB2bVtXYXRjaGVyUHJlRmx1c2hRdWV1ZUtleV0gPSBbXTtcclxuICAgIHZtW1dhdGNoZXJQb3N0Rmx1c2hRdWV1ZUtleV0gPSBbXTtcclxuICAgIHZtLiRvbignaG9vazpiZWZvcmVVcGRhdGUnLCBmbHVzaFByZVF1ZXVlKTtcclxuICAgIHZtLiRvbignaG9vazp1cGRhdGVkJywgZmx1c2hQb3N0UXVldWUpO1xyXG59XHJcbmZ1bmN0aW9uIGdldFdhdGNoZXJPcHRpb24ob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIF9fYXNzaWduKHtcclxuICAgICAgICBpbW1lZGlhdGU6IGZhbHNlLFxyXG4gICAgICAgIGRlZXA6IGZhbHNlLFxyXG4gICAgICAgIGZsdXNoOiAncHJlJyxcclxuICAgIH0sIG9wdGlvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIGdldFdhdGNoRWZmZWN0T3B0aW9uKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBfX2Fzc2lnbih7XHJcbiAgICAgICAgZmx1c2g6ICdwcmUnLFxyXG4gICAgfSwgb3B0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0V2F0Y2hlclZNKCkge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgdmFyIHZtID0gKF9hID0gZ2V0Q3VycmVudEluc3RhbmNlKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wcm94eTtcclxuICAgIGlmICghdm0pIHtcclxuICAgICAgICBpZiAoIWZhbGxiYWNrVk0pIHtcclxuICAgICAgICAgICAgZmFsbGJhY2tWTSA9IGRlZmluZUNvbXBvbmVudEluc3RhbmNlKGdldFZ1ZUNvbnN0cnVjdG9yKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2bSA9IGZhbGxiYWNrVk07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghaGFzV2F0Y2hFbnYodm0pKSB7XHJcbiAgICAgICAgaW5zdGFsbFdhdGNoRW52KHZtKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2bTtcclxufVxyXG5mdW5jdGlvbiBmbHVzaFF1ZXVlKHZtLCBrZXkpIHtcclxuICAgIHZhciBxdWV1ZSA9IHZtW2tleV07XHJcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgcXVldWUubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgcXVldWVbaW5kZXhdKCk7XHJcbiAgICB9XHJcbiAgICBxdWV1ZS5sZW5ndGggPSAwO1xyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlRmx1c2hKb2Iodm0sIGZuLCBtb2RlKSB7XHJcbiAgICAvLyBmbHVzaCBhbGwgd2hlbiBiZWZvcmVVcGRhdGUgYW5kIHVwZGF0ZWQgYXJlIG5vdCBmaXJlZFxyXG4gICAgdmFyIGZhbGxiYWNrRmx1c2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdm0uJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHZtW1dhdGNoZXJQcmVGbHVzaFF1ZXVlS2V5XS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGZsdXNoUXVldWUodm0sIFdhdGNoZXJQcmVGbHVzaFF1ZXVlS2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodm1bV2F0Y2hlclBvc3RGbHVzaFF1ZXVlS2V5XS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGZsdXNoUXVldWUodm0sIFdhdGNoZXJQb3N0Rmx1c2hRdWV1ZUtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBzd2l0Y2ggKG1vZGUpIHtcclxuICAgICAgICBjYXNlICdwcmUnOlxyXG4gICAgICAgICAgICBmYWxsYmFja0ZsdXNoKCk7XHJcbiAgICAgICAgICAgIHZtW1dhdGNoZXJQcmVGbHVzaFF1ZXVlS2V5XS5wdXNoKGZuKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAncG9zdCc6XHJcbiAgICAgICAgICAgIGZhbGxiYWNrRmx1c2goKTtcclxuICAgICAgICAgICAgdm1bV2F0Y2hlclBvc3RGbHVzaFF1ZXVlS2V5XS5wdXNoKGZuKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgYXNzZXJ0KGZhbHNlLCBcImZsdXNoIG11c3QgYmUgb25lIG9mIFtcXFwicG9zdFxcXCIsIFxcXCJwcmVcXFwiLCBcXFwic3luY1xcXCJdLCBidXQgZ290IFwiICsgbW9kZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVZ1ZVdhdGNoZXIodm0sIGdldHRlciwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcclxuICAgIHZhciBpbmRleCA9IHZtLl93YXRjaGVycy5sZW5ndGg7XHJcbiAgICAvLyBAdHMtaWdub3JlOiB1c2UgdW5kb2N1bWVudGVkIG9wdGlvbnNcclxuICAgIHZtLiR3YXRjaChnZXR0ZXIsIGNhbGxiYWNrLCB7XHJcbiAgICAgICAgaW1tZWRpYXRlOiBvcHRpb25zLmltbWVkaWF0ZUludm9rZUNhbGxiYWNrLFxyXG4gICAgICAgIGRlZXA6IG9wdGlvbnMuZGVlcCxcclxuICAgICAgICBsYXp5OiBvcHRpb25zLm5vUnVuLFxyXG4gICAgICAgIHN5bmM6IG9wdGlvbnMuc3luYyxcclxuICAgICAgICBiZWZvcmU6IG9wdGlvbnMuYmVmb3JlLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdm0uX3dhdGNoZXJzW2luZGV4XTtcclxufVxyXG4vLyBXZSBoYXZlIHRvIG1vbmtleXBhdGNoIHRoZSB0ZWFyZG93biBmdW5jdGlvbiBzbyBWdWUgd2lsbCBydW5cclxuLy8gcnVuQ2xlYW51cCgpIHdoZW4gaXQgdGVhcnMgZG93biB0aGUgd2F0Y2hlciBvbiB1bm1vdW50ZWQuXHJcbmZ1bmN0aW9uIHBhdGNoV2F0Y2hlclRlYXJkb3duKHdhdGNoZXIsIHJ1bkNsZWFudXApIHtcclxuICAgIHZhciBfdGVhcmRvd24gPSB3YXRjaGVyLnRlYXJkb3duO1xyXG4gICAgd2F0Y2hlci50ZWFyZG93biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX3RlYXJkb3duLmFwcGx5KHdhdGNoZXIsIGFyZ3MpO1xyXG4gICAgICAgIHJ1bkNsZWFudXAoKTtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlV2F0Y2hlcih2bSwgc291cmNlLCBjYiwgb3B0aW9ucykge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhY2IpIHtcclxuICAgICAgICBpZiAob3B0aW9ucy5pbW1lZGlhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB3YXJuJDEoXCJ3YXRjaCgpIFxcXCJpbW1lZGlhdGVcXFwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSBcIiArXHJcbiAgICAgICAgICAgICAgICBcIndhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9ucy5kZWVwICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2FybiQxKFwid2F0Y2goKSBcXFwiZGVlcFxcXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIFwiICtcclxuICAgICAgICAgICAgICAgIFwid2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGZsdXNoTW9kZSA9IG9wdGlvbnMuZmx1c2g7XHJcbiAgICB2YXIgaXNTeW5jID0gZmx1c2hNb2RlID09PSAnc3luYyc7XHJcbiAgICB2YXIgY2xlYW51cDtcclxuICAgIHZhciByZWdpc3RlckNsZWFudXAgPSBmdW5jdGlvbiAoZm4pIHtcclxuICAgICAgICBjbGVhbnVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGxvZ0Vycm9yKGVycm9yLCB2bSwgJ29uQ2xlYW51cCgpJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIC8vIGNsZWFudXAgYmVmb3JlIHJ1bm5pbmcgZ2V0dGVyIGFnYWluXHJcbiAgICB2YXIgcnVuQ2xlYW51cCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoY2xlYW51cCkge1xyXG4gICAgICAgICAgICBjbGVhbnVwKCk7XHJcbiAgICAgICAgICAgIGNsZWFudXAgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlU2NoZWR1bGVyID0gZnVuY3Rpb24gKGZuKSB7XHJcbiAgICAgICAgaWYgKGlzU3luYyB8fFxyXG4gICAgICAgICAgICAvKiB3aXRob3V0IGEgY3VycmVudCBhY3RpdmUgaW5zdGFuY2UsIGlnbm9yZSBwcmV8cG9zdCBtb2RlICovIHZtID09PVxyXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tWTSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBxdWV1ZUZsdXNoSm9iKHZtLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmbi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpO1xyXG4gICAgICAgICAgICB9LCBmbHVzaE1vZGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8vIGVmZmVjdCB3YXRjaFxyXG4gICAgaWYgKGNiID09PSBudWxsKSB7XHJcbiAgICAgICAgdmFyIHJ1bm5pbmdfMSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBnZXR0ZXJfMSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gcHJldmVudGluZyB0aGUgd2F0Y2ggY2FsbGJhY2sgYmVpbmcgY2FsbCBpbiB0aGUgc2FtZSBleGVjdXRpb25cclxuICAgICAgICAgICAgaWYgKHJ1bm5pbmdfMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBydW5uaW5nXzEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc291cmNlKHJlZ2lzdGVyQ2xlYW51cCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICBydW5uaW5nXzEgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHdhdGNoZXJfMSA9IGNyZWF0ZVZ1ZVdhdGNoZXIodm0sIGdldHRlcl8xLCBub29wRm4sIHtcclxuICAgICAgICAgICAgZGVlcDogb3B0aW9ucy5kZWVwIHx8IGZhbHNlLFxyXG4gICAgICAgICAgICBzeW5jOiBpc1N5bmMsXHJcbiAgICAgICAgICAgIGJlZm9yZTogcnVuQ2xlYW51cCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBwYXRjaFdhdGNoZXJUZWFyZG93bih3YXRjaGVyXzEsIHJ1bkNsZWFudXApO1xyXG4gICAgICAgIC8vIGVuYWJsZSB0aGUgd2F0Y2hlciB1cGRhdGVcclxuICAgICAgICB3YXRjaGVyXzEubGF6eSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBvcmlnaW5HZXQgPSB3YXRjaGVyXzEuZ2V0LmJpbmQod2F0Y2hlcl8xKTtcclxuICAgICAgICAvLyBhbHdheXMgcnVuIHdhdGNoRWZmZWN0XHJcbiAgICAgICAgd2F0Y2hlcl8xLmdldCA9IGNyZWF0ZVNjaGVkdWxlcihvcmlnaW5HZXQpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdhdGNoZXJfMS50ZWFyZG93bigpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICB2YXIgZGVlcCA9IG9wdGlvbnMuZGVlcDtcclxuICAgIHZhciBnZXR0ZXI7XHJcbiAgICBpZiAoaXNSZWYoc291cmNlKSkge1xyXG4gICAgICAgIGdldHRlciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZS52YWx1ZTsgfTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUoc291cmNlKSkge1xyXG4gICAgICAgIGdldHRlciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZTsgfTtcclxuICAgICAgICBkZWVwID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQXJyYXkoc291cmNlKSkge1xyXG4gICAgICAgIGdldHRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5tYXAoZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc1JlZihzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWFjdGl2ZShzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmF2ZXJzZShzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMShcIkludmFsaWQgd2F0Y2ggc291cmNlOiBcIiArIEpTT04uc3RyaW5naWZ5KHMpICsgXCIuXFxuICAgICAgICAgIEEgd2F0Y2ggc291cmNlIGNhbiBvbmx5IGJlIGEgZ2V0dGVyL2VmZmVjdCBmdW5jdGlvbiwgYSByZWYsIGEgcmVhY3RpdmUgb2JqZWN0LCBvciBhbiBhcnJheSBvZiB0aGVzZSB0eXBlcy5cIiwgdm0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub29wRm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcclxuICAgICAgICBnZXR0ZXIgPSBzb3VyY2U7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBnZXR0ZXIgPSBub29wRm47XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIHdhcm4kMShcIkludmFsaWQgd2F0Y2ggc291cmNlOiBcIiArIEpTT04uc3RyaW5naWZ5KHNvdXJjZSkgKyBcIi5cXG4gICAgICBBIHdhdGNoIHNvdXJjZSBjYW4gb25seSBiZSBhIGdldHRlci9lZmZlY3QgZnVuY3Rpb24sIGEgcmVmLCBhIHJlYWN0aXZlIG9iamVjdCwgb3IgYW4gYXJyYXkgb2YgdGhlc2UgdHlwZXMuXCIsIHZtKTtcclxuICAgIH1cclxuICAgIGlmIChkZWVwKSB7XHJcbiAgICAgICAgdmFyIGJhc2VHZXR0ZXJfMSA9IGdldHRlcjtcclxuICAgICAgICBnZXR0ZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0cmF2ZXJzZShiYXNlR2V0dGVyXzEoKSk7IH07XHJcbiAgICB9XHJcbiAgICB2YXIgYXBwbHlDYiA9IGZ1bmN0aW9uIChuLCBvKSB7XHJcbiAgICAgICAgLy8gY2xlYW51cCBiZWZvcmUgcnVubmluZyBjYiBhZ2FpblxyXG4gICAgICAgIHJ1bkNsZWFudXAoKTtcclxuICAgICAgICByZXR1cm4gY2IobiwgbywgcmVnaXN0ZXJDbGVhbnVwKTtcclxuICAgIH07XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBjcmVhdGVTY2hlZHVsZXIoYXBwbHlDYik7XHJcbiAgICBpZiAob3B0aW9ucy5pbW1lZGlhdGUpIHtcclxuICAgICAgICB2YXIgb3JpZ2luYWxDYWxsYmFja18xID0gY2FsbGJhY2s7XHJcbiAgICAgICAgLy8gYHNoaWZ0Q2FsbGJhY2tgIGlzIHVzZWQgdG8gaGFuZGxlIHRoZSBmaXJzdCBzeW5jIGVmZmVjdCBydW4uXHJcbiAgICAgICAgLy8gVGhlIHN1YnNlcXVlbnQgY2FsbGJhY2tzIHdpbGwgcmVkaXJlY3QgdG8gYGNhbGxiYWNrYC5cclxuICAgICAgICB2YXIgc2hpZnRDYWxsYmFja18xID0gZnVuY3Rpb24gKG4sIG8pIHtcclxuICAgICAgICAgICAgc2hpZnRDYWxsYmFja18xID0gb3JpZ2luYWxDYWxsYmFja18xO1xyXG4gICAgICAgICAgICAvLyBvIGlzIHVuZGVmaW5lZCBvbiB0aGUgZmlyc3QgY2FsbFxyXG4gICAgICAgICAgICByZXR1cm4gYXBwbHlDYihuLCBpc0FycmF5KG4pID8gW10gOiBvKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKG4sIG8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNoaWZ0Q2FsbGJhY2tfMShuLCBvKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLy8gQHRzLWlnbm9yZTogdXNlIHVuZG9jdW1lbnRlZCBvcHRpb24gXCJzeW5jXCJcclxuICAgIHZhciBzdG9wID0gdm0uJHdhdGNoKGdldHRlciwgY2FsbGJhY2ssIHtcclxuICAgICAgICBpbW1lZGlhdGU6IG9wdGlvbnMuaW1tZWRpYXRlLFxyXG4gICAgICAgIGRlZXA6IGRlZXAsXHJcbiAgICAgICAgc3luYzogaXNTeW5jLFxyXG4gICAgfSk7XHJcbiAgICAvLyBPbmNlIGFnYWluLCB3ZSBoYXZlIHRvIGhhY2sgdGhlIHdhdGNoZXIgZm9yIHByb3BlciB0ZWFyZG93blxyXG4gICAgdmFyIHdhdGNoZXIgPSB2bS5fd2F0Y2hlcnNbdm0uX3dhdGNoZXJzLmxlbmd0aCAtIDFdO1xyXG4gICAgLy8gaWYgdGhlIHJldHVybiB2YWx1ZSBpcyByZWFjdGl2ZSBhbmQgZGVlcDp0cnVlXHJcbiAgICAvLyB3YXRjaCBmb3IgY2hhbmdlcywgdGhpcyBtaWdodCBoYXBwZW4gd2hlbiBuZXcga2V5IGlzIGFkZGVkXHJcbiAgICBpZiAoaXNSZWFjdGl2ZSh3YXRjaGVyLnZhbHVlKSAmJiAoKF9hID0gd2F0Y2hlci52YWx1ZS5fX29iX18pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXApICYmIGRlZXApIHtcclxuICAgICAgICB3YXRjaGVyLnZhbHVlLl9fb2JfXy5kZXAuYWRkU3ViKHtcclxuICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgZm9yY2UgdGhlIHNvdXJjZSB0byBiZSByZXZhbHVhdGVkIGFuZCB0aGUgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIC8vIGV4ZWN1dGVkIGlmIG5lZWRlZFxyXG4gICAgICAgICAgICAgICAgd2F0Y2hlci5ydW4oKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHBhdGNoV2F0Y2hlclRlYXJkb3duKHdhdGNoZXIsIHJ1bkNsZWFudXApO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzdG9wKCk7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIHdhdGNoRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xyXG4gICAgdmFyIG9wdHMgPSBnZXRXYXRjaEVmZmVjdE9wdGlvbihvcHRpb25zKTtcclxuICAgIHZhciB2bSA9IGdldFdhdGNoZXJWTSgpO1xyXG4gICAgcmV0dXJuIGNyZWF0ZVdhdGNoZXIodm0sIGVmZmVjdCwgbnVsbCwgb3B0cyk7XHJcbn1cclxuLy8gaW1wbGVtZW50YXRpb25cclxuZnVuY3Rpb24gd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucykge1xyXG4gICAgdmFyIGNhbGxiYWNrID0gbnVsbDtcclxuICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAvLyBzb3VyY2Ugd2F0Y2hcclxuICAgICAgICBjYWxsYmFjayA9IGNiO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gZWZmZWN0IHdhdGNoXHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICB3YXJuJDEoXCJgd2F0Y2goZm4sIG9wdGlvbnM/KWAgc2lnbmF0dXJlIGhhcyBiZWVuIG1vdmVkIHRvIGEgc2VwYXJhdGUgQVBJLiBcIiArXHJcbiAgICAgICAgICAgICAgICBcIlVzZSBgd2F0Y2hFZmZlY3QoZm4sIG9wdGlvbnM/KWAgaW5zdGVhZC4gYHdhdGNoYCBub3cgb25seSBcIiArXHJcbiAgICAgICAgICAgICAgICBcInN1cHBvcnRzIGB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zPykgc2lnbmF0dXJlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgb3B0aW9ucyA9IGNiO1xyXG4gICAgICAgIGNhbGxiYWNrID0gbnVsbDtcclxuICAgIH1cclxuICAgIHZhciBvcHRzID0gZ2V0V2F0Y2hlck9wdGlvbihvcHRpb25zKTtcclxuICAgIHZhciB2bSA9IGdldFdhdGNoZXJWTSgpO1xyXG4gICAgcmV0dXJuIGNyZWF0ZVdhdGNoZXIodm0sIHNvdXJjZSwgY2FsbGJhY2ssIG9wdHMpO1xyXG59XHJcbmZ1bmN0aW9uIHRyYXZlcnNlKHZhbHVlLCBzZWVuKSB7XHJcbiAgICBpZiAoc2VlbiA9PT0gdm9pZCAwKSB7IHNlZW4gPSBuZXcgU2V0KCk7IH1cclxuICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IHNlZW4uaGFzKHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIHNlZW4uYWRkKHZhbHVlKTtcclxuICAgIGlmIChpc1JlZih2YWx1ZSkpIHtcclxuICAgICAgICB0cmF2ZXJzZSh2YWx1ZS52YWx1ZSwgc2Vlbik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdHJhdmVyc2UodmFsdWVbaV0sIHNlZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzU2V0KHZhbHVlKSB8fCBpc01hcCh2YWx1ZSkpIHtcclxuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgIHRyYXZlcnNlKHYsIHNlZW4pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcclxuICAgICAgICAgICAgdHJhdmVyc2UodmFsdWVba2V5XSwgc2Vlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XG5cbi8vIGltcGxlbWVudFxyXG5mdW5jdGlvbiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMpIHtcclxuICAgIHZhciBfYTtcclxuICAgIHZhciB2bSA9IChfYSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJveHk7XHJcbiAgICB2YXIgZ2V0dGVyO1xyXG4gICAgdmFyIHNldHRlcjtcclxuICAgIGlmICh0eXBlb2YgZ2V0dGVyT3JPcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLmdldDtcclxuICAgICAgICBzZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnMuc2V0O1xyXG4gICAgfVxyXG4gICAgdmFyIGNvbXB1dGVkU2V0dGVyO1xyXG4gICAgdmFyIGNvbXB1dGVkR2V0dGVyO1xyXG4gICAgaWYgKHZtICYmICF2bS4kaXNTZXJ2ZXIpIHtcclxuICAgICAgICB2YXIgX2IgPSBnZXRWdWVJbnRlcm5hbENsYXNzZXMoKSwgV2F0Y2hlcl8xID0gX2IuV2F0Y2hlciwgRGVwXzEgPSBfYi5EZXA7XHJcbiAgICAgICAgdmFyIHdhdGNoZXJfMTtcclxuICAgICAgICBjb21wdXRlZEdldHRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCF3YXRjaGVyXzEpIHtcclxuICAgICAgICAgICAgICAgIHdhdGNoZXJfMSA9IG5ldyBXYXRjaGVyXzEodm0sIGdldHRlciwgbm9vcEZuLCB7IGxhenk6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHdhdGNoZXJfMS5kaXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgd2F0Y2hlcl8xLmV2YWx1YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKERlcF8xLnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgd2F0Y2hlcl8xLmRlcGVuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB3YXRjaGVyXzEudmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb21wdXRlZFNldHRlciA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXNldHRlcikge1xyXG4gICAgICAgICAgICAgICAgd2FybiQxKCdXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCB2YWx1ZSBpcyByZWFkb25seS4nLCB2bSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNldHRlcikge1xyXG4gICAgICAgICAgICAgICAgc2V0dGVyKHYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGZhbGxiYWNrXHJcbiAgICAgICAgdmFyIGNvbXB1dGVkSG9zdF8xID0gZGVmaW5lQ29tcG9uZW50SW5zdGFuY2UoZ2V0VnVlQ29uc3RydWN0b3IoKSwge1xyXG4gICAgICAgICAgICBjb21wdXRlZDoge1xyXG4gICAgICAgICAgICAgICAgJCRzdGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGdldDogZ2V0dGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIHNldDogc2V0dGVyLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB2bSAmJiB2bS4kb24oJ2hvb2s6ZGVzdHJveWVkJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY29tcHV0ZWRIb3N0XzEuJGRlc3Ryb3koKTsgfSk7XHJcbiAgICAgICAgY29tcHV0ZWRHZXR0ZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21wdXRlZEhvc3RfMS4kJHN0YXRlOyB9O1xyXG4gICAgICAgIGNvbXB1dGVkU2V0dGVyID0gZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhc2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuJDEoJ1dyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHZhbHVlIGlzIHJlYWRvbmx5LicsIHZtKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb21wdXRlZEhvc3RfMS4kJHN0YXRlID0gdjtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNyZWF0ZVJlZih7XHJcbiAgICAgICAgZ2V0OiBjb21wdXRlZEdldHRlcixcclxuICAgICAgICBzZXQ6IGNvbXB1dGVkU2V0dGVyLFxyXG4gICAgfSk7XHJcbn1cblxudmFyIE5PVF9GT1VORCA9IHt9O1xyXG5mdW5jdGlvbiByZXNvbHZlSW5qZWN0KHByb3ZpZGVLZXksIHZtKSB7XHJcbiAgICB2YXIgc291cmNlID0gdm07XHJcbiAgICB3aGlsZSAoc291cmNlKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmIChzb3VyY2UuX3Byb3ZpZGVkICYmIGhhc093bihzb3VyY2UuX3Byb3ZpZGVkLCBwcm92aWRlS2V5KSkge1xyXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5fcHJvdmlkZWRbcHJvdmlkZUtleV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNvdXJjZSA9IHNvdXJjZS4kcGFyZW50O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE5PVF9GT1VORDtcclxufVxyXG5mdW5jdGlvbiBwcm92aWRlKGtleSwgdmFsdWUpIHtcclxuICAgIHZhciB2bSA9IGN1cnJlbnRWTUluRm4oJ3Byb3ZpZGUnKTtcclxuICAgIGlmICghdm0pXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgaWYgKCF2bS5fcHJvdmlkZWQpIHtcclxuICAgICAgICB2YXIgcHJvdmlkZUNhY2hlXzEgPSB7fTtcclxuICAgICAgICBwcm94eSh2bSwgJ19wcm92aWRlZCcsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm92aWRlQ2FjaGVfMTsgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikgeyByZXR1cm4gT2JqZWN0LmFzc2lnbihwcm92aWRlQ2FjaGVfMSwgdik7IH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB2bS5fcHJvdmlkZWRba2V5XSA9IHZhbHVlO1xyXG59XHJcbmZ1bmN0aW9uIGluamVjdChrZXksIGRlZmF1bHRWYWx1ZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5KSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBpZiAodHJlYXREZWZhdWx0QXNGYWN0b3J5ID09PSB2b2lkIDApIHsgdHJlYXREZWZhdWx0QXNGYWN0b3J5ID0gZmFsc2U7IH1cclxuICAgIHZhciB2bSA9IChfYSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJveHk7XHJcbiAgICBpZiAoIXZtKSB7XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIHdhcm4kMShcImluamVjdCgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkgb3IgZnVuY3Rpb25hbCBjb21wb25lbnRzLlwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIWtleSkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuJDEoXCJpbmplY3Rpb24gXFxcIlwiICsgU3RyaW5nKGtleSkgKyBcIlxcXCIgbm90IGZvdW5kLlwiLCB2bSk7XHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuICAgIH1cclxuICAgIHZhciB2YWwgPSByZXNvbHZlSW5qZWN0KGtleSwgdm0pO1xyXG4gICAgaWYgKHZhbCAhPT0gTk9UX0ZPVU5EKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgIH1cclxuICAgIGlmIChkZWZhdWx0VmFsdWUgPT09IHVuZGVmaW5lZCAmJiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuJDEoXCJJbmplY3Rpb24gXFxcIlwiICsgU3RyaW5nKGtleSkgKyBcIlxcXCIgbm90IGZvdW5kXCIsIHZtKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpXHJcbiAgICAgICAgPyBkZWZhdWx0VmFsdWUoKVxyXG4gICAgICAgIDogZGVmYXVsdFZhbHVlO1xyXG59XG5cbnZhciBFTVBUWV9PQkogPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgID8gT2JqZWN0LmZyZWV6ZSh7fSlcclxuICAgIDoge307XHJcbnZhciB1c2VDc3NNb2R1bGUgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gJyRzdHlsZSc7IH1cclxuICAgIHZhciBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuJDEoXCJ1c2VDc3NNb2R1bGUgbXVzdCBiZSBjYWxsZWQgaW5zaWRlIHNldHVwKClcIik7XHJcbiAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcclxuICAgIH1cclxuICAgIHZhciBtb2QgPSAoX2EgPSBpbnN0YW5jZS5wcm94eSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW25hbWVdO1xyXG4gICAgaWYgKCFtb2QpIHtcclxuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgd2FybiQxKFwiQ3VycmVudCBpbnN0YW5jZSBkb2VzIG5vdCBoYXZlIENTUyBtb2R1bGUgbmFtZWQgXFxcIlwiICsgbmFtZSArIFwiXFxcIi5cIik7XHJcbiAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcclxuICAgIH1cclxuICAgIHJldHVybiBtb2Q7XHJcbn07XHJcbi8qKlxyXG4gKiBAZGVwcmVjYXRlZCB1c2UgYHVzZUNzc01vZHVsZWAgaW5zdGVhZC5cclxuICovXHJcbnZhciB1c2VDU1NNb2R1bGUgPSB1c2VDc3NNb2R1bGU7XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcChyb290Q29tcG9uZW50LCByb290UHJvcHMpIHtcclxuICAgIGlmIChyb290UHJvcHMgPT09IHZvaWQgMCkgeyByb290UHJvcHMgPSB1bmRlZmluZWQ7IH1cclxuICAgIHZhciBWID0gZ2V0VnVlQ29uc3RydWN0b3IoKTtcclxuICAgIHZhciBtb3VudGVkVk0gPSB1bmRlZmluZWQ7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvbmZpZzogVi5jb25maWcsXHJcbiAgICAgICAgdXNlOiBWLnVzZS5iaW5kKFYpLFxyXG4gICAgICAgIG1peGluOiBWLm1peGluLmJpbmQoViksXHJcbiAgICAgICAgY29tcG9uZW50OiBWLmNvbXBvbmVudC5iaW5kKFYpLFxyXG4gICAgICAgIGRpcmVjdGl2ZTogVi5kaXJlY3RpdmUuYmluZChWKSxcclxuICAgICAgICBtb3VudDogZnVuY3Rpb24gKGVsLCBoeWRyYXRpbmcpIHtcclxuICAgICAgICAgICAgaWYgKCFtb3VudGVkVk0pIHtcclxuICAgICAgICAgICAgICAgIG1vdW50ZWRWTSA9IG5ldyBWKF9fYXNzaWduKHsgcHJvcHNEYXRhOiByb290UHJvcHMgfSwgcm9vdENvbXBvbmVudCkpO1xyXG4gICAgICAgICAgICAgICAgbW91bnRlZFZNLiRtb3VudChlbCwgaHlkcmF0aW5nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb3VudGVkVk07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKFwiQXBwIGhhcyBhbHJlYWR5IGJlZW4gbW91bnRlZC5cXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSWYgeW91IHdhbnQgdG8gcmVtb3VudCB0aGUgc2FtZSBhcHAsIG1vdmUgeW91ciBhcHAgY3JlYXRpb24gbG9naWMgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImludG8gYSBmYWN0b3J5IGZ1bmN0aW9uIGFuZCBjcmVhdGUgZnJlc2ggYXBwIGluc3RhbmNlcyBmb3IgZWFjaCBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibW91bnQgLSBlLmcuIGBjb25zdCBjcmVhdGVNeUFwcCA9ICgpID0+IGNyZWF0ZUFwcChBcHApYFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBtb3VudGVkVk07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHVubW91bnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG1vdW50ZWRWTSkge1xyXG4gICAgICAgICAgICAgICAgbW91bnRlZFZNLiRkZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBtb3VudGVkVk0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuJDEoXCJDYW5ub3QgdW5tb3VudCBhbiBhcHAgdGhhdCBpcyBub3QgbW91bnRlZC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgfTtcclxufVxuXG52YXIgbmV4dFRpY2sgPSBmdW5jdGlvbiBuZXh0VGljaygpIHtcclxuICAgIHZhciBfYTtcclxuICAgIHZhciBhcmdzID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIHJldHVybiAoX2EgPSBnZXRWdWVDb25zdHJ1Y3RvcigpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmV4dFRpY2suYXBwbHkodGhpcywgYXJncyk7XHJcbn07XG5cbnZhciBmYWxsYmFja0NyZWF0ZUVsZW1lbnQ7XHJcbnZhciBjcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlRWxlbWVudCgpIHtcclxuICAgIHZhciBfYTtcclxuICAgIHZhciBhcmdzID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIHZhciBpbnN0YW5jZSA9IChfYSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJveHk7XHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIHdhcm4kMSgnYGNyZWF0ZUVsZW1lbnQoKWAgaGFzIGJlZW4gY2FsbGVkIG91dHNpZGUgb2YgcmVuZGVyIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgIGlmICghZmFsbGJhY2tDcmVhdGVFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGZhbGxiYWNrQ3JlYXRlRWxlbWVudCA9IGRlZmluZUNvbXBvbmVudEluc3RhbmNlKGdldFZ1ZUNvbnN0cnVjdG9yKCkpLiRjcmVhdGVFbGVtZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsbGJhY2tDcmVhdGVFbGVtZW50LmFwcGx5KGZhbGxiYWNrQ3JlYXRlRWxlbWVudCwgYXJncyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2UuJGNyZWF0ZUVsZW1lbnQuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xyXG59O1xuXG4vKipcclxuICogRGlzcGxheXMgYSB3YXJuaW5nIG1lc3NhZ2UgKHVzaW5nIGNvbnNvbGUuZXJyb3IpIHdpdGggYSBzdGFjayB0cmFjZSBpZiB0aGVcclxuICogZnVuY3Rpb24gaXMgY2FsbGVkIGluc2lkZSBvZiBhY3RpdmUgY29tcG9uZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0gbWVzc2FnZSB3YXJuaW5nIG1lc3NhZ2UgdG8gYmUgZGlzcGxheWVkXHJcbiAqL1xyXG5mdW5jdGlvbiB3YXJuKG1lc3NhZ2UpIHtcclxuICAgIHZhciBfYTtcclxuICAgIHdhcm4kMShtZXNzYWdlLCAoX2EgPSBnZXRDdXJyZW50SW5zdGFuY2UoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnByb3h5KTtcclxufVxuXG5mdW5jdGlvbiBzZXQodm0sIGtleSwgdmFsdWUpIHtcclxuICAgIHZhciBzdGF0ZSA9ICh2bS5fX2NvbXBvc2l0aW9uX2FwaV9zdGF0ZV9fID1cclxuICAgICAgICB2bS5fX2NvbXBvc2l0aW9uX2FwaV9zdGF0ZV9fIHx8IHt9KTtcclxuICAgIHN0YXRlW2tleV0gPSB2YWx1ZTtcclxufVxyXG5mdW5jdGlvbiBnZXQodm0sIGtleSkge1xyXG4gICAgcmV0dXJuICh2bS5fX2NvbXBvc2l0aW9uX2FwaV9zdGF0ZV9fIHx8IHt9KVtrZXldO1xyXG59XHJcbnZhciB2bVN0YXRlTWFuYWdlciA9IHtcclxuICAgIHNldDogc2V0LFxyXG4gICAgZ2V0OiBnZXQsXHJcbn07XG5cbmZ1bmN0aW9uIGFzVm1Qcm9wZXJ0eSh2bSwgcHJvcE5hbWUsIHByb3BWYWx1ZSkge1xyXG4gICAgdmFyIHByb3BzID0gdm0uJG9wdGlvbnMucHJvcHM7XHJcbiAgICBpZiAoIShwcm9wTmFtZSBpbiB2bSkgJiYgIShwcm9wcyAmJiBoYXNPd24ocHJvcHMsIHByb3BOYW1lKSkpIHtcclxuICAgICAgICBpZiAoaXNSZWYocHJvcFZhbHVlKSkge1xyXG4gICAgICAgICAgICBwcm94eSh2bSwgcHJvcE5hbWUsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvcFZhbHVlLnZhbHVlOyB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcFZhbHVlLnZhbHVlID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwcm94eSh2bSwgcHJvcE5hbWUsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1JlYWN0aXZlKHByb3BWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcFZhbHVlLl9fb2JfXy5kZXAuZGVwZW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wVmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcFZhbHVlID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgLy8gZXhwb3NlIGJpbmRpbmcgdG8gVnVlIERldnRvb2wgYXMgYSBkYXRhIHByb3BlcnR5XHJcbiAgICAgICAgICAgIC8vIGRlbGF5IHRoaXMgdW50aWwgc3RhdGUgaGFzIGJlZW4gcmVzb2x2ZWQgdG8gcHJldmVudCByZXBlYXRlZCB3b3Jrc1xyXG4gICAgICAgICAgICB2bS4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHZtLl9kYXRhKS5pbmRleE9mKHByb3BOYW1lKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWYocHJvcFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3h5KHZtLl9kYXRhLCBwcm9wTmFtZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb3BWYWx1ZS52YWx1ZTsgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wVmFsdWUudmFsdWUgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm94eSh2bS5fZGF0YSwgcHJvcE5hbWUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9wVmFsdWU7IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcFZhbHVlID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBpZiAocHJvcHMgJiYgaGFzT3duKHByb3BzLCBwcm9wTmFtZSkpIHtcclxuICAgICAgICAgICAgd2FybiQxKFwiVGhlIHNldHVwIGJpbmRpbmcgcHJvcGVydHkgXFxcIlwiICsgcHJvcE5hbWUgKyBcIlxcXCIgaXMgYWxyZWFkeSBkZWNsYXJlZCBhcyBhIHByb3AuXCIsIHZtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdhcm4kMShcIlRoZSBzZXR1cCBiaW5kaW5nIHByb3BlcnR5IFxcXCJcIiArIHByb3BOYW1lICsgXCJcXFwiIGlzIGFscmVhZHkgZGVjbGFyZWQuXCIsIHZtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlVGVtcGxhdGVSZWYodm0pIHtcclxuICAgIHZhciByYXdCaW5kaW5ncyA9IHZtU3RhdGVNYW5hZ2VyLmdldCh2bSwgJ3Jhd0JpbmRpbmdzJykgfHwge307XHJcbiAgICBpZiAoIXJhd0JpbmRpbmdzIHx8ICFPYmplY3Qua2V5cyhyYXdCaW5kaW5ncykubGVuZ3RoKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIHZhciByZWZzID0gdm0uJHJlZnM7XHJcbiAgICB2YXIgb2xkUmVmS2V5cyA9IHZtU3RhdGVNYW5hZ2VyLmdldCh2bSwgJ3JlZnMnKSB8fCBbXTtcclxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBvbGRSZWZLZXlzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgIHZhciBrZXkgPSBvbGRSZWZLZXlzW2luZGV4XTtcclxuICAgICAgICB2YXIgc2V0dXBWYWx1ZSA9IHJhd0JpbmRpbmdzW2tleV07XHJcbiAgICAgICAgaWYgKCFyZWZzW2tleV0gJiYgc2V0dXBWYWx1ZSAmJiBpc1JlZihzZXR1cFZhbHVlKSkge1xyXG4gICAgICAgICAgICBzZXR1cFZhbHVlLnZhbHVlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgbmV3S2V5cyA9IE9iamVjdC5rZXlzKHJlZnMpO1xyXG4gICAgdmFyIHZhbGlkTmV3S2V5cyA9IFtdO1xyXG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG5ld0tleXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IG5ld0tleXNbaW5kZXhdO1xyXG4gICAgICAgIHZhciBzZXR1cFZhbHVlID0gcmF3QmluZGluZ3Nba2V5XTtcclxuICAgICAgICBpZiAocmVmc1trZXldICYmIHNldHVwVmFsdWUgJiYgaXNSZWYoc2V0dXBWYWx1ZSkpIHtcclxuICAgICAgICAgICAgc2V0dXBWYWx1ZS52YWx1ZSA9IHJlZnNba2V5XTtcclxuICAgICAgICAgICAgdmFsaWROZXdLZXlzLnB1c2goa2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2bVN0YXRlTWFuYWdlci5zZXQodm0sICdyZWZzJywgdmFsaWROZXdLZXlzKTtcclxufVxyXG5mdW5jdGlvbiByZXNvbHZlU2NvcGVkU2xvdHModm0sIHNsb3RzUHJveHkpIHtcclxuICAgIHZhciBwYXJlbnRWTm9kZSA9IHZtLiRvcHRpb25zLl9wYXJlbnRWbm9kZTtcclxuICAgIGlmICghcGFyZW50Vk5vZGUpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgdmFyIHByZXZTbG90cyA9IHZtU3RhdGVNYW5hZ2VyLmdldCh2bSwgJ3Nsb3RzJykgfHwgW107XHJcbiAgICB2YXIgY3VyU2xvdHMgPSByZXNvbHZlU2xvdHMocGFyZW50Vk5vZGUuZGF0YS5zY29wZWRTbG90cywgdm0uJHNsb3RzKTtcclxuICAgIC8vIHJlbW92ZSBzdGFsZWQgc2xvdHNcclxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBwcmV2U2xvdHMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IHByZXZTbG90c1tpbmRleF07XHJcbiAgICAgICAgaWYgKCFjdXJTbG90c1trZXldKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBzbG90c1Byb3h5W2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gcHJveHkgZnJlc2ggc2xvdHNcclxuICAgIHZhciBzbG90TmFtZXMgPSBPYmplY3Qua2V5cyhjdXJTbG90cyk7XHJcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgc2xvdE5hbWVzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgIHZhciBrZXkgPSBzbG90TmFtZXNbaW5kZXhdO1xyXG4gICAgICAgIGlmICghc2xvdHNQcm94eVtrZXldKSB7XHJcbiAgICAgICAgICAgIHNsb3RzUHJveHlba2V5XSA9IGNyZWF0ZVNsb3RQcm94eSh2bSwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2bVN0YXRlTWFuYWdlci5zZXQodm0sICdzbG90cycsIHNsb3ROYW1lcyk7XHJcbn1cclxuZnVuY3Rpb24gYWN0aXZhdGVDdXJyZW50SW5zdGFuY2Uodm0sIGZuLCBvbkVycm9yKSB7XHJcbiAgICB2YXIgcHJlVm0gPSBnZXRDdXJyZW50VnVlMkluc3RhbmNlKCk7XHJcbiAgICBzZXRDdXJyZW50SW5zdGFuY2Uodm0pO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gZm4odm0pO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGlmIChvbkVycm9yKSB7XHJcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UocHJlVm0pO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIG1peGluKFZ1ZSkge1xyXG4gICAgVnVlLm1peGluKHtcclxuICAgICAgICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uQXBpSW5pdCxcclxuICAgICAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRlbXBsYXRlUmVmKHRoaXMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRlbXBsYXRlUmVmKHRoaXMpO1xyXG4gICAgICAgICAgICBpZiAoKF9hID0gdGhpcy4kdm5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVUZW1wbGF0ZVJlZih0aGlzLiR2bm9kZS5jb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogVnVleCBpbml0IGhvb2ssIGluamVjdGVkIGludG8gZWFjaCBpbnN0YW5jZXMgaW5pdCBob29rcyBsaXN0LlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBmdW5jdGlvbkFwaUluaXQoKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICB2YXIgJG9wdGlvbnMgPSB2bS4kb3B0aW9ucztcclxuICAgICAgICB2YXIgc2V0dXAgPSAkb3B0aW9ucy5zZXR1cCwgcmVuZGVyID0gJG9wdGlvbnMucmVuZGVyO1xyXG4gICAgICAgIGlmIChyZW5kZXIpIHtcclxuICAgICAgICAgICAgLy8ga2VlcCBjdXJyZW50SW5zdGFuY2UgYWNjZXNzaWJsZSBmb3IgY3JlYXRlRWxlbWVudFxyXG4gICAgICAgICAgICAkb3B0aW9ucy5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2YXRlQ3VycmVudEluc3RhbmNlKHZtLCBmdW5jdGlvbiAoKSB7IHJldHVybiByZW5kZXIuYXBwbHkoX3RoaXMsIGFyZ3MpOyB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFzZXR1cCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2Ygc2V0dXAgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybiQxKCdUaGUgXCJzZXR1cFwiIG9wdGlvbiBzaG91bGQgYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBvYmplY3QgaW4gY29tcG9uZW50IGRlZmluaXRpb25zLicsIHZtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkYXRhID0gJG9wdGlvbnMuZGF0YTtcclxuICAgICAgICAvLyB3cmFwcGVyIHRoZSBkYXRhIG9wdGlvbiwgc28gd2UgY2FuIGludm9rZSBzZXR1cCBiZWZvcmUgZGF0YSBnZXQgcmVzb2x2ZWRcclxuICAgICAgICAkb3B0aW9ucy5kYXRhID0gZnVuY3Rpb24gd3JhcHBlZERhdGEoKSB7XHJcbiAgICAgICAgICAgIGluaXRTZXR1cCh2bSwgdm0uJHByb3BzKTtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICAgICAgICA/IGRhdGEuY2FsbCh2bSwgdm0pXHJcbiAgICAgICAgICAgICAgICA6IGRhdGEgfHwge307XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGluaXRTZXR1cCh2bSwgcHJvcHMpIHtcclxuICAgICAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkgeyBwcm9wcyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIHNldHVwID0gdm0uJG9wdGlvbnMuc2V0dXA7XHJcbiAgICAgICAgdmFyIGN0eCA9IGNyZWF0ZVNldHVwQ29udGV4dCh2bSk7XHJcbiAgICAgICAgLy8gZmFrZSByZWFjdGl2ZSBmb3IgYHRvUmVmcyhwcm9wcylgXHJcbiAgICAgICAgZGVmKHByb3BzLCAnX19vYl9fJywgY3JlYXRlT2JzZXJ2ZXIoKSk7XHJcbiAgICAgICAgLy8gcmVzb2x2ZSBzY29wZWRTbG90cyBhbmQgc2xvdHMgdG8gZnVuY3Rpb25zXHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIHJlc29sdmVTY29wZWRTbG90cyh2bSwgY3R4LnNsb3RzKTtcclxuICAgICAgICB2YXIgYmluZGluZztcclxuICAgICAgICBhY3RpdmF0ZUN1cnJlbnRJbnN0YW5jZSh2bSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBtYWtlIHByb3BzIHRvIGJlIGZha2UgcmVhY3RpdmUsIHRoaXMgaXMgZm9yIGB0b1JlZnMocHJvcHMpYFxyXG4gICAgICAgICAgICBiaW5kaW5nID0gc2V0dXAocHJvcHMsIGN0eCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKCFiaW5kaW5nKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oYmluZGluZykpIHtcclxuICAgICAgICAgICAgLy8ga2VlcCB0eXBlc2NyaXB0IGhhcHB5IHdpdGggdGhlIGJpbmRpbmcgdHlwZS5cclxuICAgICAgICAgICAgdmFyIGJpbmRpbmdGdW5jXzEgPSBiaW5kaW5nO1xyXG4gICAgICAgICAgICAvLyBrZWVwIGN1cnJlbnRJbnN0YW5jZSBhY2Nlc3NpYmxlIGZvciBjcmVhdGVFbGVtZW50XHJcbiAgICAgICAgICAgIHZtLiRvcHRpb25zLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgICAgICAgIHJlc29sdmVTY29wZWRTbG90cyh2bSwgY3R4LnNsb3RzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmF0ZUN1cnJlbnRJbnN0YW5jZSh2bSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gYmluZGluZ0Z1bmNfMSgpOyB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGJpbmRpbmcpKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1JlYWN0aXZlKGJpbmRpbmcpKSB7XHJcbiAgICAgICAgICAgICAgICBiaW5kaW5nID0gdG9SZWZzKGJpbmRpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZtU3RhdGVNYW5hZ2VyLnNldCh2bSwgJ3Jhd0JpbmRpbmdzJywgYmluZGluZyk7XHJcbiAgICAgICAgICAgIHZhciBiaW5kaW5nT2JqXzEgPSBiaW5kaW5nO1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhiaW5kaW5nT2JqXzEpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBiaW5kaW5nVmFsdWUgPSBiaW5kaW5nT2JqXzFbbmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzUmVmKGJpbmRpbmdWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVhY3RpdmUoYmluZGluZ1ZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihiaW5kaW5nVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5kaW5nVmFsdWUgPSBiaW5kaW5nVmFsdWUuYmluZCh2bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KGJpbmRpbmdWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmdWYWx1ZSA9IHJlZihiaW5kaW5nVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc1JlYWN0aXZlQXJyYXlDaGlsZChiaW5kaW5nVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGVzIGEgY3VzdG9tIHJlYWN0aXZlIHByb3BlcnRpZXMgd2l0aG91dCBtYWtlIHRoZSBvYmplY3QgZXhwbGljaXRseSByZWFjdGl2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTk9URSB3ZSBzaG91bGQgdHJ5IHRvIGF2b2lkIHRoaXMsIGJldHRlciBpbXBsZW1lbnRhdGlvbiBuZWVkZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVJlYWN0aXZlKGJpbmRpbmdWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBcnJheShiaW5kaW5nVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmdWYWx1ZSA9IHJlZihiaW5kaW5nVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFzVm1Qcm9wZXJ0eSh2bSwgbmFtZSwgYmluZGluZ1ZhbHVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBhc3NlcnQoZmFsc2UsIFwiXFxcInNldHVwXFxcIiBtdXN0IHJldHVybiBhIFxcXCJPYmplY3RcXFwiIG9yIGEgXFxcIkZ1bmN0aW9uXFxcIiwgZ290IFxcXCJcIiArIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcclxuICAgICAgICAgICAgICAgIC5jYWxsKGJpbmRpbmcpXHJcbiAgICAgICAgICAgICAgICAuc2xpY2UoOCwgLTEpICsgXCJcXFwiXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGN1c3RvbVJlYWN0aXZlKHRhcmdldCwgc2Vlbikge1xyXG4gICAgICAgIGlmIChzZWVuID09PSB2b2lkIDApIHsgc2VlbiA9IG5ldyBTZXQoKTsgfVxyXG4gICAgICAgIGlmIChzZWVuLmhhcyh0YXJnZXQpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKCFpc1BsYWluT2JqZWN0KHRhcmdldCkgfHxcclxuICAgICAgICAgICAgaXNSZWYodGFyZ2V0KSB8fFxyXG4gICAgICAgICAgICBpc1JlYWN0aXZlKHRhcmdldCkgfHxcclxuICAgICAgICAgICAgaXNSYXcodGFyZ2V0KSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHZhciBWdWUgPSBnZXRWdWVDb25zdHJ1Y3RvcigpO1xyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9wdWxsLzEyMTMyXHJcbiAgICAgICAgdmFyIGRlZmluZVJlYWN0aXZlID0gVnVlLnV0aWwuZGVmaW5lUmVhY3RpdmU7XHJcbiAgICAgICAgT2JqZWN0LmtleXModGFyZ2V0KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSB0YXJnZXRba107XHJcbiAgICAgICAgICAgIGRlZmluZVJlYWN0aXZlKHRhcmdldCwgaywgdmFsKTtcclxuICAgICAgICAgICAgaWYgKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgc2Vlbi5hZGQodmFsKTtcclxuICAgICAgICAgICAgICAgIGN1c3RvbVJlYWN0aXZlKHZhbCwgc2Vlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaGFzUmVhY3RpdmVBcnJheUNoaWxkKHRhcmdldCwgdmlzaXRlZCkge1xyXG4gICAgICAgIGlmICh2aXNpdGVkID09PSB2b2lkIDApIHsgdmlzaXRlZCA9IG5ldyBNYXAoKTsgfVxyXG4gICAgICAgIGlmICh2aXNpdGVkLmhhcyh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2aXNpdGVkLmdldCh0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2aXNpdGVkLnNldCh0YXJnZXQsIGZhbHNlKTtcclxuICAgICAgICBpZiAoaXNBcnJheSh0YXJnZXQpICYmIGlzUmVhY3RpdmUodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICB2aXNpdGVkLnNldCh0YXJnZXQsIHRydWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1BsYWluT2JqZWN0KHRhcmdldCkgfHwgaXNSYXcodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0YXJnZXQpLnNvbWUoZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhc1JlYWN0aXZlQXJyYXlDaGlsZCh0YXJnZXRbeF0sIHZpc2l0ZWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2V0dXBDb250ZXh0KHZtKSB7XHJcbiAgICAgICAgdmFyIGN0eCA9IHsgc2xvdHM6IHt9IH07XHJcbiAgICAgICAgdmFyIHByb3BzUGxhaW4gPSBbXHJcbiAgICAgICAgICAgICdyb290JyxcclxuICAgICAgICAgICAgJ3BhcmVudCcsXHJcbiAgICAgICAgICAgICdyZWZzJyxcclxuICAgICAgICAgICAgJ2xpc3RlbmVycycsXHJcbiAgICAgICAgICAgICdpc1NlcnZlcicsXHJcbiAgICAgICAgICAgICdzc3JDb250ZXh0JyxcclxuICAgICAgICBdO1xyXG4gICAgICAgIHZhciBwcm9wc1JlYWN0aXZlUHJveHkgPSBbJ2F0dHJzJ107XHJcbiAgICAgICAgdmFyIG1ldGhvZFJldHVyblZvaWQgPSBbJ2VtaXQnXTtcclxuICAgICAgICBwcm9wc1BsYWluLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICB2YXIgc3JjS2V5ID0gXCIkXCIgKyBrZXk7XHJcbiAgICAgICAgICAgIHByb3h5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZtW3NyY0tleV07IH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKFwiQ2Fubm90IGFzc2lnbiB0byAnXCIgKyBrZXkgKyBcIicgYmVjYXVzZSBpdCBpcyBhIHJlYWQtb25seSBwcm9wZXJ0eVwiLCB2bSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwcm9wc1JlYWN0aXZlUHJveHkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciBzcmNLZXkgPSBcIiRcIiArIGtleTtcclxuICAgICAgICAgICAgcHJveHkoY3R4LCBrZXksIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlXzEsIF9hO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVhY3RpdmUoe30pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSB2bVtzcmNLZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGF0dHIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkoZGF0YSwgYXR0ciwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gZW5zdXJlIGl0IGFsd2F5cyByZXR1cm4gdGhlIGxhdGVzdCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2bVtzcmNLZXldW2F0dHJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKE9iamVjdC5rZXlzKHNvdXJjZSkpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0ciA9IF9jLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3BfMShhdHRyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMShcIkNhbm5vdCBhc3NpZ24gdG8gJ1wiICsga2V5ICsgXCInIGJlY2F1c2UgaXQgaXMgYSByZWFkLW9ubHkgcHJvcGVydHlcIiwgdm0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWV0aG9kUmV0dXJuVm9pZC5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgdmFyIHNyY0tleSA9IFwiJFwiICsga2V5O1xyXG4gICAgICAgICAgICBwcm94eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm4gPSB2bVtzcmNLZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbi5hcHBseSh2bSwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSB7XHJcbiAgICAgICAgICAgIGN0eC5fdm0gPSB2bTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN0eDtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogSGVscGVyIHRoYXQgcmVjdXJzaXZlbHkgbWVyZ2VzIHR3byBkYXRhIG9iamVjdHMgdG9nZXRoZXIuXHJcbiAqL1xyXG5mdW5jdGlvbiBtZXJnZURhdGEoZnJvbSwgdG8pIHtcclxuICAgIGlmICghZnJvbSlcclxuICAgICAgICByZXR1cm4gdG87XHJcbiAgICBpZiAoIXRvKVxyXG4gICAgICAgIHJldHVybiBmcm9tO1xyXG4gICAgdmFyIGtleTtcclxuICAgIHZhciB0b1ZhbDtcclxuICAgIHZhciBmcm9tVmFsO1xyXG4gICAgdmFyIGtleXMgPSBoYXNTeW1ib2wgPyBSZWZsZWN0Lm93bktleXMoZnJvbSkgOiBPYmplY3Qua2V5cyhmcm9tKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgLy8gaW4gY2FzZSB0aGUgb2JqZWN0IGlzIGFscmVhZHkgb2JzZXJ2ZWQuLi5cclxuICAgICAgICBpZiAoa2V5ID09PSAnX19vYl9fJylcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgdG9WYWwgPSB0b1trZXldO1xyXG4gICAgICAgIGZyb21WYWwgPSBmcm9tW2tleV07XHJcbiAgICAgICAgaWYgKCFoYXNPd24odG8sIGtleSkpIHtcclxuICAgICAgICAgICAgdG9ba2V5XSA9IGZyb21WYWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRvVmFsICE9PSBmcm9tVmFsICYmXHJcbiAgICAgICAgICAgIGlzUGxhaW5PYmplY3QodG9WYWwpICYmXHJcbiAgICAgICAgICAgICFpc1JlZih0b1ZhbCkgJiZcclxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChmcm9tVmFsKSAmJlxyXG4gICAgICAgICAgICAhaXNSZWYoZnJvbVZhbCkpIHtcclxuICAgICAgICAgICAgbWVyZ2VEYXRhKGZyb21WYWwsIHRvVmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG87XHJcbn1cclxuZnVuY3Rpb24gaW5zdGFsbChWdWUpIHtcclxuICAgIGlmIChpc1Z1ZVJlZ2lzdGVyZWQoVnVlKSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybiQxKCdbdnVlLWNvbXBvc2l0aW9uLWFwaV0gYWxyZWFkeSBpbnN0YWxsZWQuIFZ1ZS51c2UoVnVlQ29tcG9zaXRpb25BUEkpIHNob3VsZCBiZSBjYWxsZWQgb25seSBvbmNlLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgaWYgKFZ1ZS52ZXJzaW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChWdWUudmVyc2lvblswXSAhPT0gJzInIHx8IFZ1ZS52ZXJzaW9uWzFdICE9PSAnLicpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4kMShcIlt2dWUtY29tcG9zaXRpb24tYXBpXSBvbmx5IHdvcmtzIHdpdGggVnVlIDIsIHZcIiArIFZ1ZS52ZXJzaW9uICsgXCIgZm91bmQuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3YXJuJDEoJ1t2dWUtY29tcG9zaXRpb24tYXBpXSBubyBWdWUgdmVyc2lvbiBmb3VuZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFZ1ZS5jb25maWcub3B0aW9uTWVyZ2VTdHJhdGVnaWVzLnNldHVwID0gZnVuY3Rpb24gKHBhcmVudCwgY2hpbGQpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkU2V0dXBGbihwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VEYXRhKHR5cGVvZiBwYXJlbnQgPT09ICdmdW5jdGlvbicgPyBwYXJlbnQocHJvcHMsIGNvbnRleHQpIHx8IHt9IDogdW5kZWZpbmVkLCB0eXBlb2YgY2hpbGQgPT09ICdmdW5jdGlvbicgPyBjaGlsZChwcm9wcywgY29udGV4dCkgfHwge30gOiB1bmRlZmluZWQpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgc2V0VnVlQ29uc3RydWN0b3IoVnVlKTtcclxuICAgIG1peGluKFZ1ZSk7XHJcbn1cclxudmFyIFBsdWdpbiA9IHtcclxuICAgIGluc3RhbGw6IGZ1bmN0aW9uIChWdWUpIHsgcmV0dXJuIGluc3RhbGwoVnVlKTsgfSxcclxufTtcblxuLy8gaW1wbGVtZW50YXRpb24sIGNsb3NlIHRvIG5vLW9wXHJcbmZ1bmN0aW9uIGRlZmluZUNvbXBvbmVudChvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gb3B0aW9ucztcclxufVxuXG5mdW5jdGlvbiBkZWZpbmVBc3luY0NvbXBvbmVudChzb3VyY2UpIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcclxuICAgICAgICBzb3VyY2UgPSB7IGxvYWRlcjogc291cmNlIH07XHJcbiAgICB9XHJcbiAgICB2YXIgbG9hZGVyID0gc291cmNlLmxvYWRlciwgbG9hZGluZ0NvbXBvbmVudCA9IHNvdXJjZS5sb2FkaW5nQ29tcG9uZW50LCBlcnJvckNvbXBvbmVudCA9IHNvdXJjZS5lcnJvckNvbXBvbmVudCwgX2EgPSBzb3VyY2UuZGVsYXksIGRlbGF5ID0gX2EgPT09IHZvaWQgMCA/IDIwMCA6IF9hLCB0aW1lb3V0ID0gc291cmNlLnRpbWVvdXQsIC8vIHVuZGVmaW5lZCA9IG5ldmVyIHRpbWVzIG91dFxyXG4gICAgX2IgPSBzb3VyY2Uuc3VzcGVuc2libGUsIC8vIHVuZGVmaW5lZCA9IG5ldmVyIHRpbWVzIG91dFxyXG4gICAgc3VzcGVuc2libGUgPSBfYiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfYiwgLy8gaW4gVnVlIDMgZGVmYXVsdCBpcyB0cnVlXHJcbiAgICB1c2VyT25FcnJvciA9IHNvdXJjZS5vbkVycm9yO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzdXNwZW5zaWJsZSkge1xyXG4gICAgICAgIHdhcm4kMShcIlRoZSBzdXNwZW5zaWJsYmUgb3B0aW9uIGZvciBhc3luYyBjb21wb25lbnRzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gVnVlMi4gSXQgaXMgaWdub3JlZC5cIik7XHJcbiAgICB9XHJcbiAgICB2YXIgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xyXG4gICAgdmFyIHJldHJpZXMgPSAwO1xyXG4gICAgdmFyIHJldHJ5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHJpZXMrKztcclxuICAgICAgICBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIGxvYWQoKTtcclxuICAgIH07XHJcbiAgICB2YXIgbG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGhpc1JlcXVlc3Q7XHJcbiAgICAgICAgcmV0dXJuIChwZW5kaW5nUmVxdWVzdCB8fFxyXG4gICAgICAgICAgICAodGhpc1JlcXVlc3QgPSBwZW5kaW5nUmVxdWVzdCA9IGxvYWRlcigpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAgICAgZXJyID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoU3RyaW5nKGVycikpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJPbkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJSZXRyeSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUocmV0cnkoKSk7IH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VyRmFpbCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlamVjdChlcnIpOyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyT25FcnJvcihlcnIsIHVzZXJSZXRyeSwgdXNlckZhaWwsIHJldHJpZXMgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChjb21wKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1JlcXVlc3QgIT09IHBlbmRpbmdSZXF1ZXN0ICYmIHBlbmRpbmdSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBlbmRpbmdSZXF1ZXN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhY29tcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShcIkFzeW5jIGNvbXBvbmVudCBsb2FkZXIgcmVzb2x2ZWQgdG8gdW5kZWZpbmVkLiBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSWYgeW91IGFyZSB1c2luZyByZXRyeSgpLCBtYWtlIHN1cmUgdG8gcmV0dXJuIGl0cyByZXR1cm4gdmFsdWUuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gaW50ZXJvcCBtb2R1bGUgZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXAgJiZcclxuICAgICAgICAgICAgICAgICAgICAoY29tcC5fX2VzTW9kdWxlIHx8IGNvbXBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ01vZHVsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcCA9IGNvbXAuZGVmYXVsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29tcCAmJiAhaXNPYmplY3QoY29tcCkgJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFzeW5jIGNvbXBvbmVudCBsb2FkIHJlc3VsdDogXCIgKyBjb21wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21wO1xyXG4gICAgICAgICAgICB9KSkpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbXBvbmVudCA9IGxvYWQoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjb21wb25lbnQ6IGNvbXBvbmVudCxcclxuICAgICAgICAgICAgZGVsYXk6IGRlbGF5LFxyXG4gICAgICAgICAgICB0aW1lb3V0OiB0aW1lb3V0LFxyXG4gICAgICAgICAgICBlcnJvcjogZXJyb3JDb21wb25lbnQsXHJcbiAgICAgICAgICAgIGxvYWRpbmc6IGxvYWRpbmdDb21wb25lbnQsXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbn1cblxudmFyIHZlcnNpb24gPSBcIjEuMC4zXCI7XHJcbi8vIGF1dG8gaW5zdGFsbCB3aGVuIHVzaW5nIENETlxyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LlZ1ZSkge1xyXG4gICAgd2luZG93LlZ1ZS51c2UoUGx1Z2luKTtcclxufVxuXG5leHBvcnQgZGVmYXVsdCBQbHVnaW47XG5leHBvcnQgeyBjb21wdXRlZCwgY3JlYXRlQXBwLCBjcmVhdGVSZWYsIGN1c3RvbVJlZiwgZGVmaW5lQXN5bmNDb21wb25lbnQsIGRlZmluZUNvbXBvbmVudCwgZGVsLCBnZXRDdXJyZW50SW5zdGFuY2UsIGNyZWF0ZUVsZW1lbnQgYXMgaCwgaW5qZWN0LCBpc1JhdywgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIG1hcmtSYXcsIG5leHRUaWNrLCBvbkFjdGl2YXRlZCwgb25CZWZvcmVNb3VudCwgb25CZWZvcmVVbm1vdW50LCBvbkJlZm9yZVVwZGF0ZSwgb25EZWFjdGl2YXRlZCwgb25FcnJvckNhcHR1cmVkLCBvbk1vdW50ZWQsIG9uU2VydmVyUHJlZmV0Y2gsIG9uVW5tb3VudGVkLCBvblVwZGF0ZWQsIHByb3ZpZGUsIHByb3h5UmVmcywgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYsIHNldCQxIGFzIHNldCwgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHRvUmF3LCB0b1JlZiwgdG9SZWZzLCB0cmlnZ2VyUmVmLCB1bnJlZiwgdXNlQ1NTTW9kdWxlLCB1c2VDc3NNb2R1bGUsIHZlcnNpb24sIHdhcm4sIHdhdGNoLCB3YXRjaEVmZmVjdCB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vue/composition-api/dist/vue-composition-api.mjs\n");

/***/ }),

/***/ "./node_modules/resize-detector/esm/index.js":
/*!***************************************************!*\
  !*** ./node_modules/resize-detector/esm/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addListener\": () => (/* binding */ addListener),\n/* harmony export */   \"removeListener\": () => (/* binding */ removeListener)\n/* harmony export */ });\nvar raf = null;\nfunction requestAnimationFrame (callback) {\n  if (!raf) {\n    raf = (\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      function (callback) {\n        return setTimeout(callback, 16)\n      }\n    ).bind(window);\n  }\n  return raf(callback)\n}\n\nvar caf = null;\nfunction cancelAnimationFrame (id) {\n  if (!caf) {\n    caf = (\n      window.cancelAnimationFrame ||\n      window.webkitCancelAnimationFrame ||\n      window.mozCancelAnimationFrame ||\n      function (id) {\n        clearTimeout(id);\n      }\n    ).bind(window);\n  }\n\n  caf(id);\n}\n\nfunction createStyles (styleText) {\n  var style = document.createElement('style');\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = styleText;\n  } else {\n    style.appendChild(document.createTextNode(styleText));\n  }\n  (document.querySelector('head') || document.body).appendChild(style);\n  return style\n}\n\nfunction createElement (tagName, props) {\n  if ( props === void 0 ) props = {};\n\n  var elem = document.createElement(tagName);\n  Object.keys(props).forEach(function (key) {\n    elem[key] = props[key];\n  });\n  return elem\n}\n\nfunction getComputedStyle (elem, prop, pseudo) {\n  // for older versions of Firefox, `getComputedStyle` required\n  // the second argument and may return `null` for some elements\n  // when `display: none`\n  var computedStyle = window.getComputedStyle(elem, pseudo || null) || {\n    display: 'none'\n  };\n\n  return computedStyle[prop]\n}\n\nfunction getRenderInfo (elem) {\n  if (!document.documentElement.contains(elem)) {\n    return {\n      detached: true,\n      rendered: false\n    }\n  }\n\n  var current = elem;\n  while (current !== document) {\n    if (getComputedStyle(current, 'display') === 'none') {\n      return {\n        detached: false,\n        rendered: false\n      }\n    }\n    current = current.parentNode;\n  }\n\n  return {\n    detached: false,\n    rendered: true\n  }\n}\n\nvar css_248z = \".resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:\\\"\\\";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}\";\n\nvar total = 0;\nvar style = null;\n\nfunction addListener (elem, callback) {\n  if (!elem.__resize_mutation_handler__) {\n    elem.__resize_mutation_handler__ = handleMutation.bind(elem);\n  }\n\n  var listeners = elem.__resize_listeners__;\n\n  if (!listeners) {\n    elem.__resize_listeners__ = [];\n    if (window.ResizeObserver) {\n      var offsetWidth = elem.offsetWidth;\n      var offsetHeight = elem.offsetHeight;\n      var ro = new ResizeObserver(function () {\n        if (!elem.__resize_observer_triggered__) {\n          elem.__resize_observer_triggered__ = true;\n          if (elem.offsetWidth === offsetWidth && elem.offsetHeight === offsetHeight) {\n            return\n          }\n        }\n        runCallbacks(elem);\n      });\n\n      // initially display none won't trigger ResizeObserver callback\n      var ref = getRenderInfo(elem);\n      var detached = ref.detached;\n      var rendered = ref.rendered;\n      elem.__resize_observer_triggered__ = detached === false && rendered === false;\n      elem.__resize_observer__ = ro;\n      ro.observe(elem);\n    } else if (elem.attachEvent && elem.addEventListener) {\n      // targeting IE9/10\n      elem.__resize_legacy_resize_handler__ = function handleLegacyResize () {\n        runCallbacks(elem);\n      };\n      elem.attachEvent('onresize', elem.__resize_legacy_resize_handler__);\n      document.addEventListener('DOMSubtreeModified', elem.__resize_mutation_handler__);\n    } else {\n      if (!total) {\n        style = createStyles(css_248z);\n      }\n      initTriggers(elem);\n\n      elem.__resize_rendered__ = getRenderInfo(elem).rendered;\n      if (window.MutationObserver) {\n        var mo = new MutationObserver(elem.__resize_mutation_handler__);\n        mo.observe(document, {\n          attributes: true,\n          childList: true,\n          characterData: true,\n          subtree: true\n        });\n        elem.__resize_mutation_observer__ = mo;\n      }\n    }\n  }\n\n  elem.__resize_listeners__.push(callback);\n  total++;\n}\n\nfunction removeListener (elem, callback) {\n  var listeners = elem.__resize_listeners__;\n  if (!listeners) {\n    return\n  }\n\n  if (callback) {\n    listeners.splice(listeners.indexOf(callback), 1);\n  }\n\n  // no listeners exist, or removing all listeners\n  if (!listeners.length || !callback) {\n    // targeting IE9/10\n    if (elem.detachEvent && elem.removeEventListener) {\n      elem.detachEvent('onresize', elem.__resize_legacy_resize_handler__);\n      document.removeEventListener('DOMSubtreeModified', elem.__resize_mutation_handler__);\n      return\n    }\n\n    if (elem.__resize_observer__) {\n      elem.__resize_observer__.unobserve(elem);\n      elem.__resize_observer__.disconnect();\n      elem.__resize_observer__ = null;\n    } else {\n      if (elem.__resize_mutation_observer__) {\n        elem.__resize_mutation_observer__.disconnect();\n        elem.__resize_mutation_observer__ = null;\n      }\n      elem.removeEventListener('scroll', handleScroll);\n      elem.removeChild(elem.__resize_triggers__.triggers);\n      elem.__resize_triggers__ = null;\n    }\n    elem.__resize_listeners__ = null;\n  }\n\n  if (!--total && style) {\n    style.parentNode.removeChild(style);\n  }\n}\n\nfunction getUpdatedSize (elem) {\n  var ref = elem.__resize_last__;\n  var width = ref.width;\n  var height = ref.height;\n  var offsetWidth = elem.offsetWidth;\n  var offsetHeight = elem.offsetHeight;\n  if (offsetWidth !== width || offsetHeight !== height) {\n    return {\n      width: offsetWidth,\n      height: offsetHeight\n    }\n  }\n  return null\n}\n\nfunction handleMutation () {\n  // `this` denotes the scrolling element\n  var ref = getRenderInfo(this);\n  var rendered = ref.rendered;\n  var detached = ref.detached;\n  if (rendered !== this.__resize_rendered__) {\n    if (!detached && this.__resize_triggers__) {\n      resetTriggers(this);\n      this.addEventListener('scroll', handleScroll, true);\n    }\n    this.__resize_rendered__ = rendered;\n    runCallbacks(this);\n  }\n}\n\nfunction handleScroll () {\n  var this$1 = this;\n\n  // `this` denotes the scrolling element\n  resetTriggers(this);\n  if (this.__resize_raf__) {\n    cancelAnimationFrame(this.__resize_raf__);\n  }\n  this.__resize_raf__ = requestAnimationFrame(function () {\n    var updated = getUpdatedSize(this$1);\n    if (updated) {\n      this$1.__resize_last__ = updated;\n      runCallbacks(this$1);\n    }\n  });\n}\n\nfunction runCallbacks (elem) {\n  if (!elem || !elem.__resize_listeners__) {\n    return\n  }\n  elem.__resize_listeners__.forEach(function (callback) {\n    callback.call(elem, elem);\n  });\n}\n\nfunction initTriggers (elem) {\n  var position = getComputedStyle(elem, 'position');\n  if (!position || position === 'static') {\n    elem.style.position = 'relative';\n  }\n\n  elem.__resize_old_position__ = position;\n  elem.__resize_last__ = {};\n\n  var triggers = createElement('div', {\n    className: 'resize-triggers'\n  });\n  var expand = createElement('div', {\n    className: 'resize-expand-trigger'\n  });\n  var expandChild = createElement('div');\n  var contract = createElement('div', {\n    className: 'resize-contract-trigger'\n  });\n  expand.appendChild(expandChild);\n  triggers.appendChild(expand);\n  triggers.appendChild(contract);\n  elem.appendChild(triggers);\n\n  elem.__resize_triggers__ = {\n    triggers: triggers,\n    expand: expand,\n    expandChild: expandChild,\n    contract: contract\n  };\n\n  resetTriggers(elem);\n  elem.addEventListener('scroll', handleScroll, true);\n\n  elem.__resize_last__ = {\n    width: elem.offsetWidth,\n    height: elem.offsetHeight\n  };\n}\n\nfunction resetTriggers (elem) {\n  var ref = elem.__resize_triggers__;\n  var expand = ref.expand;\n  var expandChild = ref.expandChild;\n  var contract = ref.contract;\n\n  // batch read\n  var csw = contract.scrollWidth;\n  var csh = contract.scrollHeight;\n  var eow = expand.offsetWidth;\n  var eoh = expand.offsetHeight;\n  var esw = expand.scrollWidth;\n  var esh = expand.scrollHeight;\n\n  // batch write\n  contract.scrollLeft = csw;\n  contract.scrollTop = csh;\n  expandChild.style.width = eow + 1 + 'px';\n  expandChild.style.height = eoh + 1 + 'px';\n  expand.scrollLeft = esw;\n  expand.scrollTop = esh;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzaXplLWRldGVjdG9yL2VzbS9pbmRleC5qcz80MDZlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUMsa0JBQWtCLFVBQVUsb0JBQW9CLGlHQUFpRyxhQUFhLGtCQUFrQixNQUFNLE9BQU8sWUFBWSxXQUFXLGdCQUFnQixnREFBZ0QsZ0JBQWdCLGNBQWMsZ0NBQWdDLFdBQVcsWUFBWTs7QUFFMVk7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXVDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3Jlc2l6ZS1kZXRlY3Rvci9lc20vaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmFmID0gbnVsbDtcbmZ1bmN0aW9uIHJlcXVlc3RBbmltYXRpb25GcmFtZSAoY2FsbGJhY2spIHtcbiAgaWYgKCFyYWYpIHtcbiAgICByYWYgPSAoXG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIDE2KVxuICAgICAgfVxuICAgICkuYmluZCh3aW5kb3cpO1xuICB9XG4gIHJldHVybiByYWYoY2FsbGJhY2spXG59XG5cbnZhciBjYWYgPSBudWxsO1xuZnVuY3Rpb24gY2FuY2VsQW5pbWF0aW9uRnJhbWUgKGlkKSB7XG4gIGlmICghY2FmKSB7XG4gICAgY2FmID0gKFxuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZSB8fFxuICAgICAgZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgICB9XG4gICAgKS5iaW5kKHdpbmRvdyk7XG4gIH1cblxuICBjYWYoaWQpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZXMgKHN0eWxlVGV4dCkge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gc3R5bGVUZXh0O1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0eWxlVGV4dCkpO1xuICB9XG4gIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJykgfHwgZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICByZXR1cm4gc3R5bGVcbn1cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCAodGFnTmFtZSwgcHJvcHMpIHtcbiAgaWYgKCBwcm9wcyA9PT0gdm9pZCAwICkgcHJvcHMgPSB7fTtcblxuICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gIE9iamVjdC5rZXlzKHByb3BzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBlbGVtW2tleV0gPSBwcm9wc1trZXldO1xuICB9KTtcbiAgcmV0dXJuIGVsZW1cbn1cblxuZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZSAoZWxlbSwgcHJvcCwgcHNldWRvKSB7XG4gIC8vIGZvciBvbGRlciB2ZXJzaW9ucyBvZiBGaXJlZm94LCBgZ2V0Q29tcHV0ZWRTdHlsZWAgcmVxdWlyZWRcbiAgLy8gdGhlIHNlY29uZCBhcmd1bWVudCBhbmQgbWF5IHJldHVybiBgbnVsbGAgZm9yIHNvbWUgZWxlbWVudHNcbiAgLy8gd2hlbiBgZGlzcGxheTogbm9uZWBcbiAgdmFyIGNvbXB1dGVkU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtLCBwc2V1ZG8gfHwgbnVsbCkgfHwge1xuICAgIGRpc3BsYXk6ICdub25lJ1xuICB9O1xuXG4gIHJldHVybiBjb21wdXRlZFN0eWxlW3Byb3BdXG59XG5cbmZ1bmN0aW9uIGdldFJlbmRlckluZm8gKGVsZW0pIHtcbiAgaWYgKCFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoZWxlbSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGV0YWNoZWQ6IHRydWUsXG4gICAgICByZW5kZXJlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICB2YXIgY3VycmVudCA9IGVsZW07XG4gIHdoaWxlIChjdXJyZW50ICE9PSBkb2N1bWVudCkge1xuICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKGN1cnJlbnQsICdkaXNwbGF5JykgPT09ICdub25lJykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGV0YWNoZWQ6IGZhbHNlLFxuICAgICAgICByZW5kZXJlZDogZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZGV0YWNoZWQ6IGZhbHNlLFxuICAgIHJlbmRlcmVkOiB0cnVlXG4gIH1cbn1cblxudmFyIGNzc18yNDh6ID0gXCIucmVzaXplLXRyaWdnZXJze3Zpc2liaWxpdHk6aGlkZGVuO29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lfS5yZXNpemUtY29udHJhY3QtdHJpZ2dlciwucmVzaXplLWNvbnRyYWN0LXRyaWdnZXI6YmVmb3JlLC5yZXNpemUtZXhwYW5kLXRyaWdnZXIsLnJlc2l6ZS10cmlnZ2Vyc3tjb250ZW50OlxcXCJcXFwiO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlO292ZXJmbG93OmhpZGRlbn0ucmVzaXplLWNvbnRyYWN0LXRyaWdnZXIsLnJlc2l6ZS1leHBhbmQtdHJpZ2dlcntiYWNrZ3JvdW5kOiNlZWU7b3ZlcmZsb3c6YXV0b30ucmVzaXplLWNvbnRyYWN0LXRyaWdnZXI6YmVmb3Jle3dpZHRoOjIwMCU7aGVpZ2h0OjIwMCV9XCI7XG5cbnZhciB0b3RhbCA9IDA7XG52YXIgc3R5bGUgPSBudWxsO1xuXG5mdW5jdGlvbiBhZGRMaXN0ZW5lciAoZWxlbSwgY2FsbGJhY2spIHtcbiAgaWYgKCFlbGVtLl9fcmVzaXplX211dGF0aW9uX2hhbmRsZXJfXykge1xuICAgIGVsZW0uX19yZXNpemVfbXV0YXRpb25faGFuZGxlcl9fID0gaGFuZGxlTXV0YXRpb24uYmluZChlbGVtKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSBlbGVtLl9fcmVzaXplX2xpc3RlbmVyc19fO1xuXG4gIGlmICghbGlzdGVuZXJzKSB7XG4gICAgZWxlbS5fX3Jlc2l6ZV9saXN0ZW5lcnNfXyA9IFtdO1xuICAgIGlmICh3aW5kb3cuUmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgIHZhciBvZmZzZXRXaWR0aCA9IGVsZW0ub2Zmc2V0V2lkdGg7XG4gICAgICB2YXIgb2Zmc2V0SGVpZ2h0ID0gZWxlbS5vZmZzZXRIZWlnaHQ7XG4gICAgICB2YXIgcm8gPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWVsZW0uX19yZXNpemVfb2JzZXJ2ZXJfdHJpZ2dlcmVkX18pIHtcbiAgICAgICAgICBlbGVtLl9fcmVzaXplX29ic2VydmVyX3RyaWdnZXJlZF9fID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoZWxlbS5vZmZzZXRXaWR0aCA9PT0gb2Zmc2V0V2lkdGggJiYgZWxlbS5vZmZzZXRIZWlnaHQgPT09IG9mZnNldEhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJ1bkNhbGxiYWNrcyhlbGVtKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBpbml0aWFsbHkgZGlzcGxheSBub25lIHdvbid0IHRyaWdnZXIgUmVzaXplT2JzZXJ2ZXIgY2FsbGJhY2tcbiAgICAgIHZhciByZWYgPSBnZXRSZW5kZXJJbmZvKGVsZW0pO1xuICAgICAgdmFyIGRldGFjaGVkID0gcmVmLmRldGFjaGVkO1xuICAgICAgdmFyIHJlbmRlcmVkID0gcmVmLnJlbmRlcmVkO1xuICAgICAgZWxlbS5fX3Jlc2l6ZV9vYnNlcnZlcl90cmlnZ2VyZWRfXyA9IGRldGFjaGVkID09PSBmYWxzZSAmJiByZW5kZXJlZCA9PT0gZmFsc2U7XG4gICAgICBlbGVtLl9fcmVzaXplX29ic2VydmVyX18gPSBybztcbiAgICAgIHJvLm9ic2VydmUoZWxlbSk7XG4gICAgfSBlbHNlIGlmIChlbGVtLmF0dGFjaEV2ZW50ICYmIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgLy8gdGFyZ2V0aW5nIElFOS8xMFxuICAgICAgZWxlbS5fX3Jlc2l6ZV9sZWdhY3lfcmVzaXplX2hhbmRsZXJfXyA9IGZ1bmN0aW9uIGhhbmRsZUxlZ2FjeVJlc2l6ZSAoKSB7XG4gICAgICAgIHJ1bkNhbGxiYWNrcyhlbGVtKTtcbiAgICAgIH07XG4gICAgICBlbGVtLmF0dGFjaEV2ZW50KCdvbnJlc2l6ZScsIGVsZW0uX19yZXNpemVfbGVnYWN5X3Jlc2l6ZV9oYW5kbGVyX18pO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NU3VidHJlZU1vZGlmaWVkJywgZWxlbS5fX3Jlc2l6ZV9tdXRhdGlvbl9oYW5kbGVyX18pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRvdGFsKSB7XG4gICAgICAgIHN0eWxlID0gY3JlYXRlU3R5bGVzKGNzc18yNDh6KTtcbiAgICAgIH1cbiAgICAgIGluaXRUcmlnZ2VycyhlbGVtKTtcblxuICAgICAgZWxlbS5fX3Jlc2l6ZV9yZW5kZXJlZF9fID0gZ2V0UmVuZGVySW5mbyhlbGVtKS5yZW5kZXJlZDtcbiAgICAgIGlmICh3aW5kb3cuTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgICB2YXIgbW8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcihlbGVtLl9fcmVzaXplX211dGF0aW9uX2hhbmRsZXJfXyk7XG4gICAgICAgIG1vLm9ic2VydmUoZG9jdW1lbnQsIHtcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGVsZW0uX19yZXNpemVfbXV0YXRpb25fb2JzZXJ2ZXJfXyA9IG1vO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGVsZW0uX19yZXNpemVfbGlzdGVuZXJzX18ucHVzaChjYWxsYmFjayk7XG4gIHRvdGFsKys7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyIChlbGVtLCBjYWxsYmFjaykge1xuICB2YXIgbGlzdGVuZXJzID0gZWxlbS5fX3Jlc2l6ZV9saXN0ZW5lcnNfXztcbiAgaWYgKCFsaXN0ZW5lcnMpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGlmIChjYWxsYmFjaykge1xuICAgIGxpc3RlbmVycy5zcGxpY2UobGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spLCAxKTtcbiAgfVxuXG4gIC8vIG5vIGxpc3RlbmVycyBleGlzdCwgb3IgcmVtb3ZpbmcgYWxsIGxpc3RlbmVyc1xuICBpZiAoIWxpc3RlbmVycy5sZW5ndGggfHwgIWNhbGxiYWNrKSB7XG4gICAgLy8gdGFyZ2V0aW5nIElFOS8xMFxuICAgIGlmIChlbGVtLmRldGFjaEV2ZW50ICYmIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgZWxlbS5kZXRhY2hFdmVudCgnb25yZXNpemUnLCBlbGVtLl9fcmVzaXplX2xlZ2FjeV9yZXNpemVfaGFuZGxlcl9fKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTVN1YnRyZWVNb2RpZmllZCcsIGVsZW0uX19yZXNpemVfbXV0YXRpb25faGFuZGxlcl9fKTtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChlbGVtLl9fcmVzaXplX29ic2VydmVyX18pIHtcbiAgICAgIGVsZW0uX19yZXNpemVfb2JzZXJ2ZXJfXy51bm9ic2VydmUoZWxlbSk7XG4gICAgICBlbGVtLl9fcmVzaXplX29ic2VydmVyX18uZGlzY29ubmVjdCgpO1xuICAgICAgZWxlbS5fX3Jlc2l6ZV9vYnNlcnZlcl9fID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGVsZW0uX19yZXNpemVfbXV0YXRpb25fb2JzZXJ2ZXJfXykge1xuICAgICAgICBlbGVtLl9fcmVzaXplX211dGF0aW9uX29ic2VydmVyX18uZGlzY29ubmVjdCgpO1xuICAgICAgICBlbGVtLl9fcmVzaXplX211dGF0aW9uX29ic2VydmVyX18gPSBudWxsO1xuICAgICAgfVxuICAgICAgZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGwpO1xuICAgICAgZWxlbS5yZW1vdmVDaGlsZChlbGVtLl9fcmVzaXplX3RyaWdnZXJzX18udHJpZ2dlcnMpO1xuICAgICAgZWxlbS5fX3Jlc2l6ZV90cmlnZ2Vyc19fID0gbnVsbDtcbiAgICB9XG4gICAgZWxlbS5fX3Jlc2l6ZV9saXN0ZW5lcnNfXyA9IG51bGw7XG4gIH1cblxuICBpZiAoIS0tdG90YWwgJiYgc3R5bGUpIHtcbiAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRVcGRhdGVkU2l6ZSAoZWxlbSkge1xuICB2YXIgcmVmID0gZWxlbS5fX3Jlc2l6ZV9sYXN0X187XG4gIHZhciB3aWR0aCA9IHJlZi53aWR0aDtcbiAgdmFyIGhlaWdodCA9IHJlZi5oZWlnaHQ7XG4gIHZhciBvZmZzZXRXaWR0aCA9IGVsZW0ub2Zmc2V0V2lkdGg7XG4gIHZhciBvZmZzZXRIZWlnaHQgPSBlbGVtLm9mZnNldEhlaWdodDtcbiAgaWYgKG9mZnNldFdpZHRoICE9PSB3aWR0aCB8fCBvZmZzZXRIZWlnaHQgIT09IGhlaWdodCkge1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogb2Zmc2V0V2lkdGgsXG4gICAgICBoZWlnaHQ6IG9mZnNldEhlaWdodFxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG5mdW5jdGlvbiBoYW5kbGVNdXRhdGlvbiAoKSB7XG4gIC8vIGB0aGlzYCBkZW5vdGVzIHRoZSBzY3JvbGxpbmcgZWxlbWVudFxuICB2YXIgcmVmID0gZ2V0UmVuZGVySW5mbyh0aGlzKTtcbiAgdmFyIHJlbmRlcmVkID0gcmVmLnJlbmRlcmVkO1xuICB2YXIgZGV0YWNoZWQgPSByZWYuZGV0YWNoZWQ7XG4gIGlmIChyZW5kZXJlZCAhPT0gdGhpcy5fX3Jlc2l6ZV9yZW5kZXJlZF9fKSB7XG4gICAgaWYgKCFkZXRhY2hlZCAmJiB0aGlzLl9fcmVzaXplX3RyaWdnZXJzX18pIHtcbiAgICAgIHJlc2V0VHJpZ2dlcnModGhpcyk7XG4gICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCwgdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuX19yZXNpemVfcmVuZGVyZWRfXyA9IHJlbmRlcmVkO1xuICAgIHJ1bkNhbGxiYWNrcyh0aGlzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVTY3JvbGwgKCkge1xuICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAvLyBgdGhpc2AgZGVub3RlcyB0aGUgc2Nyb2xsaW5nIGVsZW1lbnRcbiAgcmVzZXRUcmlnZ2Vycyh0aGlzKTtcbiAgaWYgKHRoaXMuX19yZXNpemVfcmFmX18pIHtcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9fcmVzaXplX3JhZl9fKTtcbiAgfVxuICB0aGlzLl9fcmVzaXplX3JhZl9fID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdXBkYXRlZCA9IGdldFVwZGF0ZWRTaXplKHRoaXMkMSk7XG4gICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgIHRoaXMkMS5fX3Jlc2l6ZV9sYXN0X18gPSB1cGRhdGVkO1xuICAgICAgcnVuQ2FsbGJhY2tzKHRoaXMkMSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcnVuQ2FsbGJhY2tzIChlbGVtKSB7XG4gIGlmICghZWxlbSB8fCAhZWxlbS5fX3Jlc2l6ZV9saXN0ZW5lcnNfXykge1xuICAgIHJldHVyblxuICB9XG4gIGVsZW0uX19yZXNpemVfbGlzdGVuZXJzX18uZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjay5jYWxsKGVsZW0sIGVsZW0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdFRyaWdnZXJzIChlbGVtKSB7XG4gIHZhciBwb3NpdGlvbiA9IGdldENvbXB1dGVkU3R5bGUoZWxlbSwgJ3Bvc2l0aW9uJyk7XG4gIGlmICghcG9zaXRpb24gfHwgcG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgZWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gIH1cblxuICBlbGVtLl9fcmVzaXplX29sZF9wb3NpdGlvbl9fID0gcG9zaXRpb247XG4gIGVsZW0uX19yZXNpemVfbGFzdF9fID0ge307XG5cbiAgdmFyIHRyaWdnZXJzID0gY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgIGNsYXNzTmFtZTogJ3Jlc2l6ZS10cmlnZ2VycydcbiAgfSk7XG4gIHZhciBleHBhbmQgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgY2xhc3NOYW1lOiAncmVzaXplLWV4cGFuZC10cmlnZ2VyJ1xuICB9KTtcbiAgdmFyIGV4cGFuZENoaWxkID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHZhciBjb250cmFjdCA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICBjbGFzc05hbWU6ICdyZXNpemUtY29udHJhY3QtdHJpZ2dlcidcbiAgfSk7XG4gIGV4cGFuZC5hcHBlbmRDaGlsZChleHBhbmRDaGlsZCk7XG4gIHRyaWdnZXJzLmFwcGVuZENoaWxkKGV4cGFuZCk7XG4gIHRyaWdnZXJzLmFwcGVuZENoaWxkKGNvbnRyYWN0KTtcbiAgZWxlbS5hcHBlbmRDaGlsZCh0cmlnZ2Vycyk7XG5cbiAgZWxlbS5fX3Jlc2l6ZV90cmlnZ2Vyc19fID0ge1xuICAgIHRyaWdnZXJzOiB0cmlnZ2VycyxcbiAgICBleHBhbmQ6IGV4cGFuZCxcbiAgICBleHBhbmRDaGlsZDogZXhwYW5kQ2hpbGQsXG4gICAgY29udHJhY3Q6IGNvbnRyYWN0XG4gIH07XG5cbiAgcmVzZXRUcmlnZ2VycyhlbGVtKTtcbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGwsIHRydWUpO1xuXG4gIGVsZW0uX19yZXNpemVfbGFzdF9fID0ge1xuICAgIHdpZHRoOiBlbGVtLm9mZnNldFdpZHRoLFxuICAgIGhlaWdodDogZWxlbS5vZmZzZXRIZWlnaHRcbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVzZXRUcmlnZ2VycyAoZWxlbSkge1xuICB2YXIgcmVmID0gZWxlbS5fX3Jlc2l6ZV90cmlnZ2Vyc19fO1xuICB2YXIgZXhwYW5kID0gcmVmLmV4cGFuZDtcbiAgdmFyIGV4cGFuZENoaWxkID0gcmVmLmV4cGFuZENoaWxkO1xuICB2YXIgY29udHJhY3QgPSByZWYuY29udHJhY3Q7XG5cbiAgLy8gYmF0Y2ggcmVhZFxuICB2YXIgY3N3ID0gY29udHJhY3Quc2Nyb2xsV2lkdGg7XG4gIHZhciBjc2ggPSBjb250cmFjdC5zY3JvbGxIZWlnaHQ7XG4gIHZhciBlb3cgPSBleHBhbmQub2Zmc2V0V2lkdGg7XG4gIHZhciBlb2ggPSBleHBhbmQub2Zmc2V0SGVpZ2h0O1xuICB2YXIgZXN3ID0gZXhwYW5kLnNjcm9sbFdpZHRoO1xuICB2YXIgZXNoID0gZXhwYW5kLnNjcm9sbEhlaWdodDtcblxuICAvLyBiYXRjaCB3cml0ZVxuICBjb250cmFjdC5zY3JvbGxMZWZ0ID0gY3N3O1xuICBjb250cmFjdC5zY3JvbGxUb3AgPSBjc2g7XG4gIGV4cGFuZENoaWxkLnN0eWxlLndpZHRoID0gZW93ICsgMSArICdweCc7XG4gIGV4cGFuZENoaWxkLnN0eWxlLmhlaWdodCA9IGVvaCArIDEgKyAncHgnO1xuICBleHBhbmQuc2Nyb2xsTGVmdCA9IGVzdztcbiAgZXhwYW5kLnNjcm9sbFRvcCA9IGVzaDtcbn1cblxuZXhwb3J0IHsgYWRkTGlzdGVuZXIsIHJlbW92ZUxpc3RlbmVyIH07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/resize-detector/esm/index.js\n");

/***/ }),

/***/ "./node_modules/vue-demi/lib/index.esm.js":
/*!************************************************!*\
  !*** ./node_modules/vue-demi/lib/index.esm.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"computed\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.computed),\n/* harmony export */   \"createApp\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.createApp),\n/* harmony export */   \"createRef\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.createRef),\n/* harmony export */   \"customRef\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.customRef),\n/* harmony export */   \"defineAsyncComponent\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.defineAsyncComponent),\n/* harmony export */   \"defineComponent\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.defineComponent),\n/* harmony export */   \"del\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.del),\n/* harmony export */   \"getCurrentInstance\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.getCurrentInstance),\n/* harmony export */   \"h\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.h),\n/* harmony export */   \"inject\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.inject),\n/* harmony export */   \"isRaw\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.isRaw),\n/* harmony export */   \"isReactive\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.isReactive),\n/* harmony export */   \"isReadonly\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.isReadonly),\n/* harmony export */   \"isRef\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.isRef),\n/* harmony export */   \"markRaw\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.markRaw),\n/* harmony export */   \"nextTick\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.nextTick),\n/* harmony export */   \"onActivated\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.onActivated),\n/* harmony export */   \"onBeforeMount\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.onBeforeMount),\n/* harmony export */   \"onBeforeUnmount\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.onBeforeUnmount),\n/* harmony export */   \"onBeforeUpdate\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.onBeforeUpdate),\n/* harmony export */   \"onDeactivated\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.onDeactivated),\n/* harmony export */   \"onErrorCaptured\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.onErrorCaptured),\n/* harmony export */   \"onMounted\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.onMounted),\n/* harmony export */   \"onServerPrefetch\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.onServerPrefetch),\n/* harmony export */   \"onUnmounted\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.onUnmounted),\n/* harmony export */   \"onUpdated\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.onUpdated),\n/* harmony export */   \"provide\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.provide),\n/* harmony export */   \"proxyRefs\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.proxyRefs),\n/* harmony export */   \"reactive\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.reactive),\n/* harmony export */   \"readonly\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.readonly),\n/* harmony export */   \"ref\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.ref),\n/* harmony export */   \"set\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.set),\n/* harmony export */   \"shallowReactive\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.shallowReactive),\n/* harmony export */   \"shallowReadonly\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.shallowReadonly),\n/* harmony export */   \"shallowRef\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.shallowRef),\n/* harmony export */   \"toRaw\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.toRaw),\n/* harmony export */   \"toRef\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.toRef),\n/* harmony export */   \"toRefs\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.toRefs),\n/* harmony export */   \"triggerRef\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.triggerRef),\n/* harmony export */   \"unref\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.unref),\n/* harmony export */   \"useCSSModule\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.useCSSModule),\n/* harmony export */   \"useCssModule\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.useCssModule),\n/* harmony export */   \"warn\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.warn),\n/* harmony export */   \"watch\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.watch),\n/* harmony export */   \"watchEffect\": () => (/* reexport safe */ _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.watchEffect),\n/* harmony export */   \"Vue\": () => (/* reexport safe */ vue__WEBPACK_IMPORTED_MODULE_0__.default),\n/* harmony export */   \"Vue2\": () => (/* binding */ Vue2),\n/* harmony export */   \"isVue2\": () => (/* binding */ isVue2),\n/* harmony export */   \"isVue3\": () => (/* binding */ isVue3),\n/* harmony export */   \"version\": () => (/* binding */ version),\n/* harmony export */   \"install\": () => (/* binding */ install)\n/* harmony export */ });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.esm.js\");\n/* harmony import */ var _vue_composition_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vue/composition-api */ \"./node_modules/@vue/composition-api/dist/vue-composition-api.mjs\");\n\n\n\nfunction install(_vue) {\n  _vue = _vue || vue__WEBPACK_IMPORTED_MODULE_0__.default\n  if (_vue && !_vue['__composition_api_installed__'])\n    vue__WEBPACK_IMPORTED_MODULE_0__.default.use(_vue_composition_api__WEBPACK_IMPORTED_MODULE_1__.default)\n}\n\ninstall(vue__WEBPACK_IMPORTED_MODULE_0__.default)\n\nvar isVue2 = true\nvar isVue3 = false\nvar Vue2 = vue__WEBPACK_IMPORTED_MODULE_0__.default\nvar version = vue__WEBPACK_IMPORTED_MODULE_0__.default.version\n\n/**VCA-EXPORTS**/\n\n/**VCA-EXPORTS**/\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWRlbWkvbGliL2luZGV4LmVzbS5qcz83MmRkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFCO0FBQytCOztBQUVwRDtBQUNBLGlCQUFpQix3Q0FBRztBQUNwQjtBQUNBLElBQUksNENBQU8sQ0FBQyx5REFBaUI7QUFDN0I7O0FBRUEsUUFBUSx3Q0FBRzs7QUFFWDtBQUNBO0FBQ0EsV0FBVyx3Q0FBRztBQUNkLGNBQWMsZ0RBQVc7O0FBRXpCO0FBQ3FpQjtBQUNyaUI7O0FBU0MiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWRlbWkvbGliL2luZGV4LmVzbS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWdWUgZnJvbSAndnVlJ1xuaW1wb3J0IFZ1ZUNvbXBvc2l0aW9uQVBJIGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJ1xuXG5mdW5jdGlvbiBpbnN0YWxsKF92dWUpIHtcbiAgX3Z1ZSA9IF92dWUgfHwgVnVlXG4gIGlmIChfdnVlICYmICFfdnVlWydfX2NvbXBvc2l0aW9uX2FwaV9pbnN0YWxsZWRfXyddKVxuICAgIFZ1ZS51c2UoVnVlQ29tcG9zaXRpb25BUEkpXG59XG5cbmluc3RhbGwoVnVlKVxuXG52YXIgaXNWdWUyID0gdHJ1ZVxudmFyIGlzVnVlMyA9IGZhbHNlXG52YXIgVnVlMiA9IFZ1ZVxudmFyIHZlcnNpb24gPSBWdWUudmVyc2lvblxuXG4vKipWQ0EtRVhQT1JUUyoqL1xuZXhwb3J0IHsgY29tcHV0ZWQsIGNyZWF0ZUFwcCwgY3JlYXRlUmVmLCBjdXN0b21SZWYsIGRlZmluZUFzeW5jQ29tcG9uZW50LCBkZWZpbmVDb21wb25lbnQsIGRlbCwgZ2V0Q3VycmVudEluc3RhbmNlLCBoLCBpbmplY3QsIGlzUmF3LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgbWFya1JhdywgbmV4dFRpY2ssIG9uQWN0aXZhdGVkLCBvbkJlZm9yZU1vdW50LCBvbkJlZm9yZVVubW91bnQsIG9uQmVmb3JlVXBkYXRlLCBvbkRlYWN0aXZhdGVkLCBvbkVycm9yQ2FwdHVyZWQsIG9uTW91bnRlZCwgb25TZXJ2ZXJQcmVmZXRjaCwgb25Vbm1vdW50ZWQsIG9uVXBkYXRlZCwgcHJvdmlkZSwgcHJveHlSZWZzLCByZWFjdGl2ZSwgcmVhZG9ubHksIHJlZiwgc2V0LCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRyaWdnZXJSZWYsIHVucmVmLCB1c2VDU1NNb2R1bGUsIHVzZUNzc01vZHVsZSwgd2Fybiwgd2F0Y2gsIHdhdGNoRWZmZWN0IH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknXG4vKipWQ0EtRVhQT1JUUyoqL1xuXG5leHBvcnQge1xuICBWdWUsXG4gIFZ1ZTIsXG4gIGlzVnVlMixcbiAgaXNWdWUzLFxuICB2ZXJzaW9uLFxuICBpbnN0YWxsLFxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/vue-demi/lib/index.esm.js\n");

/***/ }),

/***/ "./node_modules/vue-echarts/dist/index.esm.min.js":
/*!********************************************************!*\
  !*** ./node_modules/vue-echarts/dist/index.esm.min.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"INIT_OPTIONS_KEY\": () => (/* binding */ C),\n/* harmony export */   \"LOADING_OPTIONS_KEY\": () => (/* binding */ x),\n/* harmony export */   \"THEME_KEY\": () => (/* binding */ L),\n/* harmony export */   \"UPDATE_OPTIONS_KEY\": () => (/* binding */ T)\n/* harmony export */ });\n/* harmony import */ var vue_demi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue-demi */ \"./node_modules/vue-demi/lib/index.esm.js\");\n/* harmony import */ var echarts_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! echarts/core */ \"./node_modules/echarts/lib/core/echarts.js\");\n/* harmony import */ var echarts_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! echarts/core */ \"./node_modules/echarts/lib/util/throttle.js\");\n/* harmony import */ var resize_detector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! resize-detector */ \"./node_modules/resize-detector/esm/index.js\");\nvar O=function(){return(O=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},m=[\"getWidth\",\"getHeight\",\"getDom\",\"getOption\",\"resize\",\"dispatchAction\",\"convertToPixel\",\"convertFromPixel\",\"containPixel\",\"getDataURL\",\"getConnectedDataURL\",\"appendData\",\"clear\",\"isDisposed\",\"dispose\"];function b(e,t){return n=Object.create(null),m.forEach((function(o){n[o]=function(n){return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];if(e.value||t(),!e.value)throw new Error(\"ECharts is not initialized yet.\");return e.value[n].apply(e.value,o)}}(o)})),n;var n}var y={autoresize:Boolean},x=\"ecLoadingOptions\";var j={loading:Boolean,loadingOptions:Object},E=[],w=[];!function(e,t){if(e&&\"undefined\"!=typeof document){var n,o=!0===t.prepend?\"prepend\":\"append\",r=!0===t.singleTag,i=\"string\"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName(\"head\")[0];if(r){var a=E.indexOf(i);-1===a&&(a=E.push(i)-1,w[a]={}),n=w[a]&&w[a][o]?w[a][o]:w[a][o]=u()}else n=u();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function u(){var e=document.createElement(\"style\");if(e.setAttribute(\"type\",\"text/css\"),t.attributes)for(var n=Object.keys(t.attributes),r=0;r<n.length;r++)e.setAttribute(n[r],t.attributes[n[r]]);var a=\"prepend\"===o?\"afterbegin\":\"beforeend\";return i.insertAdjacentElement(a,e),e}}(\"x-vue-echarts{display:block;width:100%;height:100%}\",{});var z=/^on[^a-z]/,A=function(e){return z.test(e)};vue_demi__WEBPACK_IMPORTED_MODULE_0__.Vue2&&vue_demi__WEBPACK_IMPORTED_MODULE_0__.Vue2.config.ignoredElements.push(\"x-vue-echarts\");var L=\"ecTheme\",C=\"ecInitOptions\",T=\"ecUpdateOptions\",U=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({name:\"echarts\",props:O(O({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},y),j),inheritAttrs:!1,setup:function(i,l){var p=l.attrs,m=l.listeners,y=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.shallowRef)(),x=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.shallowRef)(),j=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.shallowRef)(),E=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.inject)(\"ecTheme\",null),w=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.inject)(\"ecInitOptions\",null),z=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.inject)(\"ecUpdateOptions\",null),L=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.toRefs)(i),C=L.autoresize,T=L.manualUpdate,U=L.loading,D=L.loadingOptions,S=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.computed)((function(){return j.value||i.option||Object.create(null)})),k=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.computed)((function(){return i.theme||(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.unref)(E)||{}})),B=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.computed)((function(){return i.initOptions||(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.unref)(w)||{}})),P=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.computed)((function(){return i.updateOptions||(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.unref)(z)||{}})),I=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.computed)((function(){return function(e){var t={};for(var n in e)A(n)||(t[n]=e[n]);return t}(p)}));function N(e){if(!x.value&&y.value){var t=x.value=(0,echarts_core__WEBPACK_IMPORTED_MODULE_2__.init)(y.value,k.value,B.value);i.group&&(t.group=i.group);var n=m;n||(n={},Object.keys(p).filter((function(e){return 0===e.indexOf(\"on\")&&e.length>2})).forEach((function(e){var t=e.charAt(2).toLowerCase()+e.slice(3);n[t]=p[e]}))),Object.keys(n).forEach((function(e){var o=n[e];o&&(0===e.indexOf(\"zr:\")?t.getZr().on(e.slice(3).toLowerCase(),o):t.on(e.toLowerCase(),o))})),C.value?(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.nextTick)((function(){!function(){if(t&&!t.isDisposed())try{t.resize()}catch(e){if(\"Cannot read property 'get' of undefined\"===e.message)return;throw e}}(),o()})):o()}function o(){t.setOption(e||S.value,P.value)}}function R(){x.value&&(x.value.dispose(),x.value=void 0)}var q=null;(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.watch)(T,(function(t){\"function\"==typeof q&&(q(),q=null),t||(q=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.watch)((function(){return i.option}),(function(e){e&&(x.value?x.value.setOption(e,P.value):N())}),{deep:!0}))}),{immediate:!0}),(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.watch)([k,B],(function(){R(),N()}),{deep:!0}),(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.watchEffect)((function(){i.group&&x.value&&(x.value.group=i.group)}));var F=b(x,N);return function(e,i,a){var u=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.inject)(\"ecLoadingOptions\",{}),c=(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.computed)((function(){return O(O({},(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.unref)(u)),null==a?void 0:a.value)}));(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.watchEffect)((function(){var t=e.value;t&&(i.value?t.showLoading(c.value):t.hideLoading())}))}(x,U,D),function(t,n,o){var r=null;(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.watch)([o,t,n],(function(e,t,n){var o=e[0],i=e[1],a=e[2];o&&i&&a&&(r=(0,echarts_core__WEBPACK_IMPORTED_MODULE_3__.throttle)((function(){i.resize()}),100),(0,resize_detector__WEBPACK_IMPORTED_MODULE_1__.addListener)(o,r)),n((function(){r&&o&&(0,resize_detector__WEBPACK_IMPORTED_MODULE_1__.removeListener)(o,r)}))}))}(x,C,y),(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.onMounted)((function(){i.option&&N()})),(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.onUnmounted)(R),O({chart:x,root:y,setOption:function(e,t){i.manualUpdate&&(j.value=e),x.value?x.value.setOption(e,t||{}):N(e)},nonEventAttrs:I},F)},render:function(){var e=O({},this.nonEventAttrs);return e.ref=\"root\",e.class=e.class?[\"echarts\"].concat(e.class):\"echarts\",(0,vue_demi__WEBPACK_IMPORTED_MODULE_0__.h)(\"x-vue-echarts\",e)}});/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (U);\n//# sourceMappingURL=index.esm.min.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWVjaGFydHMvZGlzdC9pbmRleC5lc20ubWluLmpzPzVjN2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTJULGlCQUFpQixvQ0FBb0MsaUNBQWlDLElBQUksdUZBQXVGLFNBQVMsd0JBQXdCLDZNQUE2TSxnQkFBZ0Isb0RBQW9ELGlCQUFpQixrQkFBa0IsaUJBQWlCLG1CQUFtQixzQkFBc0IsNEVBQTRFLG9DQUFvQyxJQUFJLEtBQUssTUFBTSxPQUFPLG1CQUFtQixzQkFBc0IsT0FBTyxzQ0FBc0MsV0FBVyxlQUFlLG9DQUFvQyx5S0FBeUssTUFBTSxtQkFBbUIsOEJBQThCLHNDQUFzQyxXQUFXLDJIQUEySCxhQUFhLHNDQUFzQywwRkFBMEYsV0FBVyw0Q0FBNEMsNkNBQTZDLHVDQUF1QyxnQkFBZ0IsY0FBYyxXQUFXLFlBQVksSUFBSSxFQUFFLGdDQUFnQyxrQkFBa0IsMENBQUMsRUFBRSxzRUFBNkIsa0JBQWtCLHdEQUF3RCx5REFBQyxFQUFFLDBCQUEwQixxQkFBcUIscUJBQXFCLDJFQUEyRSwyQ0FBMkMsOEJBQThCLG9EQUFDLEtBQUssb0RBQUMsS0FBSyxvREFBQyxLQUFLLGdEQUFDLG1CQUFtQixnREFBQyx5QkFBeUIsZ0RBQUMsMkJBQTJCLGdEQUFDLHFFQUFxRSxrREFBQyxhQUFhLDhDQUE4QyxLQUFLLGtEQUFDLGFBQWEsZ0JBQWdCLCtDQUFDLFFBQVEsS0FBSyxrREFBQyxhQUFhLHNCQUFzQiwrQ0FBQyxRQUFRLEtBQUssa0RBQUMsYUFBYSx3QkFBd0IsK0NBQUMsUUFBUSxLQUFLLGtEQUFDLGFBQWEsbUJBQW1CLFNBQVMsaUNBQWlDLFNBQVMsSUFBSSxHQUFHLGNBQWMsc0JBQXNCLGNBQWMsa0RBQUMsMEJBQTBCLDJCQUEyQixRQUFRLFFBQVEsb0NBQW9DLHVDQUF1Qyx3QkFBd0IsMkNBQTJDLFVBQVUsd0NBQXdDLFdBQVcsMkZBQTJGLFdBQVcsa0RBQUMsYUFBYSxZQUFZLDBCQUEwQixXQUFXLFNBQVMsZ0VBQWdFLFNBQVMsT0FBTyxPQUFPLGFBQWEsaUNBQWlDLGFBQWEsNENBQTRDLFdBQVcsK0NBQUMsZ0JBQWdCLHlDQUF5QywrQ0FBQyxhQUFhLGdCQUFnQixlQUFlLDhDQUE4QyxHQUFHLFFBQVEsR0FBRyxHQUFHLGFBQWEsRUFBRSwrQ0FBQyxtQkFBbUIsUUFBUSxHQUFHLFFBQVEsRUFBRSxxREFBQyxhQUFhLDBDQUEwQyxHQUFHLGFBQWEsdUJBQXVCLE1BQU0sZ0RBQUMsc0JBQXNCLElBQUksa0RBQUMsYUFBYSxhQUFhLENBQUMsK0NBQUMsNkJBQTZCLEdBQUcscURBQUMsYUFBYSxjQUFjLG9EQUFvRCxHQUFHLHdCQUF3QixXQUFXLCtDQUFDLDBCQUEwQix5QkFBeUIsWUFBWSxzREFBQyxhQUFhLFdBQVcsT0FBTyw0REFBQyxxQkFBcUIsTUFBTSwrREFBQyxNQUFNLEdBQUcsR0FBRyxRQUFRLG1EQUFDLGFBQWEsY0FBYyxHQUFHLHFEQUFDLE9BQU8sdUNBQXVDLDZEQUE2RCxPQUFPLGlCQUFpQixJQUFJLG1CQUFtQixVQUFVLHFCQUFxQiwwRUFBMEUsMkNBQUMscUJBQXFCLEVBQUUsaUVBQWUsQ0FBQyxFQUErRjtBQUNqOEkiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWVjaGFydHMvZGlzdC9pbmRleC5lc20ubWluLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e3dhdGNoIGFzIGUsaW5qZWN0IGFzIHQsY29tcHV0ZWQgYXMgbix1bnJlZiBhcyBvLHdhdGNoRWZmZWN0IGFzIHIsZGVmaW5lQ29tcG9uZW50IGFzIGksc2hhbGxvd1JlZiBhcyBhLHRvUmVmcyBhcyB1LG9uTW91bnRlZCBhcyBjLG9uVW5tb3VudGVkIGFzIHMsaCBhcyBsLFZ1ZTIgYXMgcCxuZXh0VGljayBhcyBmfWZyb21cInZ1ZS1kZW1pXCI7aW1wb3J0e3Rocm90dGxlIGFzIHYsaW5pdCBhcyBkfWZyb21cImVjaGFydHMvY29yZVwiO2ltcG9ydHthZGRMaXN0ZW5lciBhcyBoLHJlbW92ZUxpc3RlbmVyIGFzIGd9ZnJvbVwicmVzaXplLWRldGVjdG9yXCI7dmFyIE89ZnVuY3Rpb24oKXtyZXR1cm4oTz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0xLG89YXJndW1lbnRzLmxlbmd0aDtuPG87bisrKWZvcih2YXIgciBpbiB0PWFyZ3VtZW50c1tuXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG09W1wiZ2V0V2lkdGhcIixcImdldEhlaWdodFwiLFwiZ2V0RG9tXCIsXCJnZXRPcHRpb25cIixcInJlc2l6ZVwiLFwiZGlzcGF0Y2hBY3Rpb25cIixcImNvbnZlcnRUb1BpeGVsXCIsXCJjb252ZXJ0RnJvbVBpeGVsXCIsXCJjb250YWluUGl4ZWxcIixcImdldERhdGFVUkxcIixcImdldENvbm5lY3RlZERhdGFVUkxcIixcImFwcGVuZERhdGFcIixcImNsZWFyXCIsXCJpc0Rpc3Bvc2VkXCIsXCJkaXNwb3NlXCJdO2Z1bmN0aW9uIGIoZSx0KXtyZXR1cm4gbj1PYmplY3QuY3JlYXRlKG51bGwpLG0uZm9yRWFjaCgoZnVuY3Rpb24obyl7bltvXT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIG89W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspb1tyXT1hcmd1bWVudHNbcl07aWYoZS52YWx1ZXx8dCgpLCFlLnZhbHVlKXRocm93IG5ldyBFcnJvcihcIkVDaGFydHMgaXMgbm90IGluaXRpYWxpemVkIHlldC5cIik7cmV0dXJuIGUudmFsdWVbbl0uYXBwbHkoZS52YWx1ZSxvKX19KG8pfSkpLG47dmFyIG59dmFyIHk9e2F1dG9yZXNpemU6Qm9vbGVhbn0seD1cImVjTG9hZGluZ09wdGlvbnNcIjt2YXIgaj17bG9hZGluZzpCb29sZWFuLGxvYWRpbmdPcHRpb25zOk9iamVjdH0sRT1bXSx3PVtdOyFmdW5jdGlvbihlLHQpe2lmKGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCl7dmFyIG4sbz0hMD09PXQucHJlcGVuZD9cInByZXBlbmRcIjpcImFwcGVuZFwiLHI9ITA9PT10LnNpbmdsZVRhZyxpPVwic3RyaW5nXCI9PXR5cGVvZiB0LmNvbnRhaW5lcj9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQuY29udGFpbmVyKTpkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07aWYocil7dmFyIGE9RS5pbmRleE9mKGkpOy0xPT09YSYmKGE9RS5wdXNoKGkpLTEsd1thXT17fSksbj13W2FdJiZ3W2FdW29dP3dbYV1bb106d1thXVtvXT11KCl9ZWxzZSBuPXUoKTs2NTI3OT09PWUuY2hhckNvZGVBdCgwKSYmKGU9ZS5zdWJzdHJpbmcoMSkpLG4uc3R5bGVTaGVldD9uLnN0eWxlU2hlZXQuY3NzVGV4dCs9ZTpuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpKX1mdW5jdGlvbiB1KCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2lmKGUuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidGV4dC9jc3NcIiksdC5hdHRyaWJ1dGVzKWZvcih2YXIgbj1PYmplY3Qua2V5cyh0LmF0dHJpYnV0ZXMpLHI9MDtyPG4ubGVuZ3RoO3IrKyllLnNldEF0dHJpYnV0ZShuW3JdLHQuYXR0cmlidXRlc1tuW3JdXSk7dmFyIGE9XCJwcmVwZW5kXCI9PT1vP1wiYWZ0ZXJiZWdpblwiOlwiYmVmb3JlZW5kXCI7cmV0dXJuIGkuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KGEsZSksZX19KFwieC12dWUtZWNoYXJ0c3tkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9XCIse30pO3ZhciB6PS9eb25bXmEtel0vLEE9ZnVuY3Rpb24oZSl7cmV0dXJuIHoudGVzdChlKX07cCYmcC5jb25maWcuaWdub3JlZEVsZW1lbnRzLnB1c2goXCJ4LXZ1ZS1lY2hhcnRzXCIpO3ZhciBMPVwiZWNUaGVtZVwiLEM9XCJlY0luaXRPcHRpb25zXCIsVD1cImVjVXBkYXRlT3B0aW9uc1wiLFU9aSh7bmFtZTpcImVjaGFydHNcIixwcm9wczpPKE8oe29wdGlvbjpPYmplY3QsdGhlbWU6e3R5cGU6W09iamVjdCxTdHJpbmddfSxpbml0T3B0aW9uczpPYmplY3QsdXBkYXRlT3B0aW9uczpPYmplY3QsZ3JvdXA6U3RyaW5nLG1hbnVhbFVwZGF0ZTpCb29sZWFufSx5KSxqKSxpbmhlcml0QXR0cnM6ITEsc2V0dXA6ZnVuY3Rpb24oaSxsKXt2YXIgcD1sLmF0dHJzLG09bC5saXN0ZW5lcnMseT1hKCkseD1hKCksaj1hKCksRT10KFwiZWNUaGVtZVwiLG51bGwpLHc9dChcImVjSW5pdE9wdGlvbnNcIixudWxsKSx6PXQoXCJlY1VwZGF0ZU9wdGlvbnNcIixudWxsKSxMPXUoaSksQz1MLmF1dG9yZXNpemUsVD1MLm1hbnVhbFVwZGF0ZSxVPUwubG9hZGluZyxEPUwubG9hZGluZ09wdGlvbnMsUz1uKChmdW5jdGlvbigpe3JldHVybiBqLnZhbHVlfHxpLm9wdGlvbnx8T2JqZWN0LmNyZWF0ZShudWxsKX0pKSxrPW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGkudGhlbWV8fG8oRSl8fHt9fSkpLEI9bigoZnVuY3Rpb24oKXtyZXR1cm4gaS5pbml0T3B0aW9uc3x8byh3KXx8e319KSksUD1uKChmdW5jdGlvbigpe3JldHVybiBpLnVwZGF0ZU9wdGlvbnN8fG8oeil8fHt9fSkpLEk9bigoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307Zm9yKHZhciBuIGluIGUpQShuKXx8KHRbbl09ZVtuXSk7cmV0dXJuIHR9KHApfSkpO2Z1bmN0aW9uIE4oZSl7aWYoIXgudmFsdWUmJnkudmFsdWUpe3ZhciB0PXgudmFsdWU9ZCh5LnZhbHVlLGsudmFsdWUsQi52YWx1ZSk7aS5ncm91cCYmKHQuZ3JvdXA9aS5ncm91cCk7dmFyIG49bTtufHwobj17fSxPYmplY3Qua2V5cyhwKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5pbmRleE9mKFwib25cIikmJmUubGVuZ3RoPjJ9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jaGFyQXQoMikudG9Mb3dlckNhc2UoKStlLnNsaWNlKDMpO25bdF09cFtlXX0pKSksT2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG89bltlXTtvJiYoMD09PWUuaW5kZXhPZihcInpyOlwiKT90LmdldFpyKCkub24oZS5zbGljZSgzKS50b0xvd2VyQ2FzZSgpLG8pOnQub24oZS50b0xvd2VyQ2FzZSgpLG8pKX0pKSxDLnZhbHVlP2YoKGZ1bmN0aW9uKCl7IWZ1bmN0aW9uKCl7aWYodCYmIXQuaXNEaXNwb3NlZCgpKXRyeXt0LnJlc2l6ZSgpfWNhdGNoKGUpe2lmKFwiQ2Fubm90IHJlYWQgcHJvcGVydHkgJ2dldCcgb2YgdW5kZWZpbmVkXCI9PT1lLm1lc3NhZ2UpcmV0dXJuO3Rocm93IGV9fSgpLG8oKX0pKTpvKCl9ZnVuY3Rpb24gbygpe3Quc2V0T3B0aW9uKGV8fFMudmFsdWUsUC52YWx1ZSl9fWZ1bmN0aW9uIFIoKXt4LnZhbHVlJiYoeC52YWx1ZS5kaXNwb3NlKCkseC52YWx1ZT12b2lkIDApfXZhciBxPW51bGw7ZShULChmdW5jdGlvbih0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBxJiYocSgpLHE9bnVsbCksdHx8KHE9ZSgoZnVuY3Rpb24oKXtyZXR1cm4gaS5vcHRpb259KSwoZnVuY3Rpb24oZSl7ZSYmKHgudmFsdWU/eC52YWx1ZS5zZXRPcHRpb24oZSxQLnZhbHVlKTpOKCkpfSkse2RlZXA6ITB9KSl9KSx7aW1tZWRpYXRlOiEwfSksZShbayxCXSwoZnVuY3Rpb24oKXtSKCksTigpfSkse2RlZXA6ITB9KSxyKChmdW5jdGlvbigpe2kuZ3JvdXAmJngudmFsdWUmJih4LnZhbHVlLmdyb3VwPWkuZ3JvdXApfSkpO3ZhciBGPWIoeCxOKTtyZXR1cm4gZnVuY3Rpb24oZSxpLGEpe3ZhciB1PXQoXCJlY0xvYWRpbmdPcHRpb25zXCIse30pLGM9bigoZnVuY3Rpb24oKXtyZXR1cm4gTyhPKHt9LG8odSkpLG51bGw9PWE/dm9pZCAwOmEudmFsdWUpfSkpO3IoKGZ1bmN0aW9uKCl7dmFyIHQ9ZS52YWx1ZTt0JiYoaS52YWx1ZT90LnNob3dMb2FkaW5nKGMudmFsdWUpOnQuaGlkZUxvYWRpbmcoKSl9KSl9KHgsVSxEKSxmdW5jdGlvbih0LG4sbyl7dmFyIHI9bnVsbDtlKFtvLHQsbl0sKGZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1lWzBdLGk9ZVsxXSxhPWVbMl07byYmaSYmYSYmKHI9digoZnVuY3Rpb24oKXtpLnJlc2l6ZSgpfSksMTAwKSxoKG8scikpLG4oKGZ1bmN0aW9uKCl7ciYmbyYmZyhvLHIpfSkpfSkpfSh4LEMseSksYygoZnVuY3Rpb24oKXtpLm9wdGlvbiYmTigpfSkpLHMoUiksTyh7Y2hhcnQ6eCxyb290Onksc2V0T3B0aW9uOmZ1bmN0aW9uKGUsdCl7aS5tYW51YWxVcGRhdGUmJihqLnZhbHVlPWUpLHgudmFsdWU/eC52YWx1ZS5zZXRPcHRpb24oZSx0fHx7fSk6TihlKX0sbm9uRXZlbnRBdHRyczpJfSxGKX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGU9Tyh7fSx0aGlzLm5vbkV2ZW50QXR0cnMpO3JldHVybiBlLnJlZj1cInJvb3RcIixlLmNsYXNzPWUuY2xhc3M/W1wiZWNoYXJ0c1wiXS5jb25jYXQoZS5jbGFzcyk6XCJlY2hhcnRzXCIsbChcIngtdnVlLWVjaGFydHNcIixlKX19KTtleHBvcnQgZGVmYXVsdCBVO2V4cG9ydHtDIGFzIElOSVRfT1BUSU9OU19LRVkseCBhcyBMT0FESU5HX09QVElPTlNfS0VZLEwgYXMgVEhFTUVfS0VZLFQgYXMgVVBEQVRFX09QVElPTlNfS0VZfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5taW4uanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/vue-echarts/dist/index.esm.min.js\n");

/***/ })

}]);