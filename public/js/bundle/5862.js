/*! For license information please see 5862.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[5862],{8189:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(4015),s=n.n(r),o=n(3645),a=n.n(o)()(s());a.push([t.id,"th[data-v-429cbe4f]{font-size:14px;font-weight:700}.image-cover[data-v-429cbe4f]{border-radius:8px!important;-o-object-fit:cover;object-fit:cover}","",{version:3,sources:["webpack://./resources/js/components/routes/ViewRoute.vue"],names:[],mappings:"AAmHA,oBACA,cAAA,CACA,eACA,CACA,8BACA,2BAAA,CACA,mBAAA,CAAA,gBACA",sourcesContent:['<template>\n  <div class="mx-2 mx-md-3 mt-2">\n    <div class="card">\n      <div class="card-body">\n        <div class="row">\n          <div class="col-md-12">\n            <h4 class="font-weight-bold mb-3">Route Details</h4>\n\n            <table class="table table-hover table-bordered table-md">\n              <tbody>\n                <tr>\n                  <td>Bus Name</td>\n                  <th>{{ route.bus.bus_name }} - {{ route.bus.bus_reg_no }}</th>\n                </tr>\n                <tr>\n                  <td>Pickup Point</td>\n                  <th>{{ route.board_point }}</th>\n                </tr>\n                <tr>\n                  <td>Pickup Time</td>\n                  <th>{{ route.board_time }}</th>\n                </tr>\n                <tr>\n                  <td>Drop Off Point</td>\n                  <th>{{ route.drop_point }}</th>\n                </tr>\n                <tr>\n                  <td>Drop Off Time</td>\n                  <th>{{ route.drop_time }}</th>\n                </tr>\n                <tr>\n                  <td>Status</td>\n                  <th>\n                    <span\n                      :class="`badge py-1 px-2 badge-outline-${\n                        route.status ? \'success\' : \'danger\'\n                      }`"\n                    >\n                      {{ route.status ? "Active" : "Inactive" }}\n                    </span>\n                  </th>\n                </tr>\n\n                <tr>\n                  <td>Fare</td>\n                  <th>\n                    <span\n                      class="badge py-1 px-2 badge-success mr-1"\n                      v-for="seatClass in route.seatClassesFare"\n                      :key="seatClass.id"\n                    >\n                      {{ seatClass.name }} - {{ seatClass.currencyCode\n                      }}{{ seatClass.fare }}\n                    </span>\n                  </th>\n                </tr>\n                <tr>\n                  <td>Created At</td>\n                  <th>{{ route.created_at }}</th>\n                </tr>\n                <tr>\n                  <td>Updated At</td>\n                  <th>{{ route.updated_at }}</th>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <div class="row mt-3">\n          <div class="col-md-6">\n            <h4 class="mb-3 font-weight-bold">Drop Off Points</h4>\n          </div>\n          <div class="col-md-6">\n            <h4 class="mb-3 font-weight-bold">Pickup Up Points</h4>\n            <div class="mt-2">\n              <pickup-points-table :smallTable="true" :defaultCreateRoute="route.id"></pickup-points-table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Nprogress from "nprogress";\nimport PickupPointsTable from "../pickup/Table.vue";\n\nexport default {\n  components: { PickupPointsTable },\n  props: {\n    route: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    loading() {\n      return this.$store.getters.loading;\n    },\n  },\n  watch: {\n    loading(newValue) {\n      if (newValue) {\n        Nprogress.start();\n        Nprogress.set(0.1);\n      } else {\n        Nprogress.done();\n      }\n    },\n  },\n};\n<\/script>\n<style scoped>\nth {\n  font-size: 14px;\n  font-weight: 700;\n}\n.image-cover {\n  border-radius: 8px !important;\n  object-fit: cover;\n}\n</style>\n'],sourceRoot:""}]);const i=a},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var s={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(s[a]=!0)}for(var i=0;i<t.length;i++){var c=[].concat(t[i]);r&&s[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},4015:t=>{"use strict";function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,s,o=[],a=!0,i=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){i=!0,s=t}finally{try{a||null==n.return||n.return()}finally{if(i)throw s}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n=e(t,4),r=n[1],s=n[3];if(!s)return r;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),i="/*# ".concat(a," */"),c=s.sources.map((function(t){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(t," */")}));return[r].concat(c).concat([i]).join("\n")}return[r].join("\n")}},4865:function(t,e,n){var r,s;void 0===(s="function"==typeof(r=function(){var t,e,n={version:"0.2.0"},r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function s(t,e,n){return t<e?e:t>n?n:t}function o(t){return 100*(-1+t)}function a(t,e,n){var s;return(s="translate3d"===r.positionUsing?{transform:"translate3d("+o(t)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+o(t)+"%,0)"}:{"margin-left":o(t)+"%"}).transition="all "+e+"ms "+n,s}n.configure=function(t){var e,n;for(e in t)void 0!==(n=t[e])&&t.hasOwnProperty(e)&&(r[e]=n);return this},n.status=null,n.set=function(t){var e=n.isStarted();t=s(t,r.minimum,1),n.status=1===t?null:t;var o=n.render(!e),u=o.querySelector(r.barSelector),l=r.speed,d=r.easing;return o.offsetWidth,i((function(e){""===r.positionUsing&&(r.positionUsing=n.getPositioningCSS()),c(u,a(t,l,d)),1===t?(c(o,{transition:"none",opacity:1}),o.offsetWidth,setTimeout((function(){c(o,{transition:"all "+l+"ms linear",opacity:0}),setTimeout((function(){n.remove(),e()}),l)}),l)):setTimeout(e,l)})),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var t=function(){setTimeout((function(){n.status&&(n.trickle(),t())}),r.trickleSpeed)};return r.trickle&&t(),this},n.done=function(t){return t||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(t){var e=n.status;return e?("number"!=typeof t&&(t=(1-e)*s(Math.random()*e,.1,.95)),e=s(e+t,0,.994),n.set(e)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},t=0,e=0,n.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&n.start(),t++,e++,r.always((function(){0==--e?(t=0,n.done()):n.set((t-e)/t)})),this):this},n.render=function(t){if(n.isRendered())return document.getElementById("nprogress");l(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var s,a=e.querySelector(r.barSelector),i=t?"-100":o(n.status||0),u=document.querySelector(r.parent);return c(a,{transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),r.showSpinner||(s=e.querySelector(r.spinnerSelector))&&f(s),u!=document.body&&l(u,"nprogress-custom-parent"),u.appendChild(e),e},n.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(r.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&f(t)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var i=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),1==t.length&&e()}}(),c=function(){var t=["Webkit","O","Moz","ms"],e={};function n(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,e){return e.toUpperCase()}))}function r(e){var n=document.body.style;if(e in n)return e;for(var r,s=t.length,o=e.charAt(0).toUpperCase()+e.slice(1);s--;)if((r=t[s]+o)in n)return r;return e}function s(t){return t=n(t),e[t]||(e[t]=r(t))}function o(t,e,n){e=s(e),t.style[e]=n}return function(t,e){var n,r,s=arguments;if(2==s.length)for(n in e)void 0!==(r=e[n])&&e.hasOwnProperty(n)&&o(t,n,r);else o(t,s[1],s[2])}}();function u(t,e){return("string"==typeof t?t:p(t)).indexOf(" "+e+" ")>=0}function l(t,e){var n=p(t),r=n+e;u(n,e)||(t.className=r.substring(1))}function d(t,e){var n,r=p(t);u(t,e)&&(n=r.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function p(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function f(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return n})?r.call(e,n,e,t):r)||(t.exports=s)},3379:(t,e,n)=>{"use strict";var r,s=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function i(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],s=0;s<t.length;s++){var o=t[s],c=e.base?o[0]+e.base:o[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var d=i(l),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:l,updater:h(p,e),references:1}),r.push(l)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var s=n.nc;s&&(r.nonce=s)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,d=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function p(t,e,n,r){var s=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=d(e,s);else{var o=document.createTextNode(s),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,s=n.media,o=n.sourceMap;if(s?t.setAttribute("media",s):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var m=null,v=0;function h(t,e){var n,r,s;if(e.singleton){var o=v++;n=m||(m=u(e)),r=p.bind(null,n,o,!1),s=p.bind(null,n,o,!0)}else n=u(e),r=f.bind(null,n,e),s=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else s()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=s());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var s=i(n[r]);a[s].references--}for(var o=c(t,e),u=0;u<n.length;u++){var l=i(n[u]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=o}}}},5887:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});const r={components:{CreatePickupPoint:function(){return n.e(2794).then(n.bind(n,2794))},EditPickupPoint:function(){return n.e(3998).then(n.bind(n,3998))},DeletePickupPoint:function(){return n.e(4904).then(n.bind(n,4904))}},props:{smallTable:{type:Boolean},defaultCreateRoute:{type:Number,default:""}},data:function(){return{isLoading:!1,pickupPoints:[],selectedPickupPoint:{}}},computed:{columns:function(){return this.smallTable?[{label:"Pickup Point",field:"pickup_point"},{label:"Pickup Time",field:"pickup_time"},{label:"Status",field:"status",html:!0},{label:"Actions",field:"actions",html:!0,tdClass:"text-center",thClass:"text-center",sortable:!1}]:[{label:"Route",field:"route"},{label:"Pickup Point",field:"pickup_point"},{label:"Pickup Time",field:"pickup_time"},{label:"Address",field:"address"},{label:"Landmark",field:"landmark"},{label:"Status",field:"status",html:!0},{label:"Cretaed At",field:"created_at",type:"date",thClass:"text-left",tdClass:"text-left",dateInputFormat:"yyyy-MM-dd HH:mm:ss",dateOutputFormat:"MMM do yyyy HH:mm"},{label:"Actions",field:"actions",html:!0,tdClass:"text-center",thClass:"text-center",sortable:!1}]}},methods:{fetchPickupPoints:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$store.dispatch("startLoading"),this.isLoading=e;var n="/admin/pickup-points";this.defaultCreateRoute&&(n+="?route=".concat(this.defaultCreateRoute)),axios.get(n).then((function(e){t.pickupPoints=e.data.data,t.$store.dispatch("stopLoading"),t.isLoading=!1})).catch((function(e){t.$store.dispatch("stopLoading"),t.isLoading=!1}))},editPickupPoint:function(t){this.selectedAmenity=t,$("#edit-amenity").modal("show")},deletePickupPoint:function(t){this.selectedAmenity=t,$("#delete-amenity").modal("show")}},created:function(){this.fetchPickupPoints()}};const s=(0,n(1900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoading?n("div",{staticClass:"mb-5",staticStyle:{height:"300px"}},[n("spinner",{staticClass:"loading_page",attrs:{lg:!0}})],1):n("vue-good-table",{attrs:{columns:t.columns,rows:t.pickupPoints,"search-options":{placeholder:"Search this table",enabled:!0},"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},"select-options":{enabled:!0,clearSelectionText:"clear",selectOnCheckboxOnly:!0},"sort-options":{enabled:!0},styleClass:"vgt-table tableOne table-hover"},scopedSlots:t._u([{key:"table-row",fn:function(e){return["actions"==e.column.field?n("span",[n("a",{staticClass:"pr-1",attrs:{href:"#",title:"Edit"},on:{click:function(n){return n.preventDefault(),t.editPickupPoint(Object.assign({},e.row))}}},[n("i",{staticClass:"fa fa-pencil-alt fs-16 text-success"})]),t._v(" "),n("a",{attrs:{title:"Delete",href:"#"},on:{click:function(n){return n.preventDefault(),t.deletePickupPoint(Object.assign({},e.row))}}},[n("i",{staticClass:"fa fa-trash fs-16 text-danger"})])]):"route"==e.column.field?n("span",[t._v("\n        "+t._s(e.row.route.route_name)+"\n      ")]):"status"==e.column.field?n("span",[n("span",{class:"badge py-1 px-2 badge-outline-"+(e.row.status?"success":"danger")},[t._v("\n          "+t._s(e.row.status?"Active":"Inactive")+"\n        ")])]):t._e()]}}])},[n("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[n("button",{staticClass:"btn btn-danger btn-sm"},[t._v("Delete")])]),t._v(" "),n("div",{staticClass:"mt-2 mb-3",attrs:{slot:"table-actions"},slot:"table-actions"},[n("button",{staticClass:"btn-sm btn btn-primary btn-rounded btn-icon m-1 ripple",attrs:{"data-toggle":"modal","data-target":"#create-pickup-point"}},[n("span",{staticClass:"ul-btn__icon"},[n("i",{staticClass:"feather-icon",attrs:{"data-feather":"plus-circle"}})]),t._v(" "),n("span",{staticClass:"ul-btn__text ml-1"},[t._v("Create")])])])]),t._v(" "),n("create-pickup-point",{attrs:{"default-route":t.defaultCreateRoute},on:{update:function(e){return t.fetchPickupPoints(!1)}}})],1)}),[],!1,null,null,null).exports},5862:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var r=n(4865),s=n.n(r);const o={components:{PickupPointsTable:n(5887).Z},props:{route:{type:Object,required:!0}},computed:{loading:function(){return this.$store.getters.loading}},watch:{loading:function(t){t?(s().start(),s().set(.1)):s().done()}}};var a=n(3379),i=n.n(a),c=n(8189),u={insert:"head",singleton:!1};i()(c.Z,u);c.Z.locals;const l=(0,n(1900).Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mx-2 mx-md-3 mt-2"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("h4",{staticClass:"font-weight-bold mb-3"},[t._v("Route Details")]),t._v(" "),n("table",{staticClass:"table table-hover table-bordered table-md"},[n("tbody",[n("tr",[n("td",[t._v("Bus Name")]),t._v(" "),n("th",[t._v(t._s(t.route.bus.bus_name)+" - "+t._s(t.route.bus.bus_reg_no))])]),t._v(" "),n("tr",[n("td",[t._v("Pickup Point")]),t._v(" "),n("th",[t._v(t._s(t.route.board_point))])]),t._v(" "),n("tr",[n("td",[t._v("Pickup Time")]),t._v(" "),n("th",[t._v(t._s(t.route.board_time))])]),t._v(" "),n("tr",[n("td",[t._v("Drop Off Point")]),t._v(" "),n("th",[t._v(t._s(t.route.drop_point))])]),t._v(" "),n("tr",[n("td",[t._v("Drop Off Time")]),t._v(" "),n("th",[t._v(t._s(t.route.drop_time))])]),t._v(" "),n("tr",[n("td",[t._v("Status")]),t._v(" "),n("th",[n("span",{class:"badge py-1 px-2 badge-outline-"+(t.route.status?"success":"danger")},[t._v("\n                    "+t._s(t.route.status?"Active":"Inactive")+"\n                  ")])])]),t._v(" "),n("tr",[n("td",[t._v("Fare")]),t._v(" "),n("th",t._l(t.route.seatClassesFare,(function(e){return n("span",{key:e.id,staticClass:"badge py-1 px-2 badge-success mr-1"},[t._v("\n                    "+t._s(e.name)+" - "+t._s(e.currencyCode)+t._s(e.fare)+"\n                  ")])})),0)]),t._v(" "),n("tr",[n("td",[t._v("Created At")]),t._v(" "),n("th",[t._v(t._s(t.route.created_at))])]),t._v(" "),n("tr",[n("td",[t._v("Updated At")]),t._v(" "),n("th",[t._v(t._s(t.route.updated_at))])])])])])]),t._v(" "),n("div",{staticClass:"row mt-3"},[t._m(0),t._v(" "),n("div",{staticClass:"col-md-6"},[n("h4",{staticClass:"mb-3 font-weight-bold"},[t._v("Pickup Up Points")]),t._v(" "),n("div",{staticClass:"mt-2"},[n("pickup-points-table",{attrs:{smallTable:!0,defaultCreateRoute:t.route.id}})],1)])])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-6"},[n("h4",{staticClass:"mb-3 font-weight-bold"},[t._v("Drop Off Points")])])}],!1,null,"429cbe4f",null).exports},1900:(t,e,n)=>{"use strict";function r(t,e,n,r,s,o,a,i){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):s&&(c=i?function(){s.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}n.d(e,{Z:()=>r})}}]);
//# sourceMappingURL=5862.js.map