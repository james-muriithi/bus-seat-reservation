/*! For license information please see 2669.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[2669,9410],{74865:function(t,e,n){var r,i;void 0===(i="function"==typeof(r=function(){var t,e,n={version:"0.2.0"},r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function i(t,e,n){return t<e?e:t>n?n:t}function a(t){return 100*(-1+t)}function s(t,e,n){var i;return(i="translate3d"===r.positionUsing?{transform:"translate3d("+a(t)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+a(t)+"%,0)"}:{"margin-left":a(t)+"%"}).transition="all "+e+"ms "+n,i}n.configure=function(t){var e,n;for(e in t)void 0!==(n=t[e])&&t.hasOwnProperty(e)&&(r[e]=n);return this},n.status=null,n.set=function(t){var e=n.isStarted();t=i(t,r.minimum,1),n.status=1===t?null:t;var a=n.render(!e),l=a.querySelector(r.barSelector),u=r.speed,d=r.easing;return a.offsetWidth,o((function(e){""===r.positionUsing&&(r.positionUsing=n.getPositioningCSS()),c(l,s(t,u,d)),1===t?(c(a,{transition:"none",opacity:1}),a.offsetWidth,setTimeout((function(){c(a,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){n.remove(),e()}),u)}),u)):setTimeout(e,u)})),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var t=function(){setTimeout((function(){n.status&&(n.trickle(),t())}),r.trickleSpeed)};return r.trickle&&t(),this},n.done=function(t){return t||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(t){var e=n.status;return e?("number"!=typeof t&&(t=(1-e)*i(Math.random()*e,.1,.95)),e=i(e+t,0,.994),n.set(e)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},t=0,e=0,n.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&n.start(),t++,e++,r.always((function(){0==--e?(t=0,n.done()):n.set((t-e)/t)})),this):this},n.render=function(t){if(n.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var i,s=e.querySelector(r.barSelector),o=t?"-100":a(n.status||0),l=document.querySelector(r.parent);return c(s,{transition:"all 0 linear",transform:"translate3d("+o+"%,0,0)"}),r.showSpinner||(i=e.querySelector(r.spinnerSelector))&&f(i),l!=document.body&&u(l,"nprogress-custom-parent"),l.appendChild(e),e},n.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(r.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&f(t)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var o=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),1==t.length&&e()}}(),c=function(){var t=["Webkit","O","Moz","ms"],e={};function n(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,e){return e.toUpperCase()}))}function r(e){var n=document.body.style;if(e in n)return e;for(var r,i=t.length,a=e.charAt(0).toUpperCase()+e.slice(1);i--;)if((r=t[i]+a)in n)return r;return e}function i(t){return t=n(t),e[t]||(e[t]=r(t))}function a(t,e,n){e=i(e),t.style[e]=n}return function(t,e){var n,r,i=arguments;if(2==i.length)for(n in e)void 0!==(r=e[n])&&e.hasOwnProperty(n)&&a(t,n,r);else a(t,i[1],i[2])}}();function l(t,e){return("string"==typeof t?t:p(t)).indexOf(" "+e+" ")>=0}function u(t,e){var n=p(t),r=n+e;l(n,e)||(t.className=r.substring(1))}function d(t,e){var n,r=p(t);l(t,e)&&(n=r.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function p(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function f(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return n})?r.call(e,n,e,t):r)||(t.exports=i)},22669:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(74865),i=n.n(r);const a={components:{PriceVariationsTable:n(29410).default},data:function(){return{}},computed:{loading:function(){return this.$store.getters.loading}},watch:{loading:function(t){t?(i().start(),i().set(.1)):i().done()}},methods:{openModal:function(){}}};const s=(0,n(51900).Z)(a,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mx-2 mx-md-3 mt-2"},[e("price-variations-table")],1)}),[],!1,null,null,null).exports},29410:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const r={components:{CreatePriceVariation:function(){return n.e(3326).then(n.bind(n,83326))},EditPriceVariation:function(){return n.e(3111).then(n.bind(n,23111))},DeletePriceVariation:function(){return n.e(3386).then(n.bind(n,23386))}},props:{route_id:{default:null},smallTable:{type:Boolean,default:!1}},data:function(){return{isLoading:!1,priceVariations:[],selectedPriceVariation:{}}},computed:{columns:function(){var t=[{label:"Route",field:"route"},{label:"Pickup Point",field:"pickup_point"},{label:"Drop Off Point",field:"drop_point"},{label:"fare",field:"fare",html:!0},{label:"Created At",field:"created_at",type:"date",thClass:"text-left",tdClass:"text-left",dateInputFormat:"yyyy-MM-dd HH:mm:ss",dateOutputFormat:"MMM do yyyy HH:mm"},{label:"Actions",field:"actions",html:!0,tdClass:"text-center",thClass:"text-center",sortable:!1}];return this.smallTable?t.filter((function(t){return!["created_at","route"].includes(t.field)})):t}},methods:{fetchPriceVariations:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$store.dispatch("startLoading"),this.isLoading=e;var n={route_id:this.route_id};axios.get("/admin/route-price-variations",{params:n}).then((function(e){t.priceVariations=e.data.data,t.$store.dispatch("stopLoading"),t.isLoading=!1})).catch((function(e){t.$store.dispatch("stopLoading"),t.isLoading=!1}))},editPriceVariation:function(t){this.selectedPriceVariation=t,$("#edit-price-variation").modal("show")},deletePriceVariation:function(t){this.selectedPriceVariation=t,$("#delete-price-variation").modal("show")}},created:function(){this.fetchPriceVariations()}};const i=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoading?n("div",{staticClass:"mb-5",staticStyle:{height:"300px"}},[n("spinner",{staticClass:"loading_page",attrs:{lg:!0}})],1):n("vue-good-table",{attrs:{columns:t.columns,rows:t.priceVariations,"search-options":{placeholder:"Search this table",enabled:!0},"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},"select-options":{enabled:!0,clearSelectionText:"clear",selectOnCheckboxOnly:!0},"sort-options":{enabled:!0},styleClass:"vgt-table tableOne table-hover"},scopedSlots:t._u([{key:"table-row",fn:function(e){return["actions"==e.column.field?n("span",[n("a",{staticClass:"pr-1",attrs:{href:"#",title:"Edit"},on:{click:function(n){return n.preventDefault(),t.editPriceVariation(Object.assign({},e.row))}}},[n("i",{staticClass:"fa fa-pencil-alt fs-16 text-success"})]),t._v(" "),n("a",{attrs:{title:"Delete",href:"#"},on:{click:function(n){return n.preventDefault(),t.deletePriceVariation(Object.assign({},e.row))}}},[n("i",{staticClass:"fa fa-trash fs-16 text-danger"})])]):"route"==e.column.field?n("span",[t._v("\n        "+t._s(e.row.route.bus.formatted_name)+"\n        "+t._s(e.row.route.route_name)+"\n      ")]):"pickup_point"==e.column.field?n("span",[t._v("\n        "+t._s(e.row.pickup_point.pickup_point)+"\n      ")]):"drop_point"==e.column.field?n("span",[t._v("\n        "+t._s(e.row.drop_point.drop_off_point)+"\n      ")]):"fare"==e.column.field?n("span",[e.row.seatClassesFare.length>0?n("span",t._l(e.row.seatClassesFare,(function(e){return n("span",{key:e.id,staticClass:"badge py-1 px-2 badge-success mr-1"},[t._v("\n            "+t._s(e.name)+" - "+t._s(e.currencyCode)+t._s(e.fare)+"\n          ")])})),0):n("span",[t._v("\n          "+t._s(e.row.fare)+"\n        ")])]):t._e()]}}])},[n("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[n("button",{staticClass:"btn btn-danger btn-sm"},[t._v("Delete")])]),t._v(" "),n("div",{staticClass:"mt-2 mb-3",attrs:{slot:"table-actions"},slot:"table-actions"},[n("button",{staticClass:"btn-sm btn btn-primary btn-rounded btn-icon m-1 ripple",attrs:{"data-toggle":"modal","data-target":"#create-price-variation"}},[n("span",{staticClass:"ul-btn__icon"},[n("i",{staticClass:"feather-icon",attrs:{"data-feather":"plus-circle"}})]),t._v(" "),n("span",{staticClass:"ul-btn__text ml-1"},[t._v("Create")])])])]),t._v(" "),n("create-price-variation",{attrs:{defaultRoute:t.route_id},on:{update:function(e){return t.fetchPriceVariations(!1)}}}),t._v(" "),n("edit-price-variation",{attrs:{priceVariation:t.selectedPriceVariation},on:{update:function(e){return t.fetchPriceVariations(!1)}}}),t._v(" "),n("delete-price-variation",{attrs:{seatClass:t.selectedPriceVariation},on:{update:function(e){return t.fetchPriceVariations(!1)}}})],1)}),[],!1,null,null,null).exports},51900:(t,e,n)=>{"use strict";function r(t,e,n,r,i,a,s,o){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=o?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}n.d(e,{Z:()=>r})}}]);
//# sourceMappingURL=2669.js.map