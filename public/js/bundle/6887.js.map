{"version":3,"sources":["webpack:///resources/js/components/routes/RoutesTable.vue","webpack:///./resources/js/components/routes/RoutesTable.vue?e971","webpack:///./resources/js/components/routes/RoutesTable.vue","webpack:///./resources/js/components/routes/RoutesTable.vue?f548"],"names":["props","bus_id","default","data","isLoading","routes","selectedRoute","computed","columns","this","methods","fetchRoutes","$store","dispatch","pageLoad","url","axios","deleteRoute","selecteRoute","route","$","modal","created","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","placeholder","enabled","mode","nextLabel","prevLabel","clearSelectionText","selectOnCheckboxOnly","scopedSlots","_u","key","fn","column","field","row","_v","on","$event","preventDefault","Object","assign","_s","bus","bus_name","_l","seatClass","id","name","currencyCode","fare","class","status","_e","slot"],"mappings":"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","file":"js/bundle/6887.js","sourcesContent":["<template>\n  <div>\n    <div v-if=\"isLoading\" class=\"mb-5\" style=\"height: 300px\">\n      <spinner class=\"loading_page\" :lg=\"true\"></spinner>\n    </div>\n\n    <vue-good-table\n      v-else\n      :columns=\"columns\"\n      :rows=\"routes\"\n      :search-options=\"{\n        placeholder: 'Search this table',\n        enabled: true,\n      }\"\n      :pagination-options=\"{\n        enabled: true,\n        mode: 'records',\n        nextLabel: 'next',\n        prevLabel: 'prev',\n      }\"\n      :select-options=\"{\n        enabled: true,\n        clearSelectionText: 'clear',\n        selectOnCheckboxOnly: true,\n      }\"\n      :sort-options=\"{\n        enabled: true,\n      }\"\n      styleClass=\"vgt-table tableOne table-hover\"\n    >\n      <div slot=\"selected-row-actions\">\n        <button class=\"btn btn-danger btn-sm\">Delete</button>\n      </div>\n      <div slot=\"table-actions\" class=\"mt-2 mb-3\">\n        <a\n          class=\"btn-sm btn btn-primary btn-rounded btn-icon m-1 ripple\"\n          href=\"/admin/routes/create\"\n        >\n          <span class=\"ul-btn__icon\">\n            <i data-feather=\"plus-circle\" class=\"feather-icon\"></i>\n          </span>\n          <span class=\"ul-btn__text ml-1\">Create</span>\n        </a>\n      </div>\n\n      <template slot=\"table-row\" slot-scope=\"props\">\n        <span v-if=\"props.column.field == 'actions'\">\n          <!-- view bus -->\n          <a :href=\"`/admin/routes/${props.row.id}`\" title=\"View\" class=\"pr-1\">\n            <i class=\"ti-eye fs-16 text-info\"></i>\n          </a>\n          <!-- edit bus -->\n          <a\n            :href=\"`/admin/routes/${props.row.id}/edit`\"\n            title=\"Edit\"\n            class=\"pr-1\"\n          >\n            <i class=\"fa fa-pencil-alt fs-16 text-success\"></i>\n          </a>\n          <!-- delete bus -->\n          <a\n            title=\"Delete\"\n            href=\"#\"\n            @click.prevent=\"deleteRoute({ ...props.row })\"\n          >\n            <i class=\"fa fa-trash fs-16 text-danger\"></i>\n          </a>\n        </span>\n\n        <span v-else-if=\"props.column.field == 'bus_name'\">\n          {{ props.row.bus.bus_name }}\n        </span>\n\n        <span v-else-if=\"props.column.field == 'fare'\">\n          <span\n            class=\"badge py-1 px-2 badge-success mr-1\"\n            v-for=\"seatClass in props.row.seatClassesFare\"\n            :key=\"seatClass.id\"\n          >\n            {{ seatClass.name }} - {{ seatClass.currencyCode\n            }}{{ seatClass.fare }}\n          </span>\n        </span>\n\n        <span v-else-if=\"props.column.field == 'status'\">\n          <span\n            :class=\"`badge py-1 px-2 badge-outline-${\n              props.row.status ? 'success' : 'danger'\n            }`\"\n          >\n            {{ props.row.status ? \"Active\" : \"Inactive\" }}\n          </span>\n        </span>\n      </template>\n    </vue-good-table>\n\n    <!-- <delete-bus\n      @update=\"fetchBuses(false)\"\n      :bus=\"selectedBus\"\n    ></delete-bus> -->\n  </div>\n</template>\n\n<script>\n// const deleteRoute = () => import(\"./deleteRoute.vue\");\n\nexport default {\n  //   components: { deleteRoute },\n  props: {\n    bus_id: {\n      default: null,\n    },\n  },\n  data() {\n    return {\n      isLoading: false,\n      routes: [],\n      selectedRoute: {},\n    };\n  },\n  computed: {\n    columns() {\n      let columns = [\n        {\n          label: \"Bus Name\",\n          field: \"bus_name\",\n        },\n        {\n          label: \"Pickup Point\",\n          field: \"board_point\",\n        },\n        {\n          label: \"Pickup Time\",\n          field: \"board_time\",\n        },\n        {\n          label: \"Drop Off Point\",\n          field: \"drop_point\",\n        },\n        {\n          label: \"Drop Off Time\",\n          field: \"drop_time\",\n        },\n        {\n          label: \"Fare\",\n          field: \"fare\",\n        },\n        {\n          label: \"Status\",\n          field: \"status\",\n        },\n        // {\n        //   label: \"Cretaed At\",\n        //   field: \"created_at\",\n        //   type: \"date\",\n        //   thClass: \"text-left\",\n        //   tdClass: \"text-left\",\n        //   dateInputFormat: \"yyyy-MM-dd HH:mm:ss\",\n        //   dateOutputFormat: \"MMM do yyyy HH:mm\",\n        // },\n        {\n          label: \"Actions\",\n          field: \"actions\",\n          html: true,\n          tdClass: \"text-center\",\n          thClass: \"text-center\",\n          sortable: false,\n        },\n      ];\n      if (this.bus_id) {\n          columns.shift();\n      }\n      return columns;\n    },\n  },\n  methods: {\n    fetchRoutes(pageLoad = true) {\n      this.$store.dispatch(\"startLoading\");\n      this.isLoading = pageLoad;\n\n      let url = \"/admin/routes\";\n\n      if (this.bus_id) {\n        url += `?bus=${this.bus_id}`;\n      }\n\n      axios\n        .get(url)\n        .then((res) => {\n          this.routes = res.data.data;\n\n          this.$store.dispatch(\"stopLoading\");\n          this.isLoading = false;\n        })\n        .catch((res) => {\n          this.$store.dispatch(\"stopLoading\");\n          this.isLoading = false;\n        });\n    },\n    deleteRoute(route) {\n      this.selecteRoute = route;\n      $(\"#delete-route\").modal(\"show\");\n    },\n  },\n  created() {\n    this.fetchRoutes();\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoutesTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoutesTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoutesTable.vue?vue&type=template&id=7af98b27&\"\nimport script from \"./RoutesTable.vue?vue&type=script&lang=js&\"\nexport * from \"./RoutesTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isLoading)?_c('div',{staticClass:\"mb-5\",staticStyle:{\"height\":\"300px\"}},[_c('spinner',{staticClass:\"loading_page\",attrs:{\"lg\":true}})],1):_c('vue-good-table',{attrs:{\"columns\":_vm.columns,\"rows\":_vm.routes,\"search-options\":{\n      placeholder: 'Search this table',\n      enabled: true,\n    },\"pagination-options\":{\n      enabled: true,\n      mode: 'records',\n      nextLabel: 'next',\n      prevLabel: 'prev',\n    },\"select-options\":{\n      enabled: true,\n      clearSelectionText: 'clear',\n      selectOnCheckboxOnly: true,\n    },\"sort-options\":{\n      enabled: true,\n    },\"styleClass\":\"vgt-table tableOne table-hover\"},scopedSlots:_vm._u([{key:\"table-row\",fn:function(props){return [(props.column.field == 'actions')?_c('span',[_c('a',{staticClass:\"pr-1\",attrs:{\"href\":(\"/admin/routes/\" + (props.row.id)),\"title\":\"View\"}},[_c('i',{staticClass:\"ti-eye fs-16 text-info\"})]),_vm._v(\" \"),_c('a',{staticClass:\"pr-1\",attrs:{\"href\":(\"/admin/routes/\" + (props.row.id) + \"/edit\"),\"title\":\"Edit\"}},[_c('i',{staticClass:\"fa fa-pencil-alt fs-16 text-success\"})]),_vm._v(\" \"),_c('a',{attrs:{\"title\":\"Delete\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteRoute(Object.assign({}, props.row))}}},[_c('i',{staticClass:\"fa fa-trash fs-16 text-danger\"})])]):(props.column.field == 'bus_name')?_c('span',[_vm._v(\"\\n        \"+_vm._s(props.row.bus.bus_name)+\"\\n      \")]):(props.column.field == 'fare')?_c('span',_vm._l((props.row.seatClassesFare),function(seatClass){return _c('span',{key:seatClass.id,staticClass:\"badge py-1 px-2 badge-success mr-1\"},[_vm._v(\"\\n          \"+_vm._s(seatClass.name)+\" - \"+_vm._s(seatClass.currencyCode)+_vm._s(seatClass.fare)+\"\\n        \")])}),0):(props.column.field == 'status')?_c('span',[_c('span',{class:(\"badge py-1 px-2 badge-outline-\" + (props.row.status ? 'success' : 'danger'))},[_vm._v(\"\\n          \"+_vm._s(props.row.status ? \"Active\" : \"Inactive\")+\"\\n        \")])]):_vm._e()]}}])},[_c('div',{attrs:{\"slot\":\"selected-row-actions\"},slot:\"selected-row-actions\"},[_c('button',{staticClass:\"btn btn-danger btn-sm\"},[_vm._v(\"Delete\")])]),_vm._v(\" \"),_c('div',{staticClass:\"mt-2 mb-3\",attrs:{\"slot\":\"table-actions\"},slot:\"table-actions\"},[_c('a',{staticClass:\"btn-sm btn btn-primary btn-rounded btn-icon m-1 ripple\",attrs:{\"href\":\"/admin/routes/create\"}},[_c('span',{staticClass:\"ul-btn__icon\"},[_c('i',{staticClass:\"feather-icon\",attrs:{\"data-feather\":\"plus-circle\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"ul-btn__text ml-1\"},[_vm._v(\"Create\")])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}