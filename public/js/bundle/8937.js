(self.webpackChunk=self.webpackChunk||[]).push([[8937],{18937:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>s});const a={components:{CreateDropOffPoint:function(){return o.e(7315).then(o.bind(o,57315))},EditDropOffPoint:function(){return o.e(1393).then(o.bind(o,11393))},DeleteDropOffPoint:function(){return o.e(747).then(o.bind(o,80747))}},props:{smallTable:{type:Boolean},defaultCreateRoute:{default:""}},data:function(){return{isLoading:!1,dropoffPoints:[],selectedDropoffPoint:{}}},computed:{columns:function(){return this.smallTable?[{label:"Dropoff Point",field:"drop_off_point"},{label:"Dropoff Time",field:"drop_time"},{label:"Status",field:"status",html:!0},{label:"Actions",field:"actions",html:!0,tdClass:"text-center",thClass:"text-center",sortable:!1}]:[{label:"Route",field:"route"},{label:"Dropoff Point",field:"drop_off_point"},{label:"Dropoff Time",field:"drop_time"},{label:"Address",field:"address"},{label:"Landmark",field:"landmark"},{label:"Status",field:"status",html:!0},{label:"Cretaed At",field:"created_at",type:"date",thClass:"text-left",tdClass:"text-left",dateInputFormat:"yyyy-MM-dd HH:mm:ss",dateOutputFormat:"MMM do yyyy HH:mm"},{label:"Actions",field:"actions",html:!0,tdClass:"text-center",thClass:"text-center",sortable:!1}]}},methods:{fetchDropoffPoints:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$store.dispatch("startLoading"),this.isLoading=e;var o="/admin/drop-off-points";this.defaultCreateRoute&&(o+="?route=".concat(this.defaultCreateRoute)),axios.get(o).then((function(e){t.dropoffPoints=e.data.data,t.$store.dispatch("stopLoading"),t.isLoading=!1})).catch((function(e){t.$store.dispatch("stopLoading"),t.isLoading=!1}))},editDropoffPoint:function(t){this.selectedDropoffPoint=t,$("#edit-dropoff-point").modal("show")},deleteDropoffPoint:function(t){this.selectedDropoffPoint=t,$("#delete-dropoff-point").modal("show")}},created:function(){this.fetchDropoffPoints()}};const s=(0,o(51900).Z)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.isLoading?o("div",{staticClass:"mb-5",staticStyle:{height:"300px"}},[o("spinner",{staticClass:"loading_page",attrs:{lg:!0}})],1):o("vue-good-table",{attrs:{columns:t.columns,rows:t.dropoffPoints,"search-options":{placeholder:"Search this table",enabled:!0},"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},"select-options":{enabled:!0,clearSelectionText:"clear",selectOnCheckboxOnly:!0},"sort-options":{enabled:!0},styleClass:"vgt-table tableOne table-hover"},scopedSlots:t._u([{key:"table-row",fn:function(e){return["actions"==e.column.field?o("span",[o("a",{staticClass:"pr-1",attrs:{href:"#",title:"Edit"},on:{click:function(o){return o.preventDefault(),t.editDropoffPoint(Object.assign({},e.row))}}},[o("i",{staticClass:"fa fa-pencil-alt fs-16 text-success"})]),t._v(" "),o("a",{attrs:{title:"Delete",href:"#"},on:{click:function(o){return o.preventDefault(),t.deleteDropoffPoint(Object.assign({},e.row))}}},[o("i",{staticClass:"fa fa-trash fs-16 text-danger"})])]):"route"==e.column.field?o("span",[o("a",{attrs:{href:"/admin/routes/"+e.row.route.id}},[t._v(t._s(e.row.route.route_name))])]):"status"==e.column.field?o("span",[o("span",{class:"badge py-1 px-2 badge-outline-"+(e.row.status?"success":"danger")},[t._v("\n          "+t._s(e.row.status?"Active":"Inactive")+"\n        ")])]):t._e()]}}])},[o("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[o("button",{staticClass:"btn btn-danger btn-sm"},[t._v("Delete")])]),t._v(" "),o("div",{staticClass:"mt-2 mb-3",attrs:{slot:"table-actions"},slot:"table-actions"},[o("button",{staticClass:"btn-sm btn btn-primary btn-rounded btn-icon m-1 ripple",attrs:{"data-toggle":"modal","data-target":"#create-dropoff-point"}},[o("span",{staticClass:"ul-btn__icon"},[o("i",{staticClass:"feather-icon",attrs:{"data-feather":"plus-circle"}})]),t._v(" "),o("span",{staticClass:"ul-btn__text ml-1"},[t._v("Create")])])])]),t._v(" "),o("create-drop-off-point",{attrs:{"default-route":t.defaultCreateRoute},on:{update:function(e){return t.fetchDropoffPoints(!1)}}}),t._v(" "),o("edit-drop-off-point",{attrs:{dropOffPoint:t.selectedDropoffPoint},on:{update:function(e){return t.fetchDropoffPoints(!1)}}}),t._v(" "),o("delete-drop-off-point",{attrs:{dropOffPoint:t.selectedDropoffPoint},on:{update:function(e){return t.fetchDropoffPoints(!1)}}})],1)}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=8937.js.map