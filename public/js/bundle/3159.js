/*! For license information please see 3159.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[3159],{74865:function(e,t,r){var s,a;void 0===(a="function"==typeof(s=function(){var e,t,r={version:"0.2.0"},s=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function a(e,t,r){return e<t?t:e>r?r:e}function n(e){return 100*(-1+e)}function o(e,t,r){var a;return(a="translate3d"===s.positionUsing?{transform:"translate3d("+n(e)+"%,0,0)"}:"translate"===s.positionUsing?{transform:"translate("+n(e)+"%,0)"}:{"margin-left":n(e)+"%"}).transition="all "+t+"ms "+r,a}r.configure=function(e){var t,r;for(t in e)void 0!==(r=e[t])&&e.hasOwnProperty(t)&&(s[t]=r);return this},r.status=null,r.set=function(e){var t=r.isStarted();e=a(e,s.minimum,1),r.status=1===e?null:e;var n=r.render(!t),u=n.querySelector(s.barSelector),l=s.speed,c=s.easing;return n.offsetWidth,i((function(t){""===s.positionUsing&&(s.positionUsing=r.getPositioningCSS()),d(u,o(e,l,c)),1===e?(d(n,{transition:"none",opacity:1}),n.offsetWidth,setTimeout((function(){d(n,{transition:"all "+l+"ms linear",opacity:0}),setTimeout((function(){r.remove(),t()}),l)}),l)):setTimeout(t,l)})),this},r.isStarted=function(){return"number"==typeof r.status},r.start=function(){r.status||r.set(0);var e=function(){setTimeout((function(){r.status&&(r.trickle(),e())}),s.trickleSpeed)};return s.trickle&&e(),this},r.done=function(e){return e||r.status?r.inc(.3+.5*Math.random()).set(1):this},r.inc=function(e){var t=r.status;return t?("number"!=typeof e&&(e=(1-t)*a(Math.random()*t,.1,.95)),t=a(t+e,0,.994),r.set(t)):r.start()},r.trickle=function(){return r.inc(Math.random()*s.trickleRate)},e=0,t=0,r.promise=function(s){return s&&"resolved"!==s.state()?(0===t&&r.start(),e++,t++,s.always((function(){0==--t?(e=0,r.done()):r.set((e-t)/e)})),this):this},r.render=function(e){if(r.isRendered())return document.getElementById("nprogress");l(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=s.template;var a,o=t.querySelector(s.barSelector),i=e?"-100":n(r.status||0),u=document.querySelector(s.parent);return d(o,{transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),s.showSpinner||(a=t.querySelector(s.spinnerSelector))&&m(a),u!=document.body&&l(u,"nprogress-custom-parent"),u.appendChild(t),t},r.remove=function(){c(document.documentElement,"nprogress-busy"),c(document.querySelector(s.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&m(e)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var i=function(){var e=[];function t(){var r=e.shift();r&&r(t)}return function(r){e.push(r),1==e.length&&t()}}(),d=function(){var e=["Webkit","O","Moz","ms"],t={};function r(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()}))}function s(t){var r=document.body.style;if(t in r)return t;for(var s,a=e.length,n=t.charAt(0).toUpperCase()+t.slice(1);a--;)if((s=e[a]+n)in r)return s;return t}function a(e){return e=r(e),t[e]||(t[e]=s(e))}function n(e,t,r){t=a(t),e.style[t]=r}return function(e,t){var r,s,a=arguments;if(2==a.length)for(r in t)void 0!==(s=t[r])&&t.hasOwnProperty(r)&&n(e,r,s);else n(e,a[1],a[2])}}();function u(e,t){return("string"==typeof e?e:p(e)).indexOf(" "+t+" ")>=0}function l(e,t){var r=p(e),s=r+t;u(r,t)||(e.className=s.substring(1))}function c(e,t){var r,s=p(e);u(e,t)&&(r=s.replace(" "+t+" "," "),e.className=r.substring(1,r.length-1))}function p(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function m(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return r})?s.call(t,r,t,e):s)||(e.exports=a)},83159:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(74865),a=r.n(s);const n={props:{user:{type:Object,required:!0}},data:function(){return{isLoading:!1}},computed:{loading:function(){return this.$store.getters.loading}},watch:{loading:function(e){e?(a().start(),a().set(.1)):a().done()}},methods:{updatePassword:function(){var e=this;this.$store.dispatch("startLoading"),this.$refs.updatePassword.validate().then((function(t){axios.post("/profile/password",{password:e.user.password,password_confirmation:e.user.password_confirmation,old_password:e.user.old_password}).then((function(t){e.user.password=e.user.password_confirmation=null,e.$store.dispatch("stopLoading"),e.showSuccessToast("Your password was updated successfully")})).catch((function(t){console.log(t),e.$store.dispatch("stopLoading");var r=t.response.data.message||"There was a problem updating your password";e.showErrorToast(r)}))})).catch((function(e){console.log(e)}))},updateUserDetails:function(){var e=this;this.$store.dispatch("startLoading"),this.$refs.updateUserDetails.validate().then((function(t){axios.post("/profile/profile",{name:e.user.name,email:e.user.email,phone:e.user.phone}).then((function(t){e.$store.dispatch("stopLoading"),e.showSuccessToast("Your user details were updated successfully")})).catch((function(t){console.log(t),e.$store.dispatch("stopLoading"),e.showErrorToast("There was a problem updating your details")}))})).catch((function(e){return console.log(e)}))},getValidationState:function(e){var t=e.dirty,r=e.validated,s=e.valid;return t||r?(void 0===s?null:s)?"is-valid":"is-invalid":""}}};const o=(0,r(51900).Z)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mx-2 mx-md-3 mt-3"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[e.isLoading?r("div",{staticClass:"mb-5",staticStyle:{height:"300px"}},[r("spinner",{staticClass:"loading_page",attrs:{lg:!0}})],1):r("div",[r("validation-observer",{ref:"updateUserDetails"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.updateUserDetails.apply(null,arguments)}}},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("validation-provider",{attrs:{name:"Name",rules:{required:!0,min:2,max:55}},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[e._v("Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.name,expression:"user.name",modifiers:{trim:!0}}],class:"form-control "+e.getValidationState(t),attrs:{type:"text",placeholder:"Name",id:"name","aria-describedby":"Name-feedback"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("div",{staticClass:"invalid-feedback w-100",attrs:{id:"Name-feedback"}},[e._v("\n                      "+e._s(t.errors[0])+"\n                    ")])])]}}])}),e._v(" "),r("validation-provider",{attrs:{name:"Name",rules:{required:!0,email:!0}},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[e._v("Email")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.email,expression:"user.email",modifiers:{trim:!0}}],class:"form-control "+e.getValidationState(t),attrs:{type:"email",placeholder:"Email",id:"email","aria-describedby":"email-feedback"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("div",{staticClass:"invalid-feedback w-100",attrs:{id:"email-feedback"}},[e._v("\n                      "+e._s(t.errors[0])+"\n                    ")])])]}}])}),e._v(" "),r("validation-provider",{attrs:{name:"Phone",rules:{required:!0,regex:/^(0|\+?254)(\d){9}$/}},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[e._v("Phone")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.phone,expression:"user.phone",modifiers:{trim:!0}}],class:"form-control "+e.getValidationState(t),attrs:{type:"text",placeholder:"Phone number",id:"name","aria-describedby":"phone-feedback"},domProps:{value:e.user.phone},on:{input:function(t){t.target.composing||e.$set(e.user,"phone",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("div",{staticClass:"invalid-feedback w-100",attrs:{id:"phone-feedback"}},[e._v("\n                      "+e._s(t.errors[0])+"\n                    ")])])]}}])}),e._v(" "),r("div",{staticClass:"col-md-12 text-right mt-4"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("\n                    Update\n                  ")])])],1)])])])],1)]),e._v(" "),r("div",{staticClass:"col-md-6"},[e.isLoading?r("div",{staticClass:"mb-5",staticStyle:{height:"300px"}},[r("spinner",{staticClass:"loading_page",attrs:{lg:!0}})],1):r("div",[r("validation-observer",{ref:"updatePassword"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.updatePassword.apply(null,arguments)}}},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("validation-provider",{attrs:{name:"Old Password",rules:{required:!0},vid:"old-password"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[e._v("Old Password")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.old_password,expression:"user.old_password",modifiers:{trim:!0}}],class:"form-control "+e.getValidationState(t),attrs:{type:"password",placeholder:"Old Password",id:"password","aria-describedby":"password-feedback"},domProps:{value:e.user.old_password},on:{input:function(t){t.target.composing||e.$set(e.user,"old_password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("div",{staticClass:"invalid-feedback w-100",attrs:{id:"password-feedback"}},[e._v("\n                      "+e._s(t.errors[0])+"\n                    ")])])]}}])}),e._v(" "),r("validation-provider",{attrs:{name:"Password",rules:{required:!0,min:8},vid:"password"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[e._v("Password")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.password,expression:"user.password",modifiers:{trim:!0}}],class:"form-control "+e.getValidationState(t),attrs:{type:"password",placeholder:"Password",id:"password","aria-describedby":"password-feedback"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("div",{staticClass:"invalid-feedback w-100",attrs:{id:"password-feedback"}},[e._v("\n                      "+e._s(t.errors[0])+"\n                    ")])])]}}])}),e._v(" "),r("validation-provider",{attrs:{name:"Confirm Password",rules:{required:!0,confirmed:"password"}},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[e._v("Confirm Password")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.password_confirmation,expression:"user.password_confirmation",modifiers:{trim:!0}}],class:"form-control "+e.getValidationState(t),attrs:{type:"password",placeholder:"Confirm Password",id:"r-password","aria-describedby":"rp-feedback"},domProps:{value:e.user.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.user,"password_confirmation",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("div",{staticClass:"invalid-feedback w-100",attrs:{id:"rp-feedback"}},[e._v("\n                      "+e._s(t.errors[0])+"\n                    ")])])]}}])}),e._v(" "),r("div",{staticClass:"col-md-12 text-right mt-4"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("\n                    Update\n                  ")])])],1)])])])],1)])])])}),[],!1,null,null,null).exports},51900:(e,t,r)=>{"use strict";function s(e,t,r,s,a,n,o,i){var d,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=r,u._compiled=!0),s&&(u.functional=!0),n&&(u._scopeId="data-v-"+n),o?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=d):a&&(d=i?function(){a.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:a),d)if(u.functional){u._injectStyles=d;var l=u.render;u.render=function(e,t){return d.call(t),l(e,t)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,d):[d]}return{exports:e,options:u}}r.d(t,{Z:()=>s})}}]);
//# sourceMappingURL=3159.js.map