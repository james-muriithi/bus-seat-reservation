(self.webpackChunk=self.webpackChunk||[]).push([[8060],{67915:(t,r,e)=>{"use strict";e.d(r,{Z:()=>l});var a=e(94015),s=e.n(a),n=e(23645),i=e.n(n)()(s());i.push([t.id,".ml-2[data-v-1a831190]{margin-left:8px}.ml-auto[data-v-1a831190]{margin-left:auto}.text-right[data-v-1a831190]{text-align:right}.modal[data-v-1a831190]{background-color:#fff;box-sizing:border-box;display:block;font-size:20px;position:static;text-align:center;width:450px}.seat[data-v-1a831190]{cursor:pointer;transform:rotate(90deg)}.seat.disabled[data-v-1a831190]{cursor:default}.seat-label[data-v-1a831190]{color:#333;font-size:23px;font-weight:700}.cls-selected[data-v-1a831190]{fill:green;stroke:#000;stroke-miterlimit:10}.cls-disabled[data-v-1a831190]{fill:var(--disabled-fill)!important;stroke:var(--disabled-stroke)!important;stroke-miterlimit:10}.cls-ra[data-v-1a831190]:not(.cls-disabled){fill:var(--fill)!important;stroke:var(--stroke)!important;stroke-miterlimit:10;stroke-width:1}.cls-rb[data-v-1a831190]{fill:gray;stroke:#000}.cls-fa[data-v-1a831190],.cls-rb[data-v-1a831190]{stroke-miterlimit:10}.cls-fa[data-v-1a831190]{fill:#fff}.cls-fb[data-v-1a831190]{fill:pink;stroke:red;stroke-miterlimit:10}.cls-ma[data-v-1a831190]{fill:#fff}.cls-ma[data-v-1a831190],.cls-mb[data-v-1a831190]{stroke:blue;stroke-miterlimit:10}.cls-mb[data-v-1a831190]{fill:#4169e1}.modal-mask[data-v-1a831190]{background-color:rgba(0,0,0,.5);display:table;height:100%;left:0;position:fixed;top:0;transition:opacity .3s ease;width:100%;z-index:9998}.modal-wrapper[data-v-1a831190]{display:table-cell;vertical-align:middle}","",{version:3,sources:["webpack://./resources/js/components/buses/modules/Seat.vue"],names:[],mappings:"AAwJA,uBACA,eACA,CACA,0BACA,gBACA,CACA,6BACA,gBACA,CAEA,wBAGA,qBAAA,CADA,qBAAA,CAIA,aAAA,CAFA,cAAA,CAGA,eAAA,CAFA,iBAAA,CAJA,WAOA,CACA,uBAMA,cAAA,CADA,uBAEA,CAEA,gCACA,cAEA,CACA,6BAGA,UAAA,CAFA,cAAA,CACA,eAEA,CACA,+BACA,UAAA,CACA,WAAA,CACA,oBACA,CACA,+BACA,mCAAA,CACA,uCAAA,CACA,oBACA,CACA,4CAGA,0BAAA,CACA,8BAAA,CACA,oBAAA,CACA,cACA,CACA,yBACA,SAAA,CACA,WAEA,CACA,kDAFA,oBAKA,CAHA,yBACA,SAEA,CACA,yBACA,SAAA,CACA,UAAA,CACA,oBACA,CACA,yBACA,SAGA,CACA,kDAHA,WAAA,CACA,oBAMA,CAJA,yBACA,YAGA,CACA,6BAOA,+BAAA,CACA,aAAA,CAFA,WAAA,CAFA,MAAA,CAHA,cAAA,CAEA,KAAA,CAMA,2BAAA,CAJA,UAAA,CAHA,YAQA,CAEA,gCACA,kBAAA,CACA,qBACA",sourcesContent:['<template>\r\n  <span :style="seatClassColors()" :title="seatTooltip()">\r\n    <svg\r\n      id="Layer_1"\r\n      data-name="Layer 1"\r\n      :class="`seat${disabled ? \' disabled\' : \'\'}`"\r\n      xmlns="http://www.w3.org/2000/svg"\r\n      viewBox="0 0 100 100"\r\n    >\r\n      <path\r\n        :class="`${classifier(idxr, idxc)}${disabled ? \' cls-disabled\' : \'\'}`"\r\n        d="M36,17.3H80.4a8.88,8.88,0,0,1,6.72-7.25A5.77,5.77,0,0,0,81.57,6H36a5.72,5.72,0,0,0-5.76,5.66A5.71,5.71,0,0,0,36,17.3Z"\r\n      />\r\n      <path\r\n        :class="classifier(idxr, idxc)"\r\n        d="M80.29,82.79H36A5.66,5.66,0,1,0,36,94.1H81.47a6.13,6.13,0,0,0,5.44-3.41A8.77,8.77,0,0,1,80.29,82.79Z"\r\n      />\r\n      <path\r\n        :class="seatCentre(idxr, idxc)"\r\n        d="M80.08,79.7V20.5H35.92A8.85,8.85,0,0,1,27.17,13h-18a4,4,0,0,0-4.06,4V82.79a4,4,0,0,0,4.06,3.95H27.28a8.65,8.65,0,0,1,8.75-7Z"\r\n      />\r\n      <path\r\n        :class="classifier(idxr, idxc)"\r\n        d="M89.15,12.93a5.71,5.71,0,0,0-5.76,5.65V82.15a5.76,5.76,0,0,0,11.52,0V18.58A5.71,5.71,0,0,0,89.15,12.93Z"\r\n      />\r\n      <path\r\n        :class="classifier(idxr, idxc)"\r\n        d="M90.21,9.94a8.93,8.93,0,0,0-8.74-7H36a8.94,8.94,0,0,0-8.75,6.93H9.15A7.22,7.22,0,0,0,2,17V82.79a7.06,7.06,0,0,0,7.15,7h18a8.85,8.85,0,0,0,8.75,7.26H81.47A8.91,8.91,0,0,0,90,90.9a8.81,8.81,0,0,0,8-8.75V18.58A8.84,8.84,0,0,0,90.21,9.94ZM36,6H81.57a5.77,5.77,0,0,1,5.55,4.06A8.88,8.88,0,0,0,80.4,17.3H36a5.71,5.71,0,0,1-5.76-5.65A5.72,5.72,0,0,1,36,6ZM27.28,86.74H9.15a4,4,0,0,1-4.06-3.95V17a4,4,0,0,1,4.06-4h18a8.85,8.85,0,0,0,8.75,7.47H80.08V79.7H36A8.65,8.65,0,0,0,27.28,86.74ZM81.47,94.1H36a5.66,5.66,0,1,1,0-11.31H80.29a8.77,8.77,0,0,0,6.62,7.9A6.13,6.13,0,0,1,81.47,94.1ZM94.91,82.15a5.76,5.76,0,0,1-11.52,0V18.58a5.76,5.76,0,0,1,11.52,0Z"\r\n      />\r\n      <text\r\n        class="seat-label"\r\n        x="30"\r\n        y="70"\r\n        text-anchor="middle"\r\n        dominant-baseline="central"\r\n        transform="rotate(270, 25, 55)"\r\n      >\r\n        {{ seat.seat_number }}\r\n      </text>\r\n    </svg>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  inject: ["getSeat", "getSeatWithRC", "seatClasses"],\r\n  props: {\r\n    idxr: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    idxc: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    seat: {\r\n      type: Object,\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    seatTitle: {\r\n      type: String,\r\n      default: "",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      open: false,\r\n      defaultSeatClassId: this.seat.class.id || "",\r\n    };\r\n  },\r\n  computed: {\r\n    defaultSeatClass: {\r\n      get: function () {\r\n        return this.defaultSeatClassId;\r\n      },\r\n      set: function (value) {\r\n        this.defaultSeatClassId = value;\r\n      },\r\n    },\r\n  },\r\n  watch: {\r\n    // seat() {\r\n    //   this.defaultSeatClass = this.seat.class.id;\r\n    // }\r\n  },\r\n  methods: {\r\n    seatCentre(r, c) {\r\n      let seat = this.getSeatWithRC(r, c);\r\n      if (seat != null) {\r\n        if (seat.disabled || seat.booked) {\r\n          return "cls-ra cls-disabled ";\r\n        }\r\n        return "cls-fa";\r\n      }\r\n    },\r\n    classifier(r, c) {\r\n      let seat = this.getSeatWithRC(r, c);\r\n      if (seat != null) {\r\n        if (seat.disabled || seat.booked) {\r\n          return "cls-ra cls-disabled ";\r\n        }\r\n\r\n        return "cls-ra";\r\n      }\r\n    },\r\n    getSeatClass(id) {\r\n      return this.seatClasses.find((seatClass) => seatClass.id == id);\r\n    },\r\n    seatClassColors() {\r\n      let data = {};\r\n      if (this.seat.disabled || !!this.seat.booked) {\r\n        data = {\r\n          "--disabled-stroke": "#ada9a9",\r\n          "--disabled-fill": "#ada9a9",\r\n        };\r\n      } else if (this.seat.class) {\r\n        const seatClass = this.getSeatClass(this.seat.class.id);\r\n        data = {\r\n          "--stroke": "transparent",\r\n          "--fill": seatClass.color,\r\n        };\r\n      }\r\n\r\n      return data;\r\n    },\r\n    seatTooltip() {\r\n      let title = "";\r\n      if (this.seat.disabled) {\r\n        title = `Disabled | `;\r\n      } else if (!!this.seat.booked) {\r\n        title = "Booked | ";\r\n      }\r\n\r\n      title += `${this.seat.seat_number}`;\r\n\r\n      if (!this.seat.disabled) {\r\n        title += ` | ${this.seat.class.name}`;\r\n      }\r\n\r\n      if (this.seat.booked && this.seat.passenger) {\r\n        title += ` | ${this.seat.passenger}`;\r\n      }\r\n      return title;\r\n    },\r\n  },\r\n};\r\n<\/script>\r\n\r\n<style scoped>\r\n.ml-2 {\r\n  margin-left: 8px;\r\n}\r\n.ml-auto {\r\n  margin-left: auto;\r\n}\r\n.text-right {\r\n  text-align: right;\r\n}\r\n\r\n.modal {\r\n  width: 450px;\r\n  box-sizing: border-box;\r\n  background-color: #fff;\r\n  font-size: 20px;\r\n  text-align: center;\r\n  display: block;\r\n  position: initial;\r\n}\r\n.seat {\r\n  -webkit-transform: rotate(90deg);\r\n  -moz-transform: rotate(90deg);\r\n  -o-transform: rotate(90deg);\r\n  -ms-transform: rotate(90deg);\r\n  transform: rotate(90deg);\r\n  cursor: pointer;\r\n}\r\n\r\n.seat.disabled {\r\n  cursor: default;\r\n  /* pointer-events:none; */\r\n}\r\n.seat-label {\r\n  font-size: 23px;\r\n  font-weight: 700;\r\n  color: #333;\r\n}\r\n.cls-selected {\r\n  fill: green;\r\n  stroke: #000;\r\n  stroke-miterlimit: 10;\r\n}\r\n.cls-disabled {\r\n  fill: var(--disabled-fill) !important;\r\n  stroke: var(--disabled-stroke) !important;\r\n  stroke-miterlimit: 10;\r\n}\r\n.cls-ra:not(.cls-disabled) {\r\n  /* fill: #fff;\r\n  stroke: rgb(7, 7, 7); */\r\n  fill: var(--fill) !important;\r\n  stroke: var(--stroke) !important;\r\n  stroke-miterlimit: 10;\r\n  stroke-width: 1;\r\n}\r\n.cls-rb {\r\n  fill: gray;\r\n  stroke: #000;\r\n  stroke-miterlimit: 10;\r\n}\r\n.cls-fa {\r\n  fill: #fff;\r\n  stroke-miterlimit: 10;\r\n}\r\n.cls-fb {\r\n  fill: pink;\r\n  stroke: red;\r\n  stroke-miterlimit: 10;\r\n}\r\n.cls-ma {\r\n  fill: #fff;\r\n  stroke: blue;\r\n  stroke-miterlimit: 10;\r\n}\r\n.cls-mb {\r\n  fill: royalblue;\r\n  stroke: blue;\r\n  stroke-miterlimit: 10;\r\n}\r\n.modal-mask {\r\n  position: fixed;\r\n  z-index: 9998;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: table;\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.modal-wrapper {\r\n  display: table-cell;\r\n  vertical-align: middle;\r\n}\r\n</style>\r\n'],sourceRoot:""}]);const l=i},50534:(t,r,e)=>{"use strict";e.d(r,{Z:()=>o});const a={inject:["getSeat","getSeatWithRC","seatClasses"],props:{idxr:{type:Number,required:!0},idxc:{type:Number,required:!0},seat:{type:Object},disabled:{type:Boolean,default:!1},seatTitle:{type:String,default:""}},data:function(){return{open:!1,defaultSeatClassId:this.seat.class.id||""}},computed:{defaultSeatClass:{get:function(){return this.defaultSeatClassId},set:function(t){this.defaultSeatClassId=t}}},watch:{},methods:{seatCentre:function(t,r){var e=this.getSeatWithRC(t,r);if(null!=e)return e.disabled||e.booked?"cls-ra cls-disabled ":"cls-fa"},classifier:function(t,r){var e=this.getSeatWithRC(t,r);if(null!=e)return e.disabled||e.booked?"cls-ra cls-disabled ":"cls-ra"},getSeatClass:function(t){return this.seatClasses.find((function(r){return r.id==t}))},seatClassColors:function(){var t={};if(this.seat.disabled||this.seat.booked)t={"--disabled-stroke":"#ada9a9","--disabled-fill":"#ada9a9"};else if(this.seat.class){t={"--stroke":"transparent","--fill":this.getSeatClass(this.seat.class.id).color}}return t},seatTooltip:function(){var t="";return this.seat.disabled?t="Disabled | ":this.seat.booked&&(t="Booked | "),t+="".concat(this.seat.seat_number),this.seat.disabled||(t+=" | ".concat(this.seat.class.name)),this.seat.booked&&this.seat.passenger&&(t+=" | ".concat(this.seat.passenger)),t}}};var s=e(93379),n=e.n(s),i=e(67915),l={insert:"head",singleton:!1};n()(i.Z,l);i.Z.locals;const o=(0,e(51900).Z)(a,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("span",{style:t.seatClassColors(),attrs:{title:t.seatTooltip()}},[e("svg",{class:"seat"+(t.disabled?" disabled":""),attrs:{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"}},[e("path",{class:t.classifier(t.idxr,t.idxc)+(t.disabled?" cls-disabled":""),attrs:{d:"M36,17.3H80.4a8.88,8.88,0,0,1,6.72-7.25A5.77,5.77,0,0,0,81.57,6H36a5.72,5.72,0,0,0-5.76,5.66A5.71,5.71,0,0,0,36,17.3Z"}}),t._v(" "),e("path",{class:t.classifier(t.idxr,t.idxc),attrs:{d:"M80.29,82.79H36A5.66,5.66,0,1,0,36,94.1H81.47a6.13,6.13,0,0,0,5.44-3.41A8.77,8.77,0,0,1,80.29,82.79Z"}}),t._v(" "),e("path",{class:t.seatCentre(t.idxr,t.idxc),attrs:{d:"M80.08,79.7V20.5H35.92A8.85,8.85,0,0,1,27.17,13h-18a4,4,0,0,0-4.06,4V82.79a4,4,0,0,0,4.06,3.95H27.28a8.65,8.65,0,0,1,8.75-7Z"}}),t._v(" "),e("path",{class:t.classifier(t.idxr,t.idxc),attrs:{d:"M89.15,12.93a5.71,5.71,0,0,0-5.76,5.65V82.15a5.76,5.76,0,0,0,11.52,0V18.58A5.71,5.71,0,0,0,89.15,12.93Z"}}),t._v(" "),e("path",{class:t.classifier(t.idxr,t.idxc),attrs:{d:"M90.21,9.94a8.93,8.93,0,0,0-8.74-7H36a8.94,8.94,0,0,0-8.75,6.93H9.15A7.22,7.22,0,0,0,2,17V82.79a7.06,7.06,0,0,0,7.15,7h18a8.85,8.85,0,0,0,8.75,7.26H81.47A8.91,8.91,0,0,0,90,90.9a8.81,8.81,0,0,0,8-8.75V18.58A8.84,8.84,0,0,0,90.21,9.94ZM36,6H81.57a5.77,5.77,0,0,1,5.55,4.06A8.88,8.88,0,0,0,80.4,17.3H36a5.71,5.71,0,0,1-5.76-5.65A5.72,5.72,0,0,1,36,6ZM27.28,86.74H9.15a4,4,0,0,1-4.06-3.95V17a4,4,0,0,1,4.06-4h18a8.85,8.85,0,0,0,8.75,7.47H80.08V79.7H36A8.65,8.65,0,0,0,27.28,86.74ZM81.47,94.1H36a5.66,5.66,0,1,1,0-11.31H80.29a8.77,8.77,0,0,0,6.62,7.9A6.13,6.13,0,0,1,81.47,94.1ZM94.91,82.15a5.76,5.76,0,0,1-11.52,0V18.58a5.76,5.76,0,0,1,11.52,0Z"}}),t._v(" "),e("text",{staticClass:"seat-label",attrs:{x:"30",y:"70","text-anchor":"middle","dominant-baseline":"central",transform:"rotate(270, 25, 55)"}},[t._v("\n      "+t._s(t.seat.seat_number)+"\n    ")])])])}),[],!1,null,"1a831190",null).exports},48060:(t,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>s});const a={components:{Seat:e(50534).Z},provide:function(){return{getSeat:this.getSeatWithSeatNumber,getSeatWithRC:this.getSeat}},props:{seats:{required:!0,type:Array},cols:{required:!0,type:Number},rows:{required:!0,type:Number},seat_prefix:{required:!0},aisleColumns:{default:function(){return[]},type:Array},aisleRows:{default:function(){return[]},type:Array},gaps:{type:Array,default:function(){return[]}},disabledSeats:{default:function(){return[]},type:Array}},data:function(){return{}},methods:{getSeat:function(t,r){return this.seats.find((function(e){return e.position.r==t&&e.position.c==r}))},getSeatWithSeatNumber:function(t){return this.seats.find((function(r){return r.seat_number==t}))},getSeatClass:function(t){return this.seatClasses.find((function(r){return r.id==t}))},isAisle:function(t,r){if(this.gaps.length>0&&this.gaps.some((function(e){var a=e.row,s=e.col;return a==r&&s==t})))return!0;if(this.aisleColumns.some((function(r){return r==t}))){if(this.aisleRows.some((function(t){return t==r})))return!0;if(r>=1&&r<=this.rows-1)return!0}else if(this.aisleRows.some((function(t){return t==r})))return!0;return!1},isAisleRow:function(t){return this.aisleRows.some((function(r){return r==t}))},isAisleColumn:function(t){return this.aisleColumns.some((function(r){return r==t}))},isDisabled:function(t,r){return this.disabledSeats.some((function(e){var a=e.row,s=e.col;return a==t&&s==r}))}}};const s=(0,e(51900).Z)(a,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return t.cols>0&&t.rows>0?e("div",[e("table",{staticClass:"mx-auto"},t._l(t.rows,(function(r,a){return e("tr",{key:"r-"+a},t._l(t.cols,(function(a,s){return e("td",{key:"c-"+s,staticStyle:{width:"55px",height:"55px",padding:"5px"}},[t.isAisle(a,r)?t._e():e("seat",{attrs:{idxc:a,idxr:r,seat:t.getSeat(r,a),disabled:t.isDisabled(r,a)}})],1)})),0)})),0)]):t._e()}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=8060.js.map